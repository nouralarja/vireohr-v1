{"dependencies":[{"name":"./util","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"DQ+NnsvRW532iS20nr5BN5Yr8jw="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.withDelay = withDelay;\n  var _util = _$$_REQUIRE(_dependencyMap[0], \"./util\");\n  function withDelay(delayMs, _nextAnimation) {\n    'worklet';\n\n    return (0, _util.defineAnimation)(_nextAnimation, function () {\n      'worklet';\n\n      var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n      function delay(animation, now) {\n        var startTime = animation.startTime,\n          started = animation.started,\n          previousAnimation = animation.previousAnimation;\n        if (now - startTime > delayMs) {\n          if (!started) {\n            nextAnimation.onStart(nextAnimation, animation.current, now, previousAnimation);\n            animation.previousAnimation = null;\n            animation.started = true;\n          }\n          var finished = nextAnimation.onFrame(nextAnimation, now);\n          animation.current = nextAnimation.current;\n          return finished;\n        } else if (previousAnimation) {\n          var _finished = previousAnimation.finished || previousAnimation.onFrame(previousAnimation, now);\n          animation.current = previousAnimation.current;\n          if (_finished) {\n            animation.previousAnimation = null;\n          }\n        }\n        return false;\n      }\n      function onStart(animation, value, now, previousAnimation) {\n        animation.startTime = now;\n        animation.started = false;\n        animation.current = value;\n        if (previousAnimation === animation) {\n          animation.previousAnimation = previousAnimation.previousAnimation;\n        } else {\n          animation.previousAnimation = previousAnimation;\n        }\n      }\n      var callback = function callback(finished) {\n        if (nextAnimation.callback) {\n          nextAnimation.callback(finished);\n        }\n      };\n      return {\n        isHigherOrder: true,\n        onFrame: delay,\n        onStart: onStart,\n        current: nextAnimation.current,\n        callback: callback,\n        previousAnimation: null,\n        startTime: 0,\n        started: false\n      };\n    });\n  }\n});","lineCount":63,"map":[[6,2,1,0],[6,6,1,0,"_util"],[6,11,1,0],[6,14,1,0,"_$$_REQUIRE"],[6,25,1,0],[6,26,1,0,"_dependencyMap"],[6,40,1,0],[7,2,2,7],[7,11,2,16,"withDelay"],[7,20,2,25,"withDelay"],[7,21,2,26,"delayMs"],[7,28,2,33],[7,30,2,35,"_nextAnimation"],[7,44,2,49],[7,46,2,51],[8,4,3,2],[8,13,3,11],[10,4,5,2],[10,11,5,9],[10,15,5,9,"defineAnimation"],[10,36,5,24],[10,38,5,25,"_nextAnimation"],[10,52,5,39],[10,54,5,41],[10,66,5,47],[11,6,6,4],[11,15,6,13],[13,6,8,4],[13,10,8,10,"nextAnimation"],[13,23,8,23],[13,26,8,26],[13,33,8,33,"_nextAnimation"],[13,47,8,47],[13,52,8,52],[13,62,8,62],[13,65,8,65,"_nextAnimation"],[13,79,8,79],[13,80,8,80],[13,81,8,81],[13,84,8,84,"_nextAnimation"],[13,98,8,98],[14,6,9,4],[14,15,9,13,"delay"],[14,20,9,18,"delay"],[14,21,9,19,"animation"],[14,30,9,28],[14,32,9,30,"now"],[14,35,9,33],[14,37,9,35],[15,8,10,6],[15,12,11,8,"startTime"],[15,21,11,17],[15,24,14,10,"animation"],[15,33,14,19],[15,34,11,8,"startTime"],[15,43,11,17],[16,10,12,8,"started"],[16,17,12,15],[16,20,14,10,"animation"],[16,29,14,19],[16,30,12,8,"started"],[16,37,12,15],[17,10,13,8,"previousAnimation"],[17,27,13,25],[17,30,14,10,"animation"],[17,39,14,19],[17,40,13,8,"previousAnimation"],[17,57,13,25],[18,8,15,6],[18,12,15,10,"now"],[18,15,15,13],[18,18,15,16,"startTime"],[18,27,15,25],[18,30,15,28,"delayMs"],[18,37,15,35],[18,39,15,37],[19,10,16,8],[19,14,16,12],[19,15,16,13,"started"],[19,22,16,20],[19,24,16,22],[20,12,17,10,"nextAnimation"],[20,25,17,23],[20,26,17,24,"onStart"],[20,33,17,31],[20,34,17,32,"nextAnimation"],[20,47,17,45],[20,49,17,47,"animation"],[20,58,17,56],[20,59,17,57,"current"],[20,66,17,64],[20,68,17,66,"now"],[20,71,17,69],[20,73,17,71,"previousAnimation"],[20,90,17,88],[20,91,17,89],[21,12,18,10,"animation"],[21,21,18,19],[21,22,18,20,"previousAnimation"],[21,39,18,37],[21,42,18,40],[21,46,18,44],[22,12,19,10,"animation"],[22,21,19,19],[22,22,19,20,"started"],[22,29,19,27],[22,32,19,30],[22,36,19,34],[23,10,20,8],[24,10,21,8],[24,14,21,14,"finished"],[24,22,21,22],[24,25,21,25,"nextAnimation"],[24,38,21,38],[24,39,21,39,"onFrame"],[24,46,21,46],[24,47,21,47,"nextAnimation"],[24,60,21,60],[24,62,21,62,"now"],[24,65,21,65],[24,66,21,66],[25,10,22,8,"animation"],[25,19,22,17],[25,20,22,18,"current"],[25,27,22,25],[25,30,22,28,"nextAnimation"],[25,43,22,41],[25,44,22,42,"current"],[25,51,22,49],[26,10,23,8],[26,17,23,15,"finished"],[26,25,23,23],[27,8,24,6],[27,9,24,7],[27,15,24,13],[27,19,24,17,"previousAnimation"],[27,36,24,34],[27,38,24,36],[28,10,25,8],[28,14,25,14,"finished"],[28,23,25,22],[28,26,25,25,"previousAnimation"],[28,43,25,42],[28,44,25,43,"finished"],[28,52,25,51],[28,56,25,55,"previousAnimation"],[28,73,25,72],[28,74,25,73,"onFrame"],[28,81,25,80],[28,82,25,81,"previousAnimation"],[28,99,25,98],[28,101,25,100,"now"],[28,104,25,103],[28,105,25,104],[29,10,26,8,"animation"],[29,19,26,17],[29,20,26,18,"current"],[29,27,26,25],[29,30,26,28,"previousAnimation"],[29,47,26,45],[29,48,26,46,"current"],[29,55,26,53],[30,10,27,8],[30,14,27,12,"finished"],[30,23,27,20],[30,25,27,22],[31,12,28,10,"animation"],[31,21,28,19],[31,22,28,20,"previousAnimation"],[31,39,28,37],[31,42,28,40],[31,46,28,44],[32,10,29,8],[33,8,30,6],[34,8,31,6],[34,15,31,13],[34,20,31,18],[35,6,32,4],[36,6,33,4],[36,15,33,13,"onStart"],[36,22,33,20,"onStart"],[36,23,33,21,"animation"],[36,32,33,30],[36,34,33,32,"value"],[36,39,33,37],[36,41,33,39,"now"],[36,44,33,42],[36,46,33,44,"previousAnimation"],[36,63,33,61],[36,65,33,63],[37,8,34,6,"animation"],[37,17,34,15],[37,18,34,16,"startTime"],[37,27,34,25],[37,30,34,28,"now"],[37,33,34,31],[38,8,35,6,"animation"],[38,17,35,15],[38,18,35,16,"started"],[38,25,35,23],[38,28,35,26],[38,33,35,31],[39,8,36,6,"animation"],[39,17,36,15],[39,18,36,16,"current"],[39,25,36,23],[39,28,36,26,"value"],[39,33,36,31],[40,8,37,6],[40,12,37,10,"previousAnimation"],[40,29,37,27],[40,34,37,32,"animation"],[40,43,37,41],[40,45,37,43],[41,10,38,8,"animation"],[41,19,38,17],[41,20,38,18,"previousAnimation"],[41,37,38,35],[41,40,38,38,"previousAnimation"],[41,57,38,55],[41,58,38,56,"previousAnimation"],[41,75,38,73],[42,8,39,6],[42,9,39,7],[42,15,39,13],[43,10,40,8,"animation"],[43,19,40,17],[43,20,40,18,"previousAnimation"],[43,37,40,35],[43,40,40,38,"previousAnimation"],[43,57,40,55],[44,8,41,6],[45,6,42,4],[46,6,43,4],[46,10,43,10,"callback"],[46,18,43,18],[46,21,43,21],[46,30,43,10,"callback"],[46,38,43,18,"callback"],[46,39,43,21,"finished"],[46,47,43,29],[46,49,43,33],[47,8,44,6],[47,12,44,10,"nextAnimation"],[47,25,44,23],[47,26,44,24,"callback"],[47,34,44,32],[47,36,44,34],[48,10,45,8,"nextAnimation"],[48,23,45,21],[48,24,45,22,"callback"],[48,32,45,30],[48,33,45,31,"finished"],[48,41,45,39],[48,42,45,40],[49,8,46,6],[50,6,47,4],[50,7,47,5],[51,6,48,4],[51,13,48,11],[52,8,49,6,"isHigherOrder"],[52,21,49,19],[52,23,49,21],[52,27,49,25],[53,8,50,6,"onFrame"],[53,15,50,13],[53,17,50,15,"delay"],[53,22,50,20],[54,8,51,6,"onStart"],[54,15,51,13],[54,17,51,6,"onStart"],[54,24,51,13],[55,8,52,6,"current"],[55,15,52,13],[55,17,52,15,"nextAnimation"],[55,30,52,28],[55,31,52,29,"current"],[55,38,52,36],[56,8,53,6,"callback"],[56,16,53,14],[56,18,53,6,"callback"],[56,26,53,14],[57,8,54,6,"previousAnimation"],[57,25,54,23],[57,27,54,25],[57,31,54,29],[58,8,55,6,"startTime"],[58,17,55,15],[58,19,55,17],[58,20,55,18],[59,8,56,6,"started"],[59,15,56,13],[59,17,56,15],[60,6,57,4],[60,7,57,5],[61,4,58,2],[61,5,58,3],[61,6,58,4],[62,2,59,0],[63,0,59,1]],"functionMap":{"names":["<global>","withDelay","defineAnimation$argument_1","delay","onStart","callback"],"mappings":"AAA;OCC;yCCG;ICI;KDuB;IEC;KFS;qBGC;KHI;GDW;CDC"}},"type":"js/module"}]}