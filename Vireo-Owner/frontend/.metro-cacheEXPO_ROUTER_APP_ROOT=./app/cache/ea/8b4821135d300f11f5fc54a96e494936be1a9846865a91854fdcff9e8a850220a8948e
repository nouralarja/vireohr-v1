{"dependencies":[{"name":"./utils.js","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":56,"index":71}}],"key":"03VO7/E+L2S6CYQuFHTg8eKUrwk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.rigidDecay = rigidDecay;\n  var _utils = _$$_REQUIRE(_dependencyMap[0], \"./utils.js\");\n  function rigidDecay(animation, now, config) {\n    'worklet';\n\n    var lastTimestamp = animation.lastTimestamp,\n      startTimestamp = animation.startTimestamp,\n      initialVelocity = animation.initialVelocity,\n      current = animation.current,\n      velocity = animation.velocity;\n    var deltaTime = Math.min(now - lastTimestamp, 64);\n    var v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * _utils.SLOPE_FACTOR);\n    animation.current = current + v * config.velocityFactor * deltaTime / 1000;\n    animation.velocity = v;\n    animation.lastTimestamp = now;\n    if (config.clamp) {\n      if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\n        animation.current = config.clamp[0];\n        return true;\n      } else if (initialVelocity > 0 && animation.current >= config.clamp[1]) {\n        animation.current = config.clamp[1];\n        return true;\n      }\n    }\n    return Math.abs(v) < _utils.VELOCITY_EPS;\n  }\n});","lineCount":33,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"rigidDecay"],[7,20,1,13],[7,23,1,13,"rigidDecay"],[7,33,1,13],[8,2,3,0],[8,6,3,0,"_utils"],[8,12,3,0],[8,15,3,0,"_$$_REQUIRE"],[8,26,3,0],[8,27,3,0,"_dependencyMap"],[8,41,3,0],[9,2,4,7],[9,11,4,16,"rigidDecay"],[9,21,4,26,"rigidDecay"],[9,22,4,27,"animation"],[9,31,4,36],[9,33,4,38,"now"],[9,36,4,41],[9,38,4,43,"config"],[9,44,4,49],[9,46,4,51],[10,4,5,2],[10,13,5,11],[12,4,7,2],[12,8,8,4,"lastTimestamp"],[12,21,8,17],[12,24,13,6,"animation"],[12,33,13,15],[12,34,8,4,"lastTimestamp"],[12,47,8,17],[13,6,9,4,"startTimestamp"],[13,20,9,18],[13,23,13,6,"animation"],[13,32,13,15],[13,33,9,4,"startTimestamp"],[13,47,9,18],[14,6,10,4,"initialVelocity"],[14,21,10,19],[14,24,13,6,"animation"],[14,33,13,15],[14,34,10,4,"initialVelocity"],[14,49,10,19],[15,6,11,4,"current"],[15,13,11,11],[15,16,13,6,"animation"],[15,25,13,15],[15,26,11,4,"current"],[15,33,11,11],[16,6,12,4,"velocity"],[16,14,12,12],[16,17,13,6,"animation"],[16,26,13,15],[16,27,12,4,"velocity"],[16,35,12,12],[17,4,14,2],[17,8,14,8,"deltaTime"],[17,17,14,17],[17,20,14,20,"Math"],[17,24,14,24],[17,25,14,25,"min"],[17,28,14,28],[17,29,14,29,"now"],[17,32,14,32],[17,35,14,35,"lastTimestamp"],[17,48,14,48],[17,50,14,50],[17,52,14,52],[17,53,14,53],[18,4,15,2],[18,8,15,8,"v"],[18,9,15,9],[18,12,15,12,"velocity"],[18,20,15,20],[18,23,15,23,"Math"],[18,27,15,27],[18,28,15,28,"exp"],[18,31,15,31],[18,32,15,32],[18,34,15,34],[18,35,15,35],[18,38,15,38,"config"],[18,44,15,44],[18,45,15,45,"deceleration"],[18,57,15,57],[18,58,15,58],[18,62,15,62,"now"],[18,65,15,65],[18,68,15,68,"startTimestamp"],[18,82,15,82],[18,83,15,83],[18,86,15,86,"SLOPE_FACTOR"],[18,105,15,98],[18,106,15,99],[19,4,16,2,"animation"],[19,13,16,11],[19,14,16,12,"current"],[19,21,16,19],[19,24,16,22,"current"],[19,31,16,29],[19,34,16,32,"v"],[19,35,16,33],[19,38,16,36,"config"],[19,44,16,42],[19,45,16,43,"velocityFactor"],[19,59,16,57],[19,62,16,60,"deltaTime"],[19,71,16,69],[19,74,16,72],[19,78,16,76],[20,4,17,2,"animation"],[20,13,17,11],[20,14,17,12,"velocity"],[20,22,17,20],[20,25,17,23,"v"],[20,26,17,24],[21,4,18,2,"animation"],[21,13,18,11],[21,14,18,12,"lastTimestamp"],[21,27,18,25],[21,30,18,28,"now"],[21,33,18,31],[22,4,19,2],[22,8,19,6,"config"],[22,14,19,12],[22,15,19,13,"clamp"],[22,20,19,18],[22,22,19,20],[23,6,20,4],[23,10,20,8,"initialVelocity"],[23,25,20,23],[23,28,20,26],[23,29,20,27],[23,33,20,31,"animation"],[23,42,20,40],[23,43,20,41,"current"],[23,50,20,48],[23,54,20,52,"config"],[23,60,20,58],[23,61,20,59,"clamp"],[23,66,20,64],[23,67,20,65],[23,68,20,66],[23,69,20,67],[23,71,20,69],[24,8,21,6,"animation"],[24,17,21,15],[24,18,21,16,"current"],[24,25,21,23],[24,28,21,26,"config"],[24,34,21,32],[24,35,21,33,"clamp"],[24,40,21,38],[24,41,21,39],[24,42,21,40],[24,43,21,41],[25,8,22,6],[25,15,22,13],[25,19,22,17],[26,6,23,4],[26,7,23,5],[26,13,23,11],[26,17,23,15,"initialVelocity"],[26,32,23,30],[26,35,23,33],[26,36,23,34],[26,40,23,38,"animation"],[26,49,23,47],[26,50,23,48,"current"],[26,57,23,55],[26,61,23,59,"config"],[26,67,23,65],[26,68,23,66,"clamp"],[26,73,23,71],[26,74,23,72],[26,75,23,73],[26,76,23,74],[26,78,23,76],[27,8,24,6,"animation"],[27,17,24,15],[27,18,24,16,"current"],[27,25,24,23],[27,28,24,26,"config"],[27,34,24,32],[27,35,24,33,"clamp"],[27,40,24,38],[27,41,24,39],[27,42,24,40],[27,43,24,41],[28,8,25,6],[28,15,25,13],[28,19,25,17],[29,6,26,4],[30,4,27,2],[31,4,28,2],[31,11,28,9,"Math"],[31,15,28,13],[31,16,28,14,"abs"],[31,19,28,17],[31,20,28,18,"v"],[31,21,28,19],[31,22,28,20],[31,25,28,23,"VELOCITY_EPS"],[31,44,28,35],[32,2,29,0],[33,0,29,1]],"functionMap":{"names":["<global>","rigidDecay"],"mappings":"AAA;OCG;CDyB"}},"type":"js/module"}]}