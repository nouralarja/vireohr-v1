{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":42,"column":43,"index":1363}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":42,"column":43,"index":1363}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":42,"column":43,"index":1363}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"./Sensor.js","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":33,"index":48}}],"key":"1OrdLgcQmy6Xa0PN03FJQTAzLYQ="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SensorContainer = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _Sensor = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./Sensor.js\"));\n  var SensorContainer = exports.SensorContainer = /*#__PURE__*/function () {\n    function SensorContainer() {\n      (0, _classCallCheck2.default)(this, SensorContainer);\n      this.nativeSensors = new Map();\n    }\n    return (0, _createClass2.default)(SensorContainer, [{\n      key: \"getSensorId\",\n      value: function getSensorId(sensorType, config) {\n        return sensorType * 100 + config.iosReferenceFrame * 10 + Number(config.adjustToInterfaceOrientation);\n      }\n    }, {\n      key: \"initializeSensor\",\n      value: function initializeSensor(sensorType, config) {\n        var sensorId = this.getSensorId(sensorType, config);\n        if (!this.nativeSensors.has(sensorId)) {\n          var newSensor = new _Sensor.default(sensorType, config);\n          this.nativeSensors.set(sensorId, newSensor);\n        }\n        var sensor = this.nativeSensors.get(sensorId);\n        return sensor.getSharedValue();\n      }\n    }, {\n      key: \"registerSensor\",\n      value: function registerSensor(sensorType, config, handler) {\n        var sensorId = this.getSensorId(sensorType, config);\n        if (!this.nativeSensors.has(sensorId)) {\n          return -1;\n        }\n        var sensor = this.nativeSensors.get(sensorId);\n        if (sensor && sensor.isAvailable() && (sensor.isRunning() || sensor.register(handler))) {\n          sensor.listenersNumber++;\n          return sensorId;\n        }\n        return -1;\n      }\n    }, {\n      key: \"unregisterSensor\",\n      value: function unregisterSensor(sensorId) {\n        if (this.nativeSensors.has(sensorId)) {\n          var sensor = this.nativeSensors.get(sensorId);\n          if (sensor && sensor.isRunning()) {\n            sensor.listenersNumber--;\n            if (sensor.listenersNumber === 0) {\n              sensor.unregister();\n            }\n          }\n        }\n      }\n    }]);\n  }();\n});","lineCount":62,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"_$$_REQUIRE"],[4,42,1,13],[4,43,1,13,"_dependencyMap"],[4,57,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"SensorContainer"],[8,25,1,13],[9,2,1,13],[9,6,1,13,"_classCallCheck2"],[9,22,1,13],[9,25,1,13,"_interopRequireDefault"],[9,47,1,13],[9,48,1,13,"_$$_REQUIRE"],[9,59,1,13],[9,60,1,13,"_dependencyMap"],[9,74,1,13],[10,2,1,13],[10,6,1,13,"_createClass2"],[10,19,1,13],[10,22,1,13,"_interopRequireDefault"],[10,44,1,13],[10,45,1,13,"_$$_REQUIRE"],[10,56,1,13],[10,57,1,13,"_dependencyMap"],[10,71,1,13],[11,2,3,0],[11,6,3,0,"_Sensor"],[11,13,3,0],[11,16,3,0,"_interopRequireDefault"],[11,38,3,0],[11,39,3,0,"_$$_REQUIRE"],[11,50,3,0],[11,51,3,0,"_dependencyMap"],[11,65,3,0],[12,2,3,33],[12,6,4,13,"SensorContainer"],[12,21,4,28],[12,24,4,28,"exports"],[12,31,4,28],[12,32,4,28,"SensorContainer"],[12,47,4,28],[13,4,4,28],[13,13,4,28,"SensorContainer"],[13,29,4,28],[14,6,4,28],[14,10,4,28,"_classCallCheck2"],[14,26,4,28],[14,27,4,28,"default"],[14,34,4,28],[14,42,4,28,"SensorContainer"],[14,57,4,28],[15,6,4,28],[15,11,5,2,"nativeSensors"],[15,24,5,15],[15,27,5,18],[15,31,5,22,"Map"],[15,34,5,25],[15,35,5,26],[15,36,5,27],[16,4,5,27],[17,4,5,27],[17,15,5,27,"_createClass2"],[17,28,5,27],[17,29,5,27,"default"],[17,36,5,27],[17,38,5,27,"SensorContainer"],[17,53,5,27],[18,6,5,27,"key"],[18,9,5,27],[19,6,5,27,"value"],[19,11,5,27],[19,13,6,2],[19,22,6,2,"getSensorId"],[19,33,6,13,"getSensorId"],[19,34,6,14,"sensorType"],[19,44,6,24],[19,46,6,26,"config"],[19,52,6,32],[19,54,6,34],[20,8,7,4],[20,15,7,11,"sensorType"],[20,25,7,21],[20,28,7,24],[20,31,7,27],[20,34,7,30,"config"],[20,40,7,36],[20,41,7,37,"iosReferenceFrame"],[20,58,7,54],[20,61,7,57],[20,63,7,59],[20,66,7,62,"Number"],[20,72,7,68],[20,73,7,69,"config"],[20,79,7,75],[20,80,7,76,"adjustToInterfaceOrientation"],[20,108,7,104],[20,109,7,105],[21,6,8,2],[22,4,8,3],[23,6,8,3,"key"],[23,9,8,3],[24,6,8,3,"value"],[24,11,8,3],[24,13,9,2],[24,22,9,2,"initializeSensor"],[24,38,9,18,"initializeSensor"],[24,39,9,19,"sensorType"],[24,49,9,29],[24,51,9,31,"config"],[24,57,9,37],[24,59,9,39],[25,8,10,4],[25,12,10,10,"sensorId"],[25,20,10,18],[25,23,10,21],[25,27,10,25],[25,28,10,26,"getSensorId"],[25,39,10,37],[25,40,10,38,"sensorType"],[25,50,10,48],[25,52,10,50,"config"],[25,58,10,56],[25,59,10,57],[26,8,11,4],[26,12,11,8],[26,13,11,9],[26,17,11,13],[26,18,11,14,"nativeSensors"],[26,31,11,27],[26,32,11,28,"has"],[26,35,11,31],[26,36,11,32,"sensorId"],[26,44,11,40],[26,45,11,41],[26,47,11,43],[27,10,12,6],[27,14,12,12,"newSensor"],[27,23,12,21],[27,26,12,24],[27,30,12,28,"Sensor"],[27,45,12,34],[27,46,12,35,"sensorType"],[27,56,12,45],[27,58,12,47,"config"],[27,64,12,53],[27,65,12,54],[28,10,13,6],[28,14,13,10],[28,15,13,11,"nativeSensors"],[28,28,13,24],[28,29,13,25,"set"],[28,32,13,28],[28,33,13,29,"sensorId"],[28,41,13,37],[28,43,13,39,"newSensor"],[28,52,13,48],[28,53,13,49],[29,8,14,4],[30,8,15,4],[30,12,15,10,"sensor"],[30,18,15,16],[30,21,15,19],[30,25,15,23],[30,26,15,24,"nativeSensors"],[30,39,15,37],[30,40,15,38,"get"],[30,43,15,41],[30,44,15,42,"sensorId"],[30,52,15,50],[30,53,15,51],[31,8,16,4],[31,15,16,11,"sensor"],[31,21,16,17],[31,22,16,18,"getSharedValue"],[31,36,16,32],[31,37,16,33],[31,38,16,34],[32,6,17,2],[33,4,17,3],[34,6,17,3,"key"],[34,9,17,3],[35,6,17,3,"value"],[35,11,17,3],[35,13,18,2],[35,22,18,2,"registerSensor"],[35,36,18,16,"registerSensor"],[35,37,18,17,"sensorType"],[35,47,18,27],[35,49,18,29,"config"],[35,55,18,35],[35,57,18,37,"handler"],[35,64,18,44],[35,66,18,46],[36,8,19,4],[36,12,19,10,"sensorId"],[36,20,19,18],[36,23,19,21],[36,27,19,25],[36,28,19,26,"getSensorId"],[36,39,19,37],[36,40,19,38,"sensorType"],[36,50,19,48],[36,52,19,50,"config"],[36,58,19,56],[36,59,19,57],[37,8,20,4],[37,12,20,8],[37,13,20,9],[37,17,20,13],[37,18,20,14,"nativeSensors"],[37,31,20,27],[37,32,20,28,"has"],[37,35,20,31],[37,36,20,32,"sensorId"],[37,44,20,40],[37,45,20,41],[37,47,20,43],[38,10,21,6],[38,17,21,13],[38,18,21,14],[38,19,21,15],[39,8,22,4],[40,8,23,4],[40,12,23,10,"sensor"],[40,18,23,16],[40,21,23,19],[40,25,23,23],[40,26,23,24,"nativeSensors"],[40,39,23,37],[40,40,23,38,"get"],[40,43,23,41],[40,44,23,42,"sensorId"],[40,52,23,50],[40,53,23,51],[41,8,24,4],[41,12,24,8,"sensor"],[41,18,24,14],[41,22,24,18,"sensor"],[41,28,24,24],[41,29,24,25,"isAvailable"],[41,40,24,36],[41,41,24,37],[41,42,24,38],[41,47,24,43,"sensor"],[41,53,24,49],[41,54,24,50,"isRunning"],[41,63,24,59],[41,64,24,60],[41,65,24,61],[41,69,24,65,"sensor"],[41,75,24,71],[41,76,24,72,"register"],[41,84,24,80],[41,85,24,81,"handler"],[41,92,24,88],[41,93,24,89],[41,94,24,90],[41,96,24,92],[42,10,25,6,"sensor"],[42,16,25,12],[42,17,25,13,"listenersNumber"],[42,32,25,28],[42,34,25,30],[43,10,26,6],[43,17,26,13,"sensorId"],[43,25,26,21],[44,8,27,4],[45,8,28,4],[45,15,28,11],[45,16,28,12],[45,17,28,13],[46,6,29,2],[47,4,29,3],[48,6,29,3,"key"],[48,9,29,3],[49,6,29,3,"value"],[49,11,29,3],[49,13,30,2],[49,22,30,2,"unregisterSensor"],[49,38,30,18,"unregisterSensor"],[49,39,30,19,"sensorId"],[49,47,30,27],[49,49,30,29],[50,8,31,4],[50,12,31,8],[50,16,31,12],[50,17,31,13,"nativeSensors"],[50,30,31,26],[50,31,31,27,"has"],[50,34,31,30],[50,35,31,31,"sensorId"],[50,43,31,39],[50,44,31,40],[50,46,31,42],[51,10,32,6],[51,14,32,12,"sensor"],[51,20,32,18],[51,23,32,21],[51,27,32,25],[51,28,32,26,"nativeSensors"],[51,41,32,39],[51,42,32,40,"get"],[51,45,32,43],[51,46,32,44,"sensorId"],[51,54,32,52],[51,55,32,53],[52,10,33,6],[52,14,33,10,"sensor"],[52,20,33,16],[52,24,33,20,"sensor"],[52,30,33,26],[52,31,33,27,"isRunning"],[52,40,33,36],[52,41,33,37],[52,42,33,38],[52,44,33,40],[53,12,34,8,"sensor"],[53,18,34,14],[53,19,34,15,"listenersNumber"],[53,34,34,30],[53,36,34,32],[54,12,35,8],[54,16,35,12,"sensor"],[54,22,35,18],[54,23,35,19,"listenersNumber"],[54,38,35,34],[54,43,35,39],[54,44,35,40],[54,46,35,42],[55,14,36,10,"sensor"],[55,20,36,16],[55,21,36,17,"unregister"],[55,31,36,27],[55,32,36,28],[55,33,36,29],[56,12,37,8],[57,10,38,6],[58,8,39,4],[59,6,40,2],[60,4,40,3],[61,2,40,3],[62,0,40,3]],"functionMap":{"names":["<global>","SensorContainer","getSensorId","initializeSensor","registerSensor","unregisterSensor"],"mappings":"AAA;OCG;ECE;GDE;EEC;GFQ;EGC;GHW;EIC;GJU;CDC"}},"type":"js/module"}]}