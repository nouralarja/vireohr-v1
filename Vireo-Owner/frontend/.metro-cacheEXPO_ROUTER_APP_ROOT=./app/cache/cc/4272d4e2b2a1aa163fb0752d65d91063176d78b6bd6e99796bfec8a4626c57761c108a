{"dependencies":[{"name":"./util.js","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":73,"index":88}}],"key":"aUcbDdENC60aSU0lb8uQwyHqHcs="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.withRepeat = void 0;\n  var _util = _$$_REQUIRE(_dependencyMap[0], \"./util.js\");\n  // TODO TYPESCRIPT This is a temporary type to get rid of .d.ts file.\n\n  /**\n   * Lets you repeat an animation given number of times or run it indefinitely.\n   *\n   * @param animation - An animation object you want to repeat.\n   * @param numberOfReps - The number of times the animation is going to be\n   *   repeated. Defaults to 2.\n   * @param reverse - Whether the animation should run in reverse every other\n   *   repetition. Defaults to false.\n   * @param callback - A function called on animation complete.\n   * @param reduceMotion - Determines how the animation responds to the device's\n   *   reduced motion accessibility setting. Default to `ReduceMotion.System` -\n   *   {@link ReduceMotion}.\n   * @returns An [animation\n   *   object](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#animation-object)\n   *   which holds the current state of the animation.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/animations/withRepeat\n   */\n  var withRepeat = exports.withRepeat = function withRepeat(_nextAnimation) {\n    'worklet';\n\n    var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var callback = arguments.length > 3 ? arguments[3] : undefined;\n    var reduceMotion = arguments.length > 4 ? arguments[4] : undefined;\n    return (0, _util.defineAnimation)(_nextAnimation, function () {\n      'worklet';\n\n      var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n      function repeat(animation, now) {\n        var finished = nextAnimation.onFrame(nextAnimation, now);\n        animation.current = nextAnimation.current;\n        if (finished) {\n          animation.reps += 1;\n          // call inner animation's callback on every repetition\n          // as the second argument the animation's current value is passed\n          if (nextAnimation.callback) {\n            nextAnimation.callback(true /* finished */, animation.current);\n          }\n          if (animation.reduceMotion || numberOfReps > 0 && animation.reps >= numberOfReps) {\n            return true;\n          }\n          var startValue = reverse ? nextAnimation.current : animation.startValue;\n          if (reverse) {\n            nextAnimation.toValue = animation.startValue;\n            animation.startValue = startValue;\n          }\n          nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n          return false;\n        }\n        return false;\n      }\n      var repCallback = function repCallback(finished) {\n        if (callback) {\n          callback(finished);\n        }\n        // when cancelled call inner animation's callback\n        if (!finished && nextAnimation.callback) {\n          nextAnimation.callback(false /* finished */);\n        }\n      };\n      function onStart(animation, value, now, previousAnimation) {\n        animation.startValue = value;\n        animation.reps = 0;\n\n        // child animations inherit the setting, unless they already have it defined\n        // they will have it defined only if the user used the `reduceMotion` prop\n        if (nextAnimation.reduceMotion === undefined) {\n          nextAnimation.reduceMotion = animation.reduceMotion;\n        }\n\n        // don't start the animation if reduced motion is enabled and\n        // the animation would end at its starting point\n        if (animation.reduceMotion && reverse && (numberOfReps <= 0 || numberOfReps % 2 === 0)) {\n          animation.current = animation.startValue;\n          animation.onFrame = function () {\n            return true;\n          };\n        } else {\n          nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n        }\n      }\n      return {\n        isHigherOrder: true,\n        onFrame: repeat,\n        onStart: onStart,\n        reps: 0,\n        current: nextAnimation.current,\n        callback: repCallback,\n        startValue: 0,\n        reduceMotion: (0, _util.getReduceMotionForAnimation)(reduceMotion)\n      };\n    });\n  };\n});","lineCount":104,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"withRepeat"],[7,20,1,13],[8,2,3,0],[8,6,3,0,"_util"],[8,11,3,0],[8,14,3,0,"_$$_REQUIRE"],[8,25,3,0],[8,26,3,0,"_dependencyMap"],[8,40,3,0],[9,2,5,0],[11,2,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,0,18,0],[23,0,19,0],[24,0,20,0],[25,0,21,0],[26,0,22,0],[27,0,23,0],[28,2,24,7],[28,6,24,13,"withRepeat"],[28,16,24,23],[28,19,24,23,"exports"],[28,26,24,23],[28,27,24,23,"withRepeat"],[28,37,24,23],[28,40,24,26],[28,49,24,13,"withRepeat"],[28,59,24,23,"withRepeat"],[28,60,24,36,"_nextAnimation"],[28,74,24,50],[28,76,24,111],[29,4,25,2],[29,13,25,11],[31,4,25,12],[31,8,24,52,"numberOfReps"],[31,20,24,64],[31,23,24,64,"arguments"],[31,32,24,64],[31,33,24,64,"length"],[31,39,24,64],[31,47,24,64,"arguments"],[31,56,24,64],[31,64,24,64,"undefined"],[31,73,24,64],[31,76,24,64,"arguments"],[31,85,24,64],[31,91,24,67],[31,92,24,68],[32,4,24,68],[32,8,24,70,"reverse"],[32,15,24,77],[32,18,24,77,"arguments"],[32,27,24,77],[32,28,24,77,"length"],[32,34,24,77],[32,42,24,77,"arguments"],[32,51,24,77],[32,59,24,77,"undefined"],[32,68,24,77],[32,71,24,77,"arguments"],[32,80,24,77],[32,86,24,80],[32,91,24,85],[33,4,24,85],[33,8,24,87,"callback"],[33,16,24,95],[33,19,24,95,"arguments"],[33,28,24,95],[33,29,24,95,"length"],[33,35,24,95],[33,42,24,95,"arguments"],[33,51,24,95],[33,57,24,95,"undefined"],[33,66,24,95],[34,4,24,95],[34,8,24,97,"reduceMotion"],[34,20,24,109],[34,23,24,109,"arguments"],[34,32,24,109],[34,33,24,109,"length"],[34,39,24,109],[34,46,24,109,"arguments"],[34,55,24,109],[34,61,24,109,"undefined"],[34,70,24,109],[35,4,27,2],[35,11,27,9],[35,15,27,9,"defineAnimation"],[35,36,27,24],[35,38,27,25,"_nextAnimation"],[35,52,27,39],[35,54,27,41],[35,66,27,47],[36,6,28,4],[36,15,28,13],[38,6,30,4],[38,10,30,10,"nextAnimation"],[38,23,30,23],[38,26,30,26],[38,33,30,33,"_nextAnimation"],[38,47,30,47],[38,52,30,52],[38,62,30,62],[38,65,30,65,"_nextAnimation"],[38,79,30,79],[38,80,30,80],[38,81,30,81],[38,84,30,84,"_nextAnimation"],[38,98,30,98],[39,6,31,4],[39,15,31,13,"repeat"],[39,21,31,19,"repeat"],[39,22,31,20,"animation"],[39,31,31,29],[39,33,31,31,"now"],[39,36,31,34],[39,38,31,36],[40,8,32,6],[40,12,32,12,"finished"],[40,20,32,20],[40,23,32,23,"nextAnimation"],[40,36,32,36],[40,37,32,37,"onFrame"],[40,44,32,44],[40,45,32,45,"nextAnimation"],[40,58,32,58],[40,60,32,60,"now"],[40,63,32,63],[40,64,32,64],[41,8,33,6,"animation"],[41,17,33,15],[41,18,33,16,"current"],[41,25,33,23],[41,28,33,26,"nextAnimation"],[41,41,33,39],[41,42,33,40,"current"],[41,49,33,47],[42,8,34,6],[42,12,34,10,"finished"],[42,20,34,18],[42,22,34,20],[43,10,35,8,"animation"],[43,19,35,17],[43,20,35,18,"reps"],[43,24,35,22],[43,28,35,26],[43,29,35,27],[44,10,36,8],[45,10,37,8],[46,10,38,8],[46,14,38,12,"nextAnimation"],[46,27,38,25],[46,28,38,26,"callback"],[46,36,38,34],[46,38,38,36],[47,12,39,10,"nextAnimation"],[47,25,39,23],[47,26,39,24,"callback"],[47,34,39,32],[47,35,39,33],[47,39,39,37],[47,40,39,38],[47,56,39,54,"animation"],[47,65,39,63],[47,66,39,64,"current"],[47,73,39,71],[47,74,39,72],[48,10,40,8],[49,10,41,8],[49,14,41,12,"animation"],[49,23,41,21],[49,24,41,22,"reduceMotion"],[49,36,41,34],[49,40,41,38,"numberOfReps"],[49,52,41,50],[49,55,41,53],[49,56,41,54],[49,60,41,58,"animation"],[49,69,41,67],[49,70,41,68,"reps"],[49,74,41,72],[49,78,41,76,"numberOfReps"],[49,90,41,88],[49,92,41,90],[50,12,42,10],[50,19,42,17],[50,23,42,21],[51,10,43,8],[52,10,44,8],[52,14,44,14,"startValue"],[52,24,44,24],[52,27,44,27,"reverse"],[52,34,44,34],[52,37,44,37,"nextAnimation"],[52,50,44,50],[52,51,44,51,"current"],[52,58,44,58],[52,61,44,61,"animation"],[52,70,44,70],[52,71,44,71,"startValue"],[52,81,44,81],[53,10,45,8],[53,14,45,12,"reverse"],[53,21,45,19],[53,23,45,21],[54,12,46,10,"nextAnimation"],[54,25,46,23],[54,26,46,24,"toValue"],[54,33,46,31],[54,36,46,34,"animation"],[54,45,46,43],[54,46,46,44,"startValue"],[54,56,46,54],[55,12,47,10,"animation"],[55,21,47,19],[55,22,47,20,"startValue"],[55,32,47,30],[55,35,47,33,"startValue"],[55,45,47,43],[56,10,48,8],[57,10,49,8,"nextAnimation"],[57,23,49,21],[57,24,49,22,"onStart"],[57,31,49,29],[57,32,49,30,"nextAnimation"],[57,45,49,43],[57,47,49,45,"startValue"],[57,57,49,55],[57,59,49,57,"now"],[57,62,49,60],[57,64,49,62,"nextAnimation"],[57,77,49,75],[57,78,49,76,"previousAnimation"],[57,95,49,93],[57,96,49,94],[58,10,50,8],[58,17,50,15],[58,22,50,20],[59,8,51,6],[60,8,52,6],[60,15,52,13],[60,20,52,18],[61,6,53,4],[62,6,54,4],[62,10,54,10,"repCallback"],[62,21,54,21],[62,24,54,24],[62,33,54,10,"repCallback"],[62,44,54,21,"repCallback"],[62,45,54,24,"finished"],[62,53,54,32],[62,55,54,36],[63,8,55,6],[63,12,55,10,"callback"],[63,20,55,18],[63,22,55,20],[64,10,56,8,"callback"],[64,18,56,16],[64,19,56,17,"finished"],[64,27,56,25],[64,28,56,26],[65,8,57,6],[66,8,58,6],[67,8,59,6],[67,12,59,10],[67,13,59,11,"finished"],[67,21,59,19],[67,25,59,23,"nextAnimation"],[67,38,59,36],[67,39,59,37,"callback"],[67,47,59,45],[67,49,59,47],[68,10,60,8,"nextAnimation"],[68,23,60,21],[68,24,60,22,"callback"],[68,32,60,30],[68,33,60,31],[68,38,60,36],[68,39,60,37],[68,53,60,51],[68,54,60,52],[69,8,61,6],[70,6,62,4],[70,7,62,5],[71,6,63,4],[71,15,63,13,"onStart"],[71,22,63,20,"onStart"],[71,23,63,21,"animation"],[71,32,63,30],[71,34,63,32,"value"],[71,39,63,37],[71,41,63,39,"now"],[71,44,63,42],[71,46,63,44,"previousAnimation"],[71,63,63,61],[71,65,63,63],[72,8,64,6,"animation"],[72,17,64,15],[72,18,64,16,"startValue"],[72,28,64,26],[72,31,64,29,"value"],[72,36,64,34],[73,8,65,6,"animation"],[73,17,65,15],[73,18,65,16,"reps"],[73,22,65,20],[73,25,65,23],[73,26,65,24],[75,8,67,6],[76,8,68,6],[77,8,69,6],[77,12,69,10,"nextAnimation"],[77,25,69,23],[77,26,69,24,"reduceMotion"],[77,38,69,36],[77,43,69,41,"undefined"],[77,52,69,50],[77,54,69,52],[78,10,70,8,"nextAnimation"],[78,23,70,21],[78,24,70,22,"reduceMotion"],[78,36,70,34],[78,39,70,37,"animation"],[78,48,70,46],[78,49,70,47,"reduceMotion"],[78,61,70,59],[79,8,71,6],[81,8,73,6],[82,8,74,6],[83,8,75,6],[83,12,75,10,"animation"],[83,21,75,19],[83,22,75,20,"reduceMotion"],[83,34,75,32],[83,38,75,36,"reverse"],[83,45,75,43],[83,50,75,48,"numberOfReps"],[83,62,75,60],[83,66,75,64],[83,67,75,65],[83,71,75,69,"numberOfReps"],[83,83,75,81],[83,86,75,84],[83,87,75,85],[83,92,75,90],[83,93,75,91],[83,94,75,92],[83,96,75,94],[84,10,76,8,"animation"],[84,19,76,17],[84,20,76,18,"current"],[84,27,76,25],[84,30,76,28,"animation"],[84,39,76,37],[84,40,76,38,"startValue"],[84,50,76,48],[85,10,77,8,"animation"],[85,19,77,17],[85,20,77,18,"onFrame"],[85,27,77,25],[85,30,77,28],[86,12,77,28],[86,19,77,34],[86,23,77,38],[87,10,77,38],[88,8,78,6],[88,9,78,7],[88,15,78,13],[89,10,79,8,"nextAnimation"],[89,23,79,21],[89,24,79,22,"onStart"],[89,31,79,29],[89,32,79,30,"nextAnimation"],[89,45,79,43],[89,47,79,45,"value"],[89,52,79,50],[89,54,79,52,"now"],[89,57,79,55],[89,59,79,57,"previousAnimation"],[89,76,79,74],[89,77,79,75],[90,8,80,6],[91,6,81,4],[92,6,82,4],[92,13,82,11],[93,8,83,6,"isHigherOrder"],[93,21,83,19],[93,23,83,21],[93,27,83,25],[94,8,84,6,"onFrame"],[94,15,84,13],[94,17,84,15,"repeat"],[94,23,84,21],[95,8,85,6,"onStart"],[95,15,85,13],[95,17,85,6,"onStart"],[95,24,85,13],[96,8,86,6,"reps"],[96,12,86,10],[96,14,86,12],[96,15,86,13],[97,8,87,6,"current"],[97,15,87,13],[97,17,87,15,"nextAnimation"],[97,30,87,28],[97,31,87,29,"current"],[97,38,87,36],[98,8,88,6,"callback"],[98,16,88,14],[98,18,88,16,"repCallback"],[98,29,88,27],[99,8,89,6,"startValue"],[99,18,89,16],[99,20,89,18],[99,21,89,19],[100,8,90,6,"reduceMotion"],[100,20,90,18],[100,22,90,20],[100,26,90,20,"getReduceMotionForAnimation"],[100,59,90,47],[100,61,90,48,"reduceMotion"],[100,73,90,60],[101,6,91,4],[101,7,91,5],[102,4,92,2],[102,5,92,3],[102,6,92,4],[103,2,93,0],[103,3,93,1],[104,0,93,2]],"functionMap":{"names":["<global>","withRepeat","defineAnimation$argument_1","repeat","repCallback","onStart","animation.onFrame"],"mappings":"AAA;0BCuB;yCCG;ICI;KDsB;wBEC;KFQ;IGC;4BCc,UD;KHI;GDW;CDC"}},"type":"js/module"}]}