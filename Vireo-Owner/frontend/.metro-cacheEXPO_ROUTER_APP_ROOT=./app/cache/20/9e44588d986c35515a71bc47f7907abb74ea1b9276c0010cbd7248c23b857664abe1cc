{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":68,"column":42,"index":2455}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../../handlersRegistry","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"pP2b75vhlUpyLI3+QI+xq/8ysKA="}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":69,"index":127}}],"key":"HKrZDPbCxSQpkTuwNBEzcur/N4c="}},{"name":"../../utils","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":128},"end":{"line":3,"column":68,"index":196}}],"key":"dxL+BeUilKexbwMi0xaswBTAv3A="}},{"name":"../../../ActionType","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":197},"end":{"line":4,"column":49,"index":246}}],"key":"sgEihjgVIYW2QtFHH02oVAgt8OA="}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":68,"column":42,"index":2455}}],"key":"jM/HC84YZkM9kLoiCo0Bpf0Xr+w="}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"locs":[{"start":{"line":6,"column":0,"index":288},"end":{"line":6,"column":61,"index":349}}],"key":"hrYLKIqWIfT+pKNINxKM7/Pt38o="}},{"name":"./utils","data":{"asyncType":null,"locs":[{"start":{"line":7,"column":0,"index":350},"end":{"line":7,"column":99,"index":449}}],"key":"FH4oXkS7WdR5kG0v+Eku8TWcu80="}},{"name":"../../../mountRegistry","data":{"asyncType":null,"locs":[{"start":{"line":8,"column":0,"index":450},"end":{"line":8,"column":55,"index":505}}],"key":"RSsp2RZc2mUcWXkNaWr8NbClWy4="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = _$$_REQUIRE(_dependencyMap[1], \"../../handlersRegistry\");\n  var _RNGestureHandlerModule = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"../../../RNGestureHandlerModule\"));\n  var _utils = _$$_REQUIRE(_dependencyMap[3], \"../../utils\");\n  var _ActionType = _$$_REQUIRE(_dependencyMap[4], \"../../../ActionType\");\n  var _Platform = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"react-native-web/dist/exports/Platform\"));\n  var _ghQueueMicrotask = _$$_REQUIRE(_dependencyMap[6], \"../../../ghQueueMicrotask\");\n  var _utils2 = _$$_REQUIRE(_dependencyMap[7], \"./utils\");\n  var _mountRegistry = _$$_REQUIRE(_dependencyMap[8], \"../../../mountRegistry\");\n  function attachHandlers(_ref) {\n    var preparedGesture = _ref.preparedGesture,\n      gestureConfig = _ref.gestureConfig,\n      gesturesToAttach = _ref.gesturesToAttach,\n      viewTag = _ref.viewTag,\n      webEventHandlersRef = _ref.webEventHandlersRef;\n    gestureConfig.initialize(); // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(function () {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (var handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      _RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    } // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(function () {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (var _handler of gesturesToAttach) {\n        _RNGestureHandlerModule.default.updateGestureHandler(_handler.handlerTag, (0, _utils.filterConfig)(_handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(_handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (var gesture of gesturesToAttach) {\n      var actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      if (_Platform.default.OS === 'web') {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, _ActionType.ActionType.JS_FUNCTION_OLD_API,\n        // Ignored on web\n        webEventHandlersRef);\n      } else {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n      _mountRegistry.MountRegistry.gestureWillMount(gesture);\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      var isAnimatedGesture = function isAnimatedGesture(g) {\n        return g.shouldUseReanimated;\n      };\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(function (g) {\n        return g.handlers;\n      });\n    }\n  }\n});","lineCount":67,"map":[[7,2,1,0],[7,6,1,0,"_handlersRegistry"],[7,23,1,0],[7,26,1,0,"_$$_REQUIRE"],[7,37,1,0],[7,38,1,0,"_dependencyMap"],[7,52,1,0],[8,2,2,0],[8,6,2,0,"_RNGestureHandlerModule"],[8,29,2,0],[8,32,2,0,"_interopRequireDefault"],[8,54,2,0],[8,55,2,0,"_$$_REQUIRE"],[8,66,2,0],[8,67,2,0,"_dependencyMap"],[8,81,2,0],[9,2,3,0],[9,6,3,0,"_utils"],[9,12,3,0],[9,15,3,0,"_$$_REQUIRE"],[9,26,3,0],[9,27,3,0,"_dependencyMap"],[9,41,3,0],[10,2,4,0],[10,6,4,0,"_ActionType"],[10,17,4,0],[10,20,4,0,"_$$_REQUIRE"],[10,31,4,0],[10,32,4,0,"_dependencyMap"],[10,46,4,0],[11,2,4,49],[11,6,4,49,"_Platform"],[11,15,4,49],[11,18,4,49,"_interopRequireDefault"],[11,40,4,49],[11,41,4,49,"_$$_REQUIRE"],[11,52,4,49],[11,53,4,49,"_dependencyMap"],[11,67,4,49],[12,2,6,0],[12,6,6,0,"_ghQueueMicrotask"],[12,23,6,0],[12,26,6,0,"_$$_REQUIRE"],[12,37,6,0],[12,38,6,0,"_dependencyMap"],[12,52,6,0],[13,2,7,0],[13,6,7,0,"_utils2"],[13,13,7,0],[13,16,7,0,"_$$_REQUIRE"],[13,27,7,0],[13,28,7,0,"_dependencyMap"],[13,42,7,0],[14,2,8,0],[14,6,8,0,"_mountRegistry"],[14,20,8,0],[14,23,8,0,"_$$_REQUIRE"],[14,34,8,0],[14,35,8,0,"_dependencyMap"],[14,49,8,0],[15,2,9,7],[15,11,9,16,"attachHandlers"],[15,25,9,30,"attachHandlers"],[15,26,9,30,"_ref"],[15,30,9,30],[15,32,15,3],[16,4,15,3],[16,8,10,2,"preparedGesture"],[16,23,10,17],[16,26,10,17,"_ref"],[16,30,10,17],[16,31,10,2,"preparedGesture"],[16,46,10,17],[17,6,11,2,"gestureConfig"],[17,19,11,15],[17,22,11,15,"_ref"],[17,26,11,15],[17,27,11,2,"gestureConfig"],[17,40,11,15],[18,6,12,2,"gesturesToAttach"],[18,22,12,18],[18,25,12,18,"_ref"],[18,29,12,18],[18,30,12,2,"gesturesToAttach"],[18,46,12,18],[19,6,13,2,"viewTag"],[19,13,13,9],[19,16,13,9,"_ref"],[19,20,13,9],[19,21,13,2,"viewTag"],[19,28,13,9],[20,6,14,2,"webEventHandlersRef"],[20,25,14,21],[20,28,14,21,"_ref"],[20,32,14,21],[20,33,14,2,"webEventHandlersRef"],[20,52,14,21],[21,4,16,2,"gestureConfig"],[21,17,16,15],[21,18,16,16,"initialize"],[21,28,16,26],[21,29,16,27],[21,30,16,28],[21,31,16,29],[21,32,16,30],[22,4,17,2],[24,4,19,2],[24,8,19,2,"ghQueueMicrotask"],[24,42,19,18],[24,44,19,19],[24,56,19,25],[25,6,20,4],[25,10,20,8],[25,11,20,9,"preparedGesture"],[25,26,20,24],[25,27,20,25,"isMounted"],[25,36,20,34],[25,38,20,36],[26,8,21,6],[27,6,22,4],[28,6,24,4,"gestureConfig"],[28,19,24,17],[28,20,24,18,"prepare"],[28,27,24,25],[28,28,24,26],[28,29,24,27],[29,4,25,2],[29,5,25,3],[29,6,25,4],[30,4,27,2],[30,9,27,7],[30,13,27,13,"handler"],[30,20,27,20],[30,24,27,24,"gesturesToAttach"],[30,40,27,40],[30,42,27,42],[31,6,28,4],[31,10,28,4,"checkGestureCallbacksForWorklets"],[31,50,28,36],[31,52,28,37,"handler"],[31,59,28,44],[31,60,28,45],[32,6,29,4,"RNGestureHandlerModule"],[32,37,29,26],[32,38,29,27,"createGestureHandler"],[32,58,29,47],[32,59,29,48,"handler"],[32,66,29,55],[32,67,29,56,"handlerName"],[32,78,29,67],[32,80,29,69,"handler"],[32,87,29,76],[32,88,29,77,"handlerTag"],[32,98,29,87],[32,100,29,89],[32,104,29,89,"filterConfig"],[32,123,29,101],[32,125,29,102,"handler"],[32,132,29,109],[32,133,29,110,"config"],[32,139,29,116],[32,141,29,118,"ALLOWED_PROPS"],[32,162,29,131],[32,163,29,132],[32,164,29,133],[33,6,30,4],[33,10,30,4,"registerHandler"],[33,43,30,19],[33,45,30,20,"handler"],[33,52,30,27],[33,53,30,28,"handlerTag"],[33,63,30,38],[33,65,30,40,"handler"],[33,72,30,47],[33,74,30,49,"handler"],[33,81,30,56],[33,82,30,57,"config"],[33,88,30,63],[33,89,30,64,"testId"],[33,95,30,70],[33,96,30,71],[34,4,31,2],[34,5,31,3],[34,6,31,4],[35,4,32,2],[37,4,35,2],[37,8,35,2,"ghQueueMicrotask"],[37,42,35,18],[37,44,35,19],[37,56,35,25],[38,6,36,4],[38,10,36,8],[38,11,36,9,"preparedGesture"],[38,26,36,24],[38,27,36,25,"isMounted"],[38,36,36,34],[38,38,36,36],[39,8,37,6],[40,6,38,4],[41,6,40,4],[41,11,40,9],[41,15,40,15,"handler"],[41,23,40,22],[41,27,40,26,"gesturesToAttach"],[41,43,40,42],[41,45,40,44],[42,8,41,6,"RNGestureHandlerModule"],[42,39,41,28],[42,40,41,29,"updateGestureHandler"],[42,60,41,49],[42,61,41,50,"handler"],[42,69,41,57],[42,70,41,58,"handlerTag"],[42,80,41,68],[42,82,41,70],[42,86,41,70,"filterConfig"],[42,105,41,82],[42,107,41,83,"handler"],[42,115,41,90],[42,116,41,91,"config"],[42,122,41,97],[42,124,41,99,"ALLOWED_PROPS"],[42,145,41,112],[42,147,41,114],[42,151,41,114,"extractGestureRelations"],[42,182,41,137],[42,184,41,138,"handler"],[42,192,41,145],[42,193,41,146],[42,194,41,147],[42,195,41,148],[43,6,42,4],[44,6,44,4],[44,10,44,4,"scheduleFlushOperations"],[44,40,44,27],[44,42,44,28],[44,43,44,29],[45,4,45,2],[45,5,45,3],[45,6,45,4],[46,4,47,2],[46,9,47,7],[46,13,47,13,"gesture"],[46,20,47,20],[46,24,47,24,"gesturesToAttach"],[46,40,47,40],[46,42,47,42],[47,6,48,4],[47,10,48,10,"actionType"],[47,20,48,20],[47,23,48,23,"gesture"],[47,30,48,30],[47,31,48,31,"shouldUseReanimated"],[47,50,48,50],[47,53,48,53,"ActionType"],[47,75,48,63],[47,76,48,64,"REANIMATED_WORKLET"],[47,94,48,82],[47,97,48,85,"ActionType"],[47,119,48,95],[47,120,48,96,"JS_FUNCTION_NEW_API"],[47,139,48,115],[48,6,50,4],[48,10,50,8,"Platform"],[48,27,50,16],[48,28,50,17,"OS"],[48,30,50,19],[48,35,50,24],[48,40,50,29],[48,42,50,31],[49,8,51,6,"RNGestureHandlerModule"],[49,39,51,28],[49,40,51,29,"attachGestureHandler"],[49,60,51,49],[49,61,51,50,"gesture"],[49,68,51,57],[49,69,51,58,"handlerTag"],[49,79,51,68],[49,81,51,70,"viewTag"],[49,88,51,77],[49,90,51,79,"ActionType"],[49,112,51,89],[49,113,51,90,"JS_FUNCTION_OLD_API"],[49,132,51,109],[50,8,51,111],[51,8,52,6,"webEventHandlersRef"],[51,27,52,25],[51,28,52,26],[52,6,53,4],[52,7,53,5],[52,13,53,11],[53,8,54,6,"RNGestureHandlerModule"],[53,39,54,28],[53,40,54,29,"attachGestureHandler"],[53,60,54,49],[53,61,54,50,"gesture"],[53,68,54,57],[53,69,54,58,"handlerTag"],[53,79,54,68],[53,81,54,70,"viewTag"],[53,88,54,77],[53,90,54,79,"actionType"],[53,100,54,89],[53,101,54,90],[54,6,55,4],[55,6,57,4,"MountRegistry"],[55,34,57,17],[55,35,57,18,"gestureWillMount"],[55,51,57,34],[55,52,57,35,"gesture"],[55,59,57,42],[55,60,57,43],[56,4,58,2],[57,4,60,2,"preparedGesture"],[57,19,60,17],[57,20,60,18,"attachedGestures"],[57,36,60,34],[57,39,60,37,"gesturesToAttach"],[57,55,60,53],[58,4,62,2],[58,8,62,6,"preparedGesture"],[58,23,62,21],[58,24,62,22,"animatedHandlers"],[58,40,62,38],[58,42,62,40],[59,6,63,4],[59,10,63,10,"isAnimatedGesture"],[59,27,63,27],[59,30,63,30],[59,39,63,10,"isAnimatedGesture"],[59,56,63,27,"isAnimatedGesture"],[59,57,63,30,"g"],[59,58,63,31],[60,8,63,31],[60,15,63,35,"g"],[60,16,63,36],[60,17,63,37,"shouldUseReanimated"],[60,36,63,56],[61,6,63,56],[62,6,65,4,"preparedGesture"],[62,21,65,19],[62,22,65,20,"animatedHandlers"],[62,38,65,36],[62,39,65,37,"value"],[62,44,65,42],[62,47,65,45,"gesturesToAttach"],[62,63,65,61],[62,64,65,62,"filter"],[62,70,65,68],[62,71,65,69,"isAnimatedGesture"],[62,88,65,86],[62,89,65,87],[62,90,65,88,"map"],[62,93,65,91],[62,94,65,92],[62,104,65,92,"g"],[62,105,65,93],[63,8,65,93],[63,15,65,97,"g"],[63,16,65,98],[63,17,65,99,"handlers"],[63,25,65,107],[64,6,65,107],[64,8,65,108],[65,4,66,2],[66,2,67,0],[67,0,67,1]],"functionMap":{"names":["<global>","attachHandlers","ghQueueMicrotask$argument_0","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;OCQ;mBCU;GDM;mBCU;GDU;8BEkB,0BF;4FGE,eH;CDE"}},"type":"js/module"}]}