{"dependencies":[{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":7,"column":36,"index":150},"end":{"line":7,"column":52,"index":166}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationContext","data":{"asyncType":null,"locs":[{"start":{"line":8,"column":48,"index":217},"end":{"line":8,"column":78,"index":247}}],"key":"zgSDczcMDbcgKjO1DngU1GAHQtI="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useFocusEvents;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[0], \"react\"));\n  var _NavigationContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"./NavigationContext\"));\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  function _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n    return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n      return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n  }\n  function _interopRequireWildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) {\n      return obj;\n    }\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n      return {\n        default: obj\n      };\n    }\n    var cache = _getRequireWildcardCache(nodeInterop);\n    if (cache && cache.has(obj)) {\n      return cache.get(obj);\n    }\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for (var key in obj) {\n      if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n    newObj.default = obj;\n    if (cache) {\n      cache.set(obj, newObj);\n    }\n    return newObj;\n  }\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    var state = _ref.state,\n      emitter = _ref.emitter;\n    var navigation = React.useContext(_NavigationContext.default);\n    var lastFocusedKeyRef = React.useRef();\n    var currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(function () {\n      return navigation === null || navigation === void 0 ? void 0 : navigation.addListener('focus', function () {\n        lastFocusedKeyRef.current = currentFocusedKey;\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      return navigation === null || navigation === void 0 ? void 0 : navigation.addListener('blur', function () {\n        lastFocusedKeyRef.current = undefined;\n        emitter.emit({\n          type: 'blur',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      var lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":116,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18,"useFocusEvents"],[7,34,6,32],[8,2,7,0],[8,6,7,4,"React"],[8,11,7,9],[8,14,7,12,"_interopRequireWildcard"],[8,37,7,35],[8,38,7,36,"require"],[8,49,7,43],[8,50,7,43,"_dependencyMap"],[8,64,7,43],[8,76,7,51],[8,77,7,52],[8,78,7,53],[9,2,8,0],[9,6,8,4,"_NavigationContext"],[9,24,8,22],[9,27,8,25,"_interopRequireDefault"],[9,49,8,47],[9,50,8,48,"require"],[9,61,8,55],[9,62,8,55,"_dependencyMap"],[9,76,8,55],[9,102,8,77],[9,103,8,78],[9,104,8,79],[10,2,9,0],[10,11,9,9,"_interopRequireDefault"],[10,33,9,31,"_interopRequireDefault"],[10,34,9,32,"obj"],[10,37,9,35],[10,39,9,37],[11,4,9,39],[11,11,9,46,"obj"],[11,14,9,49],[11,18,9,53,"obj"],[11,21,9,56],[11,22,9,57,"__esModule"],[11,32,9,67],[11,35,9,70,"obj"],[11,38,9,73],[11,41,9,76],[12,6,9,78,"default"],[12,13,9,85],[12,15,9,87,"obj"],[13,4,9,91],[13,5,9,92],[14,2,9,94],[15,2,10,0],[15,11,10,9,"_getRequireWildcardCache"],[15,35,10,33,"_getRequireWildcardCache"],[15,36,10,34,"nodeInterop"],[15,47,10,45],[15,49,10,47],[16,4,10,49],[16,8,10,53],[16,15,10,60,"WeakMap"],[16,22,10,67],[16,27,10,72],[16,37,10,82],[16,39,10,84],[16,46,10,91],[16,50,10,95],[17,4,10,97],[17,8,10,101,"cacheBabelInterop"],[17,25,10,118],[17,28,10,121],[17,32,10,125,"WeakMap"],[17,39,10,132],[17,40,10,133],[17,41,10,134],[18,4,10,136],[18,8,10,140,"cacheNodeInterop"],[18,24,10,156],[18,27,10,159],[18,31,10,163,"WeakMap"],[18,38,10,170],[18,39,10,171],[18,40,10,172],[19,4,10,174],[19,11,10,181],[19,12,10,182,"_getRequireWildcardCache"],[19,36,10,206],[19,39,10,209],[19,48,10,182,"_getRequireWildcardCache"],[19,72,10,206,"_getRequireWildcardCache"],[19,73,10,219,"nodeInterop"],[19,84,10,230],[19,86,10,232],[20,6,10,234],[20,13,10,241,"nodeInterop"],[20,24,10,252],[20,27,10,255,"cacheNodeInterop"],[20,43,10,271],[20,46,10,274,"cacheBabelInterop"],[20,63,10,291],[21,4,10,293],[21,5,10,294],[21,7,10,296,"nodeInterop"],[21,18,10,307],[21,19,10,308],[22,2,10,310],[23,2,11,0],[23,11,11,9,"_interopRequireWildcard"],[23,34,11,32,"_interopRequireWildcard"],[23,35,11,33,"obj"],[23,38,11,36],[23,40,11,38,"nodeInterop"],[23,51,11,49],[23,53,11,51],[24,4,11,53],[24,8,11,57],[24,9,11,58,"nodeInterop"],[24,20,11,69],[24,24,11,73,"obj"],[24,27,11,76],[24,31,11,80,"obj"],[24,34,11,83],[24,35,11,84,"__esModule"],[24,45,11,94],[24,47,11,96],[25,6,11,98],[25,13,11,105,"obj"],[25,16,11,108],[26,4,11,110],[27,4,11,112],[27,8,11,116,"obj"],[27,11,11,119],[27,16,11,124],[27,20,11,128],[27,24,11,132],[27,31,11,139,"obj"],[27,34,11,142],[27,39,11,147],[27,47,11,155],[27,51,11,159],[27,58,11,166,"obj"],[27,61,11,169],[27,66,11,174],[27,76,11,184],[27,78,11,186],[28,6,11,188],[28,13,11,195],[29,8,11,197,"default"],[29,15,11,204],[29,17,11,206,"obj"],[30,6,11,210],[30,7,11,211],[31,4,11,213],[32,4,11,215],[32,8,11,219,"cache"],[32,13,11,224],[32,16,11,227,"_getRequireWildcardCache"],[32,40,11,251],[32,41,11,252,"nodeInterop"],[32,52,11,263],[32,53,11,264],[33,4,11,266],[33,8,11,270,"cache"],[33,13,11,275],[33,17,11,279,"cache"],[33,22,11,284],[33,23,11,285,"has"],[33,26,11,288],[33,27,11,289,"obj"],[33,30,11,292],[33,31,11,293],[33,33,11,295],[34,6,11,297],[34,13,11,304,"cache"],[34,18,11,309],[34,19,11,310,"get"],[34,22,11,313],[34,23,11,314,"obj"],[34,26,11,317],[34,27,11,318],[35,4,11,320],[36,4,11,322],[36,8,11,326,"newObj"],[36,14,11,332],[36,17,11,335],[36,18,11,336],[36,19,11,337],[37,4,11,339],[37,8,11,343,"hasPropertyDescriptor"],[37,29,11,364],[37,32,11,367,"Object"],[37,38,11,373],[37,39,11,374,"defineProperty"],[37,53,11,388],[37,57,11,392,"Object"],[37,63,11,398],[37,64,11,399,"getOwnPropertyDescriptor"],[37,88,11,423],[38,4,11,425],[38,9,11,430],[38,13,11,434,"key"],[38,16,11,437],[38,20,11,441,"obj"],[38,23,11,444],[38,25,11,446],[39,6,11,448],[39,10,11,452,"key"],[39,13,11,455],[39,18,11,460],[39,27,11,469],[39,31,11,473,"Object"],[39,37,11,479],[39,38,11,480,"prototype"],[39,47,11,489],[39,48,11,490,"hasOwnProperty"],[39,62,11,504],[39,63,11,505,"call"],[39,67,11,509],[39,68,11,510,"obj"],[39,71,11,513],[39,73,11,515,"key"],[39,76,11,518],[39,77,11,519],[39,79,11,521],[40,8,11,523],[40,12,11,527,"desc"],[40,16,11,531],[40,19,11,534,"hasPropertyDescriptor"],[40,40,11,555],[40,43,11,558,"Object"],[40,49,11,564],[40,50,11,565,"getOwnPropertyDescriptor"],[40,74,11,589],[40,75,11,590,"obj"],[40,78,11,593],[40,80,11,595,"key"],[40,83,11,598],[40,84,11,599],[40,87,11,602],[40,91,11,606],[41,8,11,608],[41,12,11,612,"desc"],[41,16,11,616],[41,21,11,621,"desc"],[41,25,11,625],[41,26,11,626,"get"],[41,29,11,629],[41,33,11,633,"desc"],[41,37,11,637],[41,38,11,638,"set"],[41,41,11,641],[41,42,11,642],[41,44,11,644],[42,10,11,646,"Object"],[42,16,11,652],[42,17,11,653,"defineProperty"],[42,31,11,667],[42,32,11,668,"newObj"],[42,38,11,674],[42,40,11,676,"key"],[42,43,11,679],[42,45,11,681,"desc"],[42,49,11,685],[42,50,11,686],[43,8,11,688],[43,9,11,689],[43,15,11,695],[44,10,11,697,"newObj"],[44,16,11,703],[44,17,11,704,"key"],[44,20,11,707],[44,21,11,708],[44,24,11,711,"obj"],[44,27,11,714],[44,28,11,715,"key"],[44,31,11,718],[44,32,11,719],[45,8,11,721],[46,6,11,723],[47,4,11,725],[48,4,11,727,"newObj"],[48,10,11,733],[48,11,11,734,"default"],[48,18,11,741],[48,21,11,744,"obj"],[48,24,11,747],[49,4,11,749],[49,8,11,753,"cache"],[49,13,11,758],[49,15,11,760],[50,6,11,762,"cache"],[50,11,11,767],[50,12,11,768,"set"],[50,15,11,771],[50,16,11,772,"obj"],[50,19,11,775],[50,21,11,777,"newObj"],[50,27,11,783],[50,28,11,784],[51,4,11,786],[52,4,11,788],[52,11,11,795,"newObj"],[52,17,11,801],[53,2,11,803],[54,2,12,0],[55,0,13,0],[56,0,14,0],[57,2,15,0],[57,11,15,9,"useFocusEvents"],[57,25,15,23,"useFocusEvents"],[57,26,15,24,"_ref"],[57,30,15,28],[57,32,15,30],[58,4,16,2],[58,8,17,4,"state"],[58,13,17,9],[58,16,19,6,"_ref"],[58,20,19,10],[58,21,17,4,"state"],[58,26,17,9],[59,6,18,4,"emitter"],[59,13,18,11],[59,16,19,6,"_ref"],[59,20,19,10],[59,21,18,4,"emitter"],[59,28,18,11],[60,4,20,2],[60,8,20,8,"navigation"],[60,18,20,18],[60,21,20,21,"React"],[60,26,20,26],[60,27,20,27,"useContext"],[60,37,20,37],[60,38,20,38,"_NavigationContext"],[60,56,20,56],[60,57,20,57,"default"],[60,64,20,64],[60,65,20,65],[61,4,21,2],[61,8,21,8,"lastFocusedKeyRef"],[61,25,21,25],[61,28,21,28,"React"],[61,33,21,33],[61,34,21,34,"useRef"],[61,40,21,40],[61,41,21,41],[61,42,21,42],[62,4,22,2],[62,8,22,8,"currentFocusedKey"],[62,25,22,25],[62,28,22,28,"state"],[62,33,22,33],[62,34,22,34,"routes"],[62,40,22,40],[62,41,22,41,"state"],[62,46,22,46],[62,47,22,47,"index"],[62,52,22,52],[62,53,22,53],[62,54,22,54,"key"],[62,57,22,57],[64,4,24,2],[65,4,25,2],[66,4,26,2,"React"],[66,9,26,7],[66,10,26,8,"useEffect"],[66,19,26,17],[66,20,26,18],[67,6,26,18],[67,13,26,24,"navigation"],[67,23,26,34],[67,28,26,39],[67,32,26,43],[67,36,26,47,"navigation"],[67,46,26,57],[67,51,26,62],[67,56,26,67],[67,57,26,68],[67,60,26,71],[67,65,26,76],[67,66,26,77],[67,69,26,80,"navigation"],[67,79,26,90],[67,80,26,91,"addListener"],[67,91,26,102],[67,92,26,103],[67,99,26,110],[67,101,26,112],[67,113,26,118],[68,8,27,4,"lastFocusedKeyRef"],[68,25,27,21],[68,26,27,22,"current"],[68,33,27,29],[68,36,27,32,"currentFocusedKey"],[68,53,27,49],[69,8,28,4,"emitter"],[69,15,28,11],[69,16,28,12,"emit"],[69,20,28,16],[69,21,28,17],[70,10,29,6,"type"],[70,14,29,10],[70,16,29,12],[70,23,29,19],[71,10,30,6,"target"],[71,16,30,12],[71,18,30,14,"currentFocusedKey"],[72,8,31,4],[72,9,31,5],[72,10,31,6],[73,6,32,2],[73,7,32,3],[73,8,32,4],[74,4,32,4],[74,7,32,6],[74,8,32,7,"currentFocusedKey"],[74,25,32,24],[74,27,32,26,"emitter"],[74,34,32,33],[74,36,32,35,"navigation"],[74,46,32,45],[74,47,32,46],[74,48,32,47],[75,4,33,2,"React"],[75,9,33,7],[75,10,33,8,"useEffect"],[75,19,33,17],[75,20,33,18],[76,6,33,18],[76,13,33,24,"navigation"],[76,23,33,34],[76,28,33,39],[76,32,33,43],[76,36,33,47,"navigation"],[76,46,33,57],[76,51,33,62],[76,56,33,67],[76,57,33,68],[76,60,33,71],[76,65,33,76],[76,66,33,77],[76,69,33,80,"navigation"],[76,79,33,90],[76,80,33,91,"addListener"],[76,91,33,102],[76,92,33,103],[76,98,33,109],[76,100,33,111],[76,112,33,117],[77,8,34,4,"lastFocusedKeyRef"],[77,25,34,21],[77,26,34,22,"current"],[77,33,34,29],[77,36,34,32,"undefined"],[77,45,34,41],[78,8,35,4,"emitter"],[78,15,35,11],[78,16,35,12,"emit"],[78,20,35,16],[78,21,35,17],[79,10,36,6,"type"],[79,14,36,10],[79,16,36,12],[79,22,36,18],[80,10,37,6,"target"],[80,16,37,12],[80,18,37,14,"currentFocusedKey"],[81,8,38,4],[81,9,38,5],[81,10,38,6],[82,6,39,2],[82,7,39,3],[82,8,39,4],[83,4,39,4],[83,7,39,6],[83,8,39,7,"currentFocusedKey"],[83,25,39,24],[83,27,39,26,"emitter"],[83,34,39,33],[83,36,39,35,"navigation"],[83,46,39,45],[83,47,39,46],[83,48,39,47],[84,4,40,2,"React"],[84,9,40,7],[84,10,40,8,"useEffect"],[84,19,40,17],[84,20,40,18],[84,32,40,24],[85,6,41,4],[85,10,41,10,"lastFocusedKey"],[85,24,41,24],[85,27,41,27,"lastFocusedKeyRef"],[85,44,41,44],[85,45,41,45,"current"],[85,52,41,52],[86,6,42,4,"lastFocusedKeyRef"],[86,23,42,21],[86,24,42,22,"current"],[86,31,42,29],[86,34,42,32,"currentFocusedKey"],[86,51,42,49],[88,6,44,4],[89,6,45,4],[90,6,46,4],[90,10,46,8,"lastFocusedKey"],[90,24,46,22],[90,29,46,27,"undefined"],[90,38,46,36],[90,42,46,40],[90,43,46,41,"navigation"],[90,53,46,51],[90,55,46,53],[91,8,47,6,"emitter"],[91,15,47,13],[91,16,47,14,"emit"],[91,20,47,18],[91,21,47,19],[92,10,48,8,"type"],[92,14,48,12],[92,16,48,14],[92,23,48,21],[93,10,49,8,"target"],[93,16,49,14],[93,18,49,16,"currentFocusedKey"],[94,8,50,6],[94,9,50,7],[94,10,50,8],[95,6,51,4],[97,6,53,4],[98,6,54,4],[99,6,55,4],[99,10,55,8,"lastFocusedKey"],[99,24,55,22],[99,29,55,27,"currentFocusedKey"],[99,46,55,44],[99,50,55,48],[99,52,55,50,"navigation"],[99,62,55,60],[99,65,55,63,"navigation"],[99,75,55,73],[99,76,55,74,"isFocused"],[99,85,55,83],[99,86,55,84],[99,87,55,85],[99,90,55,88],[99,94,55,92],[99,95,55,93],[99,97,55,95],[100,8,56,6],[101,6,57,4],[102,6,58,4],[102,10,58,8,"lastFocusedKey"],[102,24,58,22],[102,29,58,27,"undefined"],[102,38,58,36],[102,40,58,38],[103,8,59,6],[104,8,60,6],[105,6,61,4],[106,6,62,4,"emitter"],[106,13,62,11],[106,14,62,12,"emit"],[106,18,62,16],[106,19,62,17],[107,8,63,6,"type"],[107,12,63,10],[107,14,63,12],[107,20,63,18],[108,8,64,6,"target"],[108,14,64,12],[108,16,64,14,"lastFocusedKey"],[109,6,65,4],[109,7,65,5],[109,8,65,6],[110,6,66,4,"emitter"],[110,13,66,11],[110,14,66,12,"emit"],[110,18,66,16],[110,19,66,17],[111,8,67,6,"type"],[111,12,67,10],[111,14,67,12],[111,21,67,19],[112,8,68,6,"target"],[112,14,68,12],[112,16,68,14,"currentFocusedKey"],[113,6,69,4],[113,7,69,5],[113,8,69,6],[114,4,70,2],[114,5,70,3],[114,7,70,5],[114,8,70,6,"currentFocusedKey"],[114,25,70,23],[114,27,70,25,"emitter"],[114,34,70,32],[114,36,70,34,"navigation"],[114,46,70,44],[114,47,70,45],[114,48,70,46],[115,2,71,0],[116,0,71,1]],"functionMap":{"names":["<global>","_interopRequireDefault","_getRequireWildcardCache","_interopRequireWildcard","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;ACQ,+FD;AEC,uTF;AGC,oyBH;AII;kBCW,8FC;GDM,CD;kBCC,6FC;GDM,CD;kBCC;GD8B;CJC"}},"type":"js/module"}]}