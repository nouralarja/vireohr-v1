{"dependencies":[{"name":"object-inspect","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":14,"index":29},"end":{"line":3,"column":39,"index":54}}],"key":"w0jqkdiahubXzpOrgOjA6ah7qvE="}},{"name":"es-errors/type","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":17,"index":74},"end":{"line":5,"column":42,"index":99}}],"key":"INq0nT1RL9tP9SVGFAU0qDHyank="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var inspect = _$$_REQUIRE(_dependencyMap[0], \"object-inspect\");\n  var $TypeError = _$$_REQUIRE(_dependencyMap[1], \"es-errors/type\");\n\n  /*\n  * This function traverses the list returning the node corresponding to the given key.\n  *\n  * That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list.\n  * By doing so, all the recently used nodes can be accessed relatively quickly.\n  */\n  /** @type {import('./list.d.ts').listGetNode} */\n  // eslint-disable-next-line consistent-return\n  var listGetNode = function listGetNode(list, key, isDelete) {\n    /** @type {typeof list | NonNullable<(typeof list)['next']>} */\n    var prev = list;\n    /** @type {(typeof list)['next']} */\n    var curr;\n    // eslint-disable-next-line eqeqeq\n    for (; (curr = prev.next) != null; prev = curr) {\n      if (curr.key === key) {\n        prev.next = curr.next;\n        if (!isDelete) {\n          // eslint-disable-next-line no-extra-parens\n          curr.next = /** @type {NonNullable<typeof list.next>} */list.next;\n          list.next = curr; // eslint-disable-line no-param-reassign\n        }\n        return curr;\n      }\n    }\n  };\n\n  /** @type {import('./list.d.ts').listGet} */\n  var listGet = function listGet(objects, key) {\n    if (!objects) {\n      return void undefined;\n    }\n    var node = listGetNode(objects, key);\n    return node && node.value;\n  };\n  /** @type {import('./list.d.ts').listSet} */\n  var listSet = function listSet(objects, key, value) {\n    var node = listGetNode(objects, key);\n    if (node) {\n      node.value = value;\n    } else {\n      // Prepend the new node to the beginning of the list\n      objects.next = /** @type {import('./list.d.ts').ListNode<typeof value, typeof key>} */{\n        // eslint-disable-line no-param-reassign, no-extra-parens\n        key: key,\n        next: objects.next,\n        value: value\n      };\n    }\n  };\n  /** @type {import('./list.d.ts').listHas} */\n  var listHas = function listHas(objects, key) {\n    if (!objects) {\n      return false;\n    }\n    return !!listGetNode(objects, key);\n  };\n  /** @type {import('./list.d.ts').listDelete} */\n  // eslint-disable-next-line consistent-return\n  var listDelete = function listDelete(objects, key) {\n    if (objects) {\n      return listGetNode(objects, key, true);\n    }\n  };\n\n  /** @type {import('.')} */\n  module.exports = function getSideChannelList() {\n    /** @typedef {ReturnType<typeof getSideChannelList>} Channel */\n    /** @typedef {Parameters<Channel['get']>[0]} K */\n    /** @typedef {Parameters<Channel['set']>[1]} V */\n\n    /** @type {import('./list.d.ts').RootNode<V, K> | undefined} */var $o;\n\n    /** @type {Channel} */\n    var channel = {\n      assert: function assert(key) {\n        if (!channel.has(key)) {\n          throw new $TypeError('Side channel does not contain ' + inspect(key));\n        }\n      },\n      'delete': function _delete(key) {\n        var root = $o && $o.next;\n        var deletedNode = listDelete($o, key);\n        if (deletedNode && root && root === deletedNode) {\n          $o = void undefined;\n        }\n        return !!deletedNode;\n      },\n      get: function get(key) {\n        return listGet($o, key);\n      },\n      has: function has(key) {\n        return listHas($o, key);\n      },\n      set: function set(key, value) {\n        if (!$o) {\n          // Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n          $o = {\n            next: void undefined\n          };\n        }\n        // eslint-disable-next-line no-extra-parens\n        listSet(/** @type {NonNullable<typeof $o>} */$o, key, value);\n      }\n    };\n    // @ts-expect-error TODO: figure out why this is erroring\n    return channel;\n  };\n});","lineCount":115,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"inspect"],[4,13,3,11],[4,16,3,14,"require"],[4,27,3,21],[4,28,3,21,"_dependencyMap"],[4,42,3,21],[4,63,3,38],[4,64,3,39],[5,2,5,0],[5,6,5,4,"$TypeError"],[5,16,5,14],[5,19,5,17,"require"],[5,30,5,24],[5,31,5,24,"_dependencyMap"],[5,45,5,24],[5,66,5,41],[5,67,5,42],[7,2,7,0],[8,0,8,0],[9,0,9,0],[10,0,10,0],[11,0,11,0],[12,0,12,0],[13,2,13,0],[14,2,14,0],[15,2,15,0],[15,6,15,4,"listGetNode"],[15,17,15,15],[15,20,15,18],[15,29,15,4,"listGetNode"],[15,40,15,15,"listGetNode"],[15,41,15,28,"list"],[15,45,15,32],[15,47,15,34,"key"],[15,50,15,37],[15,52,15,39,"isDelete"],[15,60,15,47],[15,62,15,49],[16,4,16,1],[17,4,17,1],[17,8,17,5,"prev"],[17,12,17,9],[17,15,17,12,"list"],[17,19,17,16],[18,4,18,1],[19,4,19,1],[19,8,19,5,"curr"],[19,12,19,9],[20,4,20,1],[21,4,21,1],[21,11,21,8],[21,12,21,9,"curr"],[21,16,21,13],[21,19,21,16,"prev"],[21,23,21,20],[21,24,21,21,"next"],[21,28,21,25],[21,33,21,30],[21,37,21,34],[21,39,21,36,"prev"],[21,43,21,40],[21,46,21,43,"curr"],[21,50,21,47],[21,52,21,49],[22,6,22,2],[22,10,22,6,"curr"],[22,14,22,10],[22,15,22,11,"key"],[22,18,22,14],[22,23,22,19,"key"],[22,26,22,22],[22,28,22,24],[23,8,23,3,"prev"],[23,12,23,7],[23,13,23,8,"next"],[23,17,23,12],[23,20,23,15,"curr"],[23,24,23,19],[23,25,23,20,"next"],[23,29,23,24],[24,8,24,3],[24,12,24,7],[24,13,24,8,"isDelete"],[24,21,24,16],[24,23,24,18],[25,10,25,4],[26,10,26,4,"curr"],[26,14,26,8],[26,15,26,9,"next"],[26,19,26,13],[26,22,26,16],[26,66,26,62,"list"],[26,70,26,66],[26,71,26,67,"next"],[26,75,26,72],[27,10,27,4,"list"],[27,14,27,8],[27,15,27,9,"next"],[27,19,27,13],[27,22,27,16,"curr"],[27,26,27,20],[27,27,27,21],[27,28,27,22],[28,8,28,3],[29,8,29,3],[29,15,29,10,"curr"],[29,19,29,14],[30,6,30,2],[31,4,31,1],[32,2,32,0],[32,3,32,1],[34,2,34,0],[35,2,35,0],[35,6,35,4,"listGet"],[35,13,35,11],[35,16,35,14],[35,25,35,4,"listGet"],[35,32,35,11,"listGet"],[35,33,35,24,"objects"],[35,40,35,31],[35,42,35,33,"key"],[35,45,35,36],[35,47,35,38],[36,4,36,1],[36,8,36,5],[36,9,36,6,"objects"],[36,16,36,13],[36,18,36,15],[37,6,37,2],[37,13,37,9],[37,18,37,14,"undefined"],[37,27,37,23],[38,4,38,1],[39,4,39,1],[39,8,39,5,"node"],[39,12,39,9],[39,15,39,12,"listGetNode"],[39,26,39,23],[39,27,39,24,"objects"],[39,34,39,31],[39,36,39,33,"key"],[39,39,39,36],[39,40,39,37],[40,4,40,1],[40,11,40,8,"node"],[40,15,40,12],[40,19,40,16,"node"],[40,23,40,20],[40,24,40,21,"value"],[40,29,40,26],[41,2,41,0],[41,3,41,1],[42,2,42,0],[43,2,43,0],[43,6,43,4,"listSet"],[43,13,43,11],[43,16,43,14],[43,25,43,4,"listSet"],[43,32,43,11,"listSet"],[43,33,43,24,"objects"],[43,40,43,31],[43,42,43,33,"key"],[43,45,43,36],[43,47,43,38,"value"],[43,52,43,43],[43,54,43,45],[44,4,44,1],[44,8,44,5,"node"],[44,12,44,9],[44,15,44,12,"listGetNode"],[44,26,44,23],[44,27,44,24,"objects"],[44,34,44,31],[44,36,44,33,"key"],[44,39,44,36],[44,40,44,37],[45,4,45,1],[45,8,45,5,"node"],[45,12,45,9],[45,14,45,11],[46,6,46,2,"node"],[46,10,46,6],[46,11,46,7,"value"],[46,16,46,12],[46,19,46,15,"value"],[46,24,46,20],[47,4,47,1],[47,5,47,2],[47,11,47,8],[48,6,48,2],[49,6,49,2,"objects"],[49,13,49,9],[49,14,49,10,"next"],[49,18,49,14],[49,21,49,17],[49,92,49,90],[50,8,49,92],[51,8,50,3,"key"],[51,11,50,6],[51,13,50,8,"key"],[51,16,50,11],[52,8,51,3,"next"],[52,12,51,7],[52,14,51,9,"objects"],[52,21,51,16],[52,22,51,17,"next"],[52,26,51,21],[53,8,52,3,"value"],[53,13,52,8],[53,15,52,10,"value"],[54,6,53,2],[54,7,53,4],[55,4,54,1],[56,2,55,0],[56,3,55,1],[57,2,56,0],[58,2,57,0],[58,6,57,4,"listHas"],[58,13,57,11],[58,16,57,14],[58,25,57,4,"listHas"],[58,32,57,11,"listHas"],[58,33,57,24,"objects"],[58,40,57,31],[58,42,57,33,"key"],[58,45,57,36],[58,47,57,38],[59,4,58,1],[59,8,58,5],[59,9,58,6,"objects"],[59,16,58,13],[59,18,58,15],[60,6,59,2],[60,13,59,9],[60,18,59,14],[61,4,60,1],[62,4,61,1],[62,11,61,8],[62,12,61,9],[62,13,61,10,"listGetNode"],[62,24,61,21],[62,25,61,22,"objects"],[62,32,61,29],[62,34,61,31,"key"],[62,37,61,34],[62,38,61,35],[63,2,62,0],[63,3,62,1],[64,2,63,0],[65,2,64,0],[66,2,65,0],[66,6,65,4,"listDelete"],[66,16,65,14],[66,19,65,17],[66,28,65,4,"listDelete"],[66,38,65,14,"listDelete"],[66,39,65,27,"objects"],[66,46,65,34],[66,48,65,36,"key"],[66,51,65,39],[66,53,65,41],[67,4,66,1],[67,8,66,5,"objects"],[67,15,66,12],[67,17,66,14],[68,6,67,2],[68,13,67,9,"listGetNode"],[68,24,67,20],[68,25,67,21,"objects"],[68,32,67,28],[68,34,67,30,"key"],[68,37,67,33],[68,39,67,35],[68,43,67,39],[68,44,67,40],[69,4,68,1],[70,2,69,0],[70,3,69,1],[72,2,71,0],[73,2,72,0,"module"],[73,8,72,6],[73,9,72,7,"exports"],[73,16,72,14],[73,19,72,17],[73,28,72,26,"getSideChannelList"],[73,46,72,44,"getSideChannelList"],[73,47,72,44],[73,49,72,47],[74,4,73,1],[75,4,74,1],[76,4,75,1],[78,4,77,1],[78,67,77,65],[78,71,77,69,"$o"],[78,73,77,71],[80,4,79,1],[81,4,80,1],[81,8,80,5,"channel"],[81,15,80,12],[81,18,80,15],[82,6,81,2,"assert"],[82,12,81,8],[82,14,81,10],[82,23,81,2,"assert"],[82,29,81,8,"assert"],[82,30,81,20,"key"],[82,33,81,23],[82,35,81,25],[83,8,82,3],[83,12,82,7],[83,13,82,8,"channel"],[83,20,82,15],[83,21,82,16,"has"],[83,24,82,19],[83,25,82,20,"key"],[83,28,82,23],[83,29,82,24],[83,31,82,26],[84,10,83,4],[84,16,83,10],[84,20,83,14,"$TypeError"],[84,30,83,24],[84,31,83,25],[84,63,83,57],[84,66,83,60,"inspect"],[84,73,83,67],[84,74,83,68,"key"],[84,77,83,71],[84,78,83,72],[84,79,83,73],[85,8,84,3],[86,6,85,2],[86,7,85,3],[87,6,86,2],[87,14,86,10],[87,16,86,12],[87,25,86,2,"_delete"],[87,32,86,10,"_delete"],[87,33,86,22,"key"],[87,36,86,25],[87,38,86,27],[88,8,87,3],[88,12,87,7,"root"],[88,16,87,11],[88,19,87,14,"$o"],[88,21,87,16],[88,25,87,20,"$o"],[88,27,87,22],[88,28,87,23,"next"],[88,32,87,27],[89,8,88,3],[89,12,88,7,"deletedNode"],[89,23,88,18],[89,26,88,21,"listDelete"],[89,36,88,31],[89,37,88,32,"$o"],[89,39,88,34],[89,41,88,36,"key"],[89,44,88,39],[89,45,88,40],[90,8,89,3],[90,12,89,7,"deletedNode"],[90,23,89,18],[90,27,89,22,"root"],[90,31,89,26],[90,35,89,30,"root"],[90,39,89,34],[90,44,89,39,"deletedNode"],[90,55,89,50],[90,57,89,52],[91,10,90,4,"$o"],[91,12,90,6],[91,15,90,9],[91,20,90,14,"undefined"],[91,29,90,23],[92,8,91,3],[93,8,92,3],[93,15,92,10],[93,16,92,11],[93,17,92,12,"deletedNode"],[93,28,92,23],[94,6,93,2],[94,7,93,3],[95,6,94,2,"get"],[95,9,94,5],[95,11,94,7],[95,20,94,2,"get"],[95,23,94,5,"get"],[95,24,94,17,"key"],[95,27,94,20],[95,29,94,22],[96,8,95,3],[96,15,95,10,"listGet"],[96,22,95,17],[96,23,95,18,"$o"],[96,25,95,20],[96,27,95,22,"key"],[96,30,95,25],[96,31,95,26],[97,6,96,2],[97,7,96,3],[98,6,97,2,"has"],[98,9,97,5],[98,11,97,7],[98,20,97,2,"has"],[98,23,97,5,"has"],[98,24,97,17,"key"],[98,27,97,20],[98,29,97,22],[99,8,98,3],[99,15,98,10,"listHas"],[99,22,98,17],[99,23,98,18,"$o"],[99,25,98,20],[99,27,98,22,"key"],[99,30,98,25],[99,31,98,26],[100,6,99,2],[100,7,99,3],[101,6,100,2,"set"],[101,9,100,5],[101,11,100,7],[101,20,100,2,"set"],[101,23,100,5,"set"],[101,24,100,17,"key"],[101,27,100,20],[101,29,100,22,"value"],[101,34,100,27],[101,36,100,29],[102,8,101,3],[102,12,101,7],[102,13,101,8,"$o"],[102,15,101,10],[102,17,101,12],[103,10,102,4],[104,10,103,4,"$o"],[104,12,103,6],[104,15,103,9],[105,12,104,5,"next"],[105,16,104,9],[105,18,104,11],[105,23,104,16,"undefined"],[106,10,105,4],[106,11,105,5],[107,8,106,3],[108,8,107,3],[109,8,108,3,"listSet"],[109,15,108,10],[109,16,108,11],[109,53,108,50,"$o"],[109,55,108,52],[109,57,108,55,"key"],[109,60,108,58],[109,62,108,60,"value"],[109,67,108,65],[109,68,108,66],[110,6,109,2],[111,4,110,1],[111,5,110,2],[112,4,111,1],[113,4,112,1],[113,11,112,8,"channel"],[113,18,112,15],[114,2,113,0],[114,3,113,1],[115,0,113,2]],"functionMap":{"names":["<global>","listGetNode","listGet","listSet","listHas","listDelete","getSideChannelList","channel.assert","channel._delete","channel.get","channel.has","channel.set"],"mappings":"AAA;kBCc;CDiB;cEG;CFM;cGE;CHY;cIE;CJK;iBKG;CLI;iBMG;UCS;GDI;YEC;GFO;OGC;GHE;OIC;GJE;OKC;GLS;CNI"}},"type":"js/module"}]}