{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":63,"column":42,"index":2243}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationContext","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":52,"index":84}}],"key":"zgSDczcMDbcgKjO1DngU1GAHQtI="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useFocusEvents;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[1], \"react\"));\n  var _NavigationContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./NavigationContext\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  /**\n   * Hook to take care of emitting `focus` and `blur` events.\n   */\n  function useFocusEvents(_ref) {\n    var state = _ref.state,\n      emitter = _ref.emitter;\n    var navigation = React.useContext(_NavigationContext.default);\n    var lastFocusedKeyRef = React.useRef();\n    var currentFocusedKey = state.routes[state.index].key;\n\n    // When the parent screen changes its focus state, we also need to change child's focus\n    // Coz the child screen can't be focused if the parent screen is out of focus\n    React.useEffect(function () {\n      return navigation === null || navigation === void 0 ? void 0 : navigation.addListener('focus', function () {\n        lastFocusedKeyRef.current = currentFocusedKey;\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      return navigation === null || navigation === void 0 ? void 0 : navigation.addListener('blur', function () {\n        lastFocusedKeyRef.current = undefined;\n        emitter.emit({\n          type: 'blur',\n          target: currentFocusedKey\n        });\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n    React.useEffect(function () {\n      var lastFocusedKey = lastFocusedKeyRef.current;\n      lastFocusedKeyRef.current = currentFocusedKey;\n\n      // We wouldn't have `lastFocusedKey` on initial mount\n      // Fire focus event for the current route on mount if there's no parent navigator\n      if (lastFocusedKey === undefined && !navigation) {\n        emitter.emit({\n          type: 'focus',\n          target: currentFocusedKey\n        });\n      }\n\n      // We should only emit events when the focused key changed and navigator is focused\n      // When navigator is not focused, screens inside shouldn't receive focused status either\n      if (lastFocusedKey === currentFocusedKey || !(navigation ? navigation.isFocused() : true)) {\n        return;\n      }\n      if (lastFocusedKey === undefined) {\n        // Only fire events after initial mount\n        return;\n      }\n      emitter.emit({\n        type: 'blur',\n        target: lastFocusedKey\n      });\n      emitter.emit({\n        type: 'focus',\n        target: currentFocusedKey\n      });\n    }, [currentFocusedKey, emitter, navigation]);\n  }\n});","lineCount":72,"map":[[7,2,1,0],[7,6,1,0,"React"],[7,11,1,0],[7,14,1,0,"_interopRequireWildcard"],[7,37,1,0],[7,38,1,0,"_$$_REQUIRE"],[7,49,1,0],[7,50,1,0,"_dependencyMap"],[7,64,1,0],[8,2,2,0],[8,6,2,0,"_NavigationContext"],[8,24,2,0],[8,27,2,0,"_interopRequireDefault"],[8,49,2,0],[8,50,2,0,"_$$_REQUIRE"],[8,61,2,0],[8,62,2,0,"_dependencyMap"],[8,76,2,0],[9,2,2,52],[9,11,2,52,"_interopRequireWildcard"],[9,35,2,52,"e"],[9,36,2,52],[9,38,2,52,"t"],[9,39,2,52],[9,68,2,52,"WeakMap"],[9,75,2,52],[9,81,2,52,"r"],[9,82,2,52],[9,89,2,52,"WeakMap"],[9,96,2,52],[9,100,2,52,"n"],[9,101,2,52],[9,108,2,52,"WeakMap"],[9,115,2,52],[9,127,2,52,"_interopRequireWildcard"],[9,150,2,52],[9,162,2,52,"_interopRequireWildcard"],[9,186,2,52,"e"],[9,187,2,52],[9,189,2,52,"t"],[9,190,2,52],[9,199,2,52,"t"],[9,200,2,52],[9,204,2,52,"e"],[9,205,2,52],[9,209,2,52,"e"],[9,210,2,52],[9,211,2,52,"__esModule"],[9,221,2,52],[9,230,2,52,"e"],[9,231,2,52],[9,237,2,52,"o"],[9,238,2,52],[9,240,2,52,"i"],[9,241,2,52],[9,243,2,52,"f"],[9,244,2,52],[9,249,2,52,"__proto__"],[9,258,2,52],[9,266,2,52,"default"],[9,273,2,52],[9,275,2,52,"e"],[9,276,2,52],[9,293,2,52,"e"],[9,294,2,52],[9,317,2,52,"e"],[9,318,2,52],[9,343,2,52,"e"],[9,344,2,52],[9,353,2,52,"f"],[9,354,2,52],[9,360,2,52,"o"],[9,361,2,52],[9,364,2,52,"t"],[9,365,2,52],[9,368,2,52,"n"],[9,369,2,52],[9,372,2,52,"r"],[9,373,2,52],[9,381,2,52,"o"],[9,382,2,52],[9,383,2,52,"has"],[9,386,2,52],[9,387,2,52,"e"],[9,388,2,52],[9,398,2,52,"o"],[9,399,2,52],[9,400,2,52,"get"],[9,403,2,52],[9,404,2,52,"e"],[9,405,2,52],[9,408,2,52,"o"],[9,409,2,52],[9,410,2,52,"set"],[9,413,2,52],[9,414,2,52,"e"],[9,415,2,52],[9,417,2,52,"f"],[9,418,2,52],[9,432,2,52,"_t"],[9,434,2,52],[9,438,2,52,"e"],[9,439,2,52],[9,455,2,52,"_t"],[9,457,2,52],[9,464,2,52,"hasOwnProperty"],[9,478,2,52],[9,479,2,52,"call"],[9,483,2,52],[9,484,2,52,"e"],[9,485,2,52],[9,487,2,52,"_t"],[9,489,2,52],[9,496,2,52,"i"],[9,497,2,52],[9,501,2,52,"o"],[9,502,2,52],[9,505,2,52,"Object"],[9,511,2,52],[9,512,2,52,"defineProperty"],[9,526,2,52],[9,531,2,52,"Object"],[9,537,2,52],[9,538,2,52,"getOwnPropertyDescriptor"],[9,562,2,52],[9,563,2,52,"e"],[9,564,2,52],[9,566,2,52,"_t"],[9,568,2,52],[9,575,2,52,"i"],[9,576,2,52],[9,577,2,52,"get"],[9,580,2,52],[9,584,2,52,"i"],[9,585,2,52],[9,586,2,52,"set"],[9,589,2,52],[9,593,2,52,"o"],[9,594,2,52],[9,595,2,52,"f"],[9,596,2,52],[9,598,2,52,"_t"],[9,600,2,52],[9,602,2,52,"i"],[9,603,2,52],[9,607,2,52,"f"],[9,608,2,52],[9,609,2,52,"_t"],[9,611,2,52],[9,615,2,52,"e"],[9,616,2,52],[9,617,2,52,"_t"],[9,619,2,52],[9,630,2,52,"f"],[9,631,2,52],[9,636,2,52,"e"],[9,637,2,52],[9,639,2,52,"t"],[9,640,2,52],[10,2,3,0],[11,0,4,0],[12,0,5,0],[13,2,6,15],[13,11,6,24,"useFocusEvents"],[13,25,6,38,"useFocusEvents"],[13,26,6,39,"_ref"],[13,30,6,43],[13,32,6,45],[14,4,7,2],[14,8,8,4,"state"],[14,13,8,9],[14,16,10,6,"_ref"],[14,20,10,10],[14,21,8,4,"state"],[14,26,8,9],[15,6,9,4,"emitter"],[15,13,9,11],[15,16,10,6,"_ref"],[15,20,10,10],[15,21,9,4,"emitter"],[15,28,9,11],[16,4,11,2],[16,8,11,8,"navigation"],[16,18,11,18],[16,21,11,21,"React"],[16,26,11,26],[16,27,11,27,"useContext"],[16,37,11,37],[16,38,11,38,"NavigationContext"],[16,64,11,55],[16,65,11,56],[17,4,12,2],[17,8,12,8,"lastFocusedKeyRef"],[17,25,12,25],[17,28,12,28,"React"],[17,33,12,33],[17,34,12,34,"useRef"],[17,40,12,40],[17,41,12,41],[17,42,12,42],[18,4,13,2],[18,8,13,8,"currentFocusedKey"],[18,25,13,25],[18,28,13,28,"state"],[18,33,13,33],[18,34,13,34,"routes"],[18,40,13,40],[18,41,13,41,"state"],[18,46,13,46],[18,47,13,47,"index"],[18,52,13,52],[18,53,13,53],[18,54,13,54,"key"],[18,57,13,57],[20,4,15,2],[21,4,16,2],[22,4,17,2,"React"],[22,9,17,7],[22,10,17,8,"useEffect"],[22,19,17,17],[22,20,17,18],[23,6,17,18],[23,13,17,24,"navigation"],[23,23,17,34],[23,28,17,39],[23,32,17,43],[23,36,17,47,"navigation"],[23,46,17,57],[23,51,17,62],[23,56,17,67],[23,57,17,68],[23,60,17,71],[23,65,17,76],[23,66,17,77],[23,69,17,80,"navigation"],[23,79,17,90],[23,80,17,91,"addListener"],[23,91,17,102],[23,92,17,103],[23,99,17,110],[23,101,17,112],[23,113,17,118],[24,8,18,4,"lastFocusedKeyRef"],[24,25,18,21],[24,26,18,22,"current"],[24,33,18,29],[24,36,18,32,"currentFocusedKey"],[24,53,18,49],[25,8,19,4,"emitter"],[25,15,19,11],[25,16,19,12,"emit"],[25,20,19,16],[25,21,19,17],[26,10,20,6,"type"],[26,14,20,10],[26,16,20,12],[26,23,20,19],[27,10,21,6,"target"],[27,16,21,12],[27,18,21,14,"currentFocusedKey"],[28,8,22,4],[28,9,22,5],[28,10,22,6],[29,6,23,2],[29,7,23,3],[29,8,23,4],[30,4,23,4],[30,7,23,6],[30,8,23,7,"currentFocusedKey"],[30,25,23,24],[30,27,23,26,"emitter"],[30,34,23,33],[30,36,23,35,"navigation"],[30,46,23,45],[30,47,23,46],[30,48,23,47],[31,4,24,2,"React"],[31,9,24,7],[31,10,24,8,"useEffect"],[31,19,24,17],[31,20,24,18],[32,6,24,18],[32,13,24,24,"navigation"],[32,23,24,34],[32,28,24,39],[32,32,24,43],[32,36,24,47,"navigation"],[32,46,24,57],[32,51,24,62],[32,56,24,67],[32,57,24,68],[32,60,24,71],[32,65,24,76],[32,66,24,77],[32,69,24,80,"navigation"],[32,79,24,90],[32,80,24,91,"addListener"],[32,91,24,102],[32,92,24,103],[32,98,24,109],[32,100,24,111],[32,112,24,117],[33,8,25,4,"lastFocusedKeyRef"],[33,25,25,21],[33,26,25,22,"current"],[33,33,25,29],[33,36,25,32,"undefined"],[33,45,25,41],[34,8,26,4,"emitter"],[34,15,26,11],[34,16,26,12,"emit"],[34,20,26,16],[34,21,26,17],[35,10,27,6,"type"],[35,14,27,10],[35,16,27,12],[35,22,27,18],[36,10,28,6,"target"],[36,16,28,12],[36,18,28,14,"currentFocusedKey"],[37,8,29,4],[37,9,29,5],[37,10,29,6],[38,6,30,2],[38,7,30,3],[38,8,30,4],[39,4,30,4],[39,7,30,6],[39,8,30,7,"currentFocusedKey"],[39,25,30,24],[39,27,30,26,"emitter"],[39,34,30,33],[39,36,30,35,"navigation"],[39,46,30,45],[39,47,30,46],[39,48,30,47],[40,4,31,2,"React"],[40,9,31,7],[40,10,31,8,"useEffect"],[40,19,31,17],[40,20,31,18],[40,32,31,24],[41,6,32,4],[41,10,32,10,"lastFocusedKey"],[41,24,32,24],[41,27,32,27,"lastFocusedKeyRef"],[41,44,32,44],[41,45,32,45,"current"],[41,52,32,52],[42,6,33,4,"lastFocusedKeyRef"],[42,23,33,21],[42,24,33,22,"current"],[42,31,33,29],[42,34,33,32,"currentFocusedKey"],[42,51,33,49],[44,6,35,4],[45,6,36,4],[46,6,37,4],[46,10,37,8,"lastFocusedKey"],[46,24,37,22],[46,29,37,27,"undefined"],[46,38,37,36],[46,42,37,40],[46,43,37,41,"navigation"],[46,53,37,51],[46,55,37,53],[47,8,38,6,"emitter"],[47,15,38,13],[47,16,38,14,"emit"],[47,20,38,18],[47,21,38,19],[48,10,39,8,"type"],[48,14,39,12],[48,16,39,14],[48,23,39,21],[49,10,40,8,"target"],[49,16,40,14],[49,18,40,16,"currentFocusedKey"],[50,8,41,6],[50,9,41,7],[50,10,41,8],[51,6,42,4],[53,6,44,4],[54,6,45,4],[55,6,46,4],[55,10,46,8,"lastFocusedKey"],[55,24,46,22],[55,29,46,27,"currentFocusedKey"],[55,46,46,44],[55,50,46,48],[55,52,46,50,"navigation"],[55,62,46,60],[55,65,46,63,"navigation"],[55,75,46,73],[55,76,46,74,"isFocused"],[55,85,46,83],[55,86,46,84],[55,87,46,85],[55,90,46,88],[55,94,46,92],[55,95,46,93],[55,97,46,95],[56,8,47,6],[57,6,48,4],[58,6,49,4],[58,10,49,8,"lastFocusedKey"],[58,24,49,22],[58,29,49,27,"undefined"],[58,38,49,36],[58,40,49,38],[59,8,50,6],[60,8,51,6],[61,6,52,4],[62,6,53,4,"emitter"],[62,13,53,11],[62,14,53,12,"emit"],[62,18,53,16],[62,19,53,17],[63,8,54,6,"type"],[63,12,54,10],[63,14,54,12],[63,20,54,18],[64,8,55,6,"target"],[64,14,55,12],[64,16,55,14,"lastFocusedKey"],[65,6,56,4],[65,7,56,5],[65,8,56,6],[66,6,57,4,"emitter"],[66,13,57,11],[66,14,57,12,"emit"],[66,18,57,16],[66,19,57,17],[67,8,58,6,"type"],[67,12,58,10],[67,14,58,12],[67,21,58,19],[68,8,59,6,"target"],[68,14,59,12],[68,16,59,14,"currentFocusedKey"],[69,6,60,4],[69,7,60,5],[69,8,60,6],[70,4,61,2],[70,5,61,3],[70,7,61,5],[70,8,61,6,"currentFocusedKey"],[70,25,61,23],[70,27,61,25,"emitter"],[70,34,61,32],[70,36,61,34,"navigation"],[70,46,61,44],[70,47,61,45],[70,48,61,46],[71,2,62,0],[72,0,62,1]],"functionMap":{"names":["<global>","useFocusEvents","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCK;kBCW,8FC;GDM,CD;kBCC,6FC;GDM,CD;kBCC;GD8B;CDC"}},"type":"js/module"}]}