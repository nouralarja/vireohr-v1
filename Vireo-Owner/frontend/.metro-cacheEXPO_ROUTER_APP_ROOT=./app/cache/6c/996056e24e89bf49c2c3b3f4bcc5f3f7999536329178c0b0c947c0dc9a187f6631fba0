{"dependencies":[{"name":"./matchers","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":42},"end":{"line":2,"column":73,"index":115}}],"key":"r7IFX4/qJzuJVkO9YohL0nqjKek="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getReactNavigationConfig = getReactNavigationConfig;\n  exports.getReactNavigationScreensConfig = getReactNavigationScreensConfig;\n  var _matchers = _$$_REQUIRE(_dependencyMap[0], \"./matchers\");\n  // `[page]` -> `:page`\n  // `page` -> `page`\n  function convertDynamicRouteToReactNavigation(segment) {\n    // NOTE(EvanBacon): To support shared routes we preserve group segments.\n    if (segment === \"index\") {\n      return \"\";\n    }\n    var rest = (0, _matchers.matchDeepDynamicRouteName)(segment);\n    if (rest != null) {\n      return \"*\" + rest;\n    }\n    var dynamicName = (0, _matchers.matchDynamicName)(segment);\n    if (dynamicName != null) {\n      return `:${dynamicName}`;\n    }\n    return segment;\n  }\n  function parseRouteSegments(segments) {\n    return (\n      // NOTE(EvanBacon): When there are nested routes without layouts\n      // the node.route will be something like `app/home/index`\n      // this needs to be split to ensure each segment is parsed correctly.\n      segments.split(\"/\")\n      // Convert each segment to a React Navigation format.\n      .map(convertDynamicRouteToReactNavigation)\n      // Remove any empty paths from groups or index routes.\n      .filter(Boolean)\n      // Join to return as a path.\n      .join(\"/\")\n    );\n  }\n  function convertRouteNodeToScreen(node, metaOnly) {\n    var path = parseRouteSegments(node.route);\n    if (!node.children.length) {\n      if (!metaOnly) {\n        return {\n          path: path,\n          screens: {},\n          _route: node\n        };\n      }\n      return path;\n    }\n    var screens = getReactNavigationScreensConfig(node.children, metaOnly);\n    var screen = {\n      path: path,\n      screens: screens,\n      // NOTE(EvanBacon): This is bad because it forces all Layout Routes\n      // to be loaded into memory. We should move towards a system where\n      // the initial route name is either loaded asynchronously in the Layout Route\n      // or defined via a file system convention.\n      initialRouteName: node.initialRouteName\n    };\n    if (!metaOnly) {\n      screen._route = node;\n    }\n    return screen;\n  }\n  function getReactNavigationScreensConfig(nodes, metaOnly) {\n    return Object.fromEntries(nodes.map(function (node) {\n      return [node.route, convertRouteNodeToScreen(node, metaOnly)];\n    }));\n  }\n  function getReactNavigationConfig(routes, metaOnly) {\n    return {\n      initialRouteName: routes.initialRouteName,\n      screens: getReactNavigationScreensConfig(routes.children, metaOnly)\n    };\n  }\n});","lineCount":77,"map":[[7,2,2,0],[7,6,2,0,"_matchers"],[7,15,2,0],[7,18,2,0,"_$$_REQUIRE"],[7,29,2,0],[7,30,2,0,"_dependencyMap"],[7,44,2,0],[8,2,13,0],[9,2,14,0],[10,2,15,0],[10,11,15,9,"convertDynamicRouteToReactNavigation"],[10,47,15,45,"convertDynamicRouteToReactNavigation"],[10,48,15,46,"segment"],[10,55,15,61],[10,57,15,71],[11,4,16,2],[12,4,17,2],[12,8,17,6,"segment"],[12,15,17,13],[12,20,17,18],[12,27,17,25],[12,29,17,27],[13,6,18,4],[13,13,18,11],[13,15,18,13],[14,4,19,2],[15,4,21,2],[15,8,21,8,"rest"],[15,12,21,12],[15,15,21,15],[15,19,21,15,"matchDeepDynamicRouteName"],[15,54,21,40],[15,56,21,41,"segment"],[15,63,21,48],[15,64,21,49],[16,4,22,2],[16,8,22,6,"rest"],[16,12,22,10],[16,16,22,14],[16,20,22,18],[16,22,22,20],[17,6,23,4],[17,13,23,11],[17,16,23,14],[17,19,23,17,"rest"],[17,23,23,21],[18,4,24,2],[19,4,25,2],[19,8,25,8,"dynamicName"],[19,19,25,19],[19,22,25,22],[19,26,25,22,"matchDynamicName"],[19,52,25,38],[19,54,25,39,"segment"],[19,61,25,46],[19,62,25,47],[20,4,27,2],[20,8,27,6,"dynamicName"],[20,19,27,17],[20,23,27,21],[20,27,27,25],[20,29,27,27],[21,6,28,4],[21,13,28,11],[21,17,28,15,"dynamicName"],[21,28,28,26],[21,30,28,28],[22,4,29,2],[23,4,31,2],[23,11,31,9,"segment"],[23,18,31,16],[24,2,32,0],[25,2,34,0],[25,11,34,9,"parseRouteSegments"],[25,29,34,27,"parseRouteSegments"],[25,30,34,28,"segments"],[25,38,34,44],[25,40,34,54],[26,4,35,2],[27,6,36,4],[28,6,37,4],[29,6,38,4],[30,6,39,4,"segments"],[30,14,39,12],[30,15,40,7,"split"],[30,20,40,12],[30,21,40,13],[30,24,40,16],[31,6,41,6],[32,6,41,6],[32,7,42,7,"map"],[32,10,42,10],[32,11,42,11,"convertDynamicRouteToReactNavigation"],[32,47,42,47],[33,6,43,6],[34,6,43,6],[34,7,44,7,"filter"],[34,13,44,13],[34,14,44,14,"Boolean"],[34,21,44,21],[35,6,45,6],[36,6,45,6],[36,7,46,7,"join"],[36,11,46,11],[36,12,46,12],[36,15,46,15],[37,4,46,16],[38,2,48,0],[39,2,50,0],[39,11,50,9,"convertRouteNodeToScreen"],[39,35,50,33,"convertRouteNodeToScreen"],[39,36,50,34,"node"],[39,40,50,49],[39,42,50,51,"metaOnly"],[39,50,50,68],[39,52,50,78],[40,4,51,2],[40,8,51,8,"path"],[40,12,51,12],[40,15,51,15,"parseRouteSegments"],[40,33,51,33],[40,34,51,34,"node"],[40,38,51,38],[40,39,51,39,"route"],[40,44,51,44],[40,45,51,45],[41,4,52,2],[41,8,52,6],[41,9,52,7,"node"],[41,13,52,11],[41,14,52,12,"children"],[41,22,52,20],[41,23,52,21,"length"],[41,29,52,27],[41,31,52,29],[42,6,53,4],[42,10,53,8],[42,11,53,9,"metaOnly"],[42,19,53,17],[42,21,53,19],[43,8,54,6],[43,15,54,13],[44,10,55,8,"path"],[44,14,55,12],[44,16,55,8,"path"],[44,20,55,12],[45,10,56,8,"screens"],[45,17,56,15],[45,19,56,17],[45,20,56,18],[45,21,56,19],[46,10,57,8,"_route"],[46,16,57,14],[46,18,57,16,"node"],[47,8,58,6],[47,9,58,7],[48,6,59,4],[49,6,60,4],[49,13,60,11,"path"],[49,17,60,15],[50,4,61,2],[51,4,62,2],[51,8,62,8,"screens"],[51,15,62,15],[51,18,62,18,"getReactNavigationScreensConfig"],[51,49,62,49],[51,50,62,50,"node"],[51,54,62,54],[51,55,62,55,"children"],[51,63,62,63],[51,65,62,65,"metaOnly"],[51,73,62,73],[51,74,62,74],[52,4,64,2],[52,8,64,8,"screen"],[52,14,64,22],[52,17,64,25],[53,6,65,4,"path"],[53,10,65,8],[53,12,65,4,"path"],[53,16,65,8],[54,6,66,4,"screens"],[54,13,66,11],[54,15,66,4,"screens"],[54,22,66,11],[55,6,67,4],[56,6,68,4],[57,6,69,4],[58,6,70,4],[59,6,71,4,"initialRouteName"],[59,22,71,20],[59,24,71,22,"node"],[59,28,71,26],[59,29,71,27,"initialRouteName"],[60,4,72,2],[60,5,72,3],[61,4,74,2],[61,8,74,6],[61,9,74,7,"metaOnly"],[61,17,74,15],[61,19,74,17],[62,6,75,4,"screen"],[62,12,75,10],[62,13,75,11,"_route"],[62,19,75,17],[62,22,75,20,"node"],[62,26,75,24],[63,4,76,2],[64,4,78,2],[64,11,78,9,"screen"],[64,17,78,15],[65,2,79,0],[66,2,81,7],[66,11,81,16,"getReactNavigationScreensConfig"],[66,42,81,47,"getReactNavigationScreensConfig"],[66,43,82,2,"nodes"],[66,48,82,20],[66,50,83,2,"metaOnly"],[66,58,83,19],[66,60,84,26],[67,4,85,2],[67,11,85,9,"Object"],[67,17,85,15],[67,18,85,16,"fromEntries"],[67,29,85,27],[67,30,86,4,"nodes"],[67,35,86,9],[67,36,86,10,"map"],[67,39,86,13],[67,40,87,6],[67,50,87,7,"node"],[67,54,87,11],[68,6,87,11],[68,13,87,16],[68,14,87,17,"node"],[68,18,87,21],[68,19,87,22,"route"],[68,24,87,27],[68,26,87,29,"convertRouteNodeToScreen"],[68,50,87,53],[68,51,87,54,"node"],[68,55,87,58],[68,57,87,60,"metaOnly"],[68,65,87,68],[68,66,87,69],[68,67,87,70],[69,4,87,70],[69,5,88,4],[69,6,89,2],[69,7,89,3],[70,2,90,0],[71,2,92,7],[71,11,92,16,"getReactNavigationConfig"],[71,35,92,40,"getReactNavigationConfig"],[71,36,93,2,"routes"],[71,42,93,19],[71,44,94,2,"metaOnly"],[71,52,94,19],[71,54,98,2],[72,4,99,2],[72,11,99,9],[73,6,100,4,"initialRouteName"],[73,22,100,20],[73,24,100,22,"routes"],[73,30,100,28],[73,31,100,29,"initialRouteName"],[73,47,100,45],[74,6,101,4,"screens"],[74,13,101,11],[74,15,101,13,"getReactNavigationScreensConfig"],[74,46,101,44],[74,47,101,45,"routes"],[74,53,101,51],[74,54,101,52,"children"],[74,62,101,60],[74,64,101,62,"metaOnly"],[74,72,101,70],[75,4,102,2],[75,5,102,3],[76,2,103,0],[77,0,103,1]],"functionMap":{"names":["<global>","convertDynamicRouteToReactNavigation","parseRouteSegments","convertRouteNodeToScreen","getReactNavigationScreensConfig","nodes.map$argument_0","getReactNavigationConfig"],"mappings":"AAA;ACc;CDiB;AEE;CFc;AGE;CH6B;OIE;MCM,yED;CJG;OME;CNW"}},"type":"js/module"}]}