{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":46,"column":43,"index":1407}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":46,"column":43,"index":1407}}],"key":"XnmB3YjhLQUu4Gtg+kalDAx6bCo="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"../animation","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":49,"index":92}}],"key":"wPtFfqGZggOOZdQcS2Mweh4oTgY="}},{"name":"../core","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":63,"index":156}}],"key":"VLk+qcyrxDAPvpn7SWZ7jlIDVZM="}},{"name":"../PlatformChecker","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":157},"end":{"line":4,"column":52,"index":209}}],"key":"o5sboqx6ZsiO/hfdUrPq1R4MouM="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDerivedValue = useDerivedValue;\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n  var _react = _$$_REQUIRE(_dependencyMap[2], \"react\");\n  var _animation = _$$_REQUIRE(_dependencyMap[3], \"../animation\");\n  var _core = _$$_REQUIRE(_dependencyMap[4], \"../core\");\n  var _PlatformChecker = _$$_REQUIRE(_dependencyMap[5], \"../PlatformChecker\");\n  function useDerivedValue(processor, dependencies) {\n    var _processor$_closure;\n    var initRef = (0, _react.useRef)(null);\n    var inputs = Object.values((_processor$_closure = processor._closure) != null ? _processor$_closure : {});\n    if ((0, _PlatformChecker.shouldBeUseWeb)()) {\n      var _dependencies;\n      if (!inputs.length && (_dependencies = dependencies) !== null && _dependencies !== void 0 && _dependencies.length) {\n        // let web work without a Babel/SWC plugin\n        inputs = dependencies;\n      }\n    }\n\n    // build dependencies\n    if (dependencies === undefined) {\n      dependencies = [].concat((0, _toConsumableArray2.default)(inputs), [processor.__workletHash]);\n    } else {\n      dependencies.push(processor.__workletHash);\n    }\n    if (initRef.current === null) {\n      initRef.current = (0, _core.makeMutable)((0, _animation.initialUpdaterRun)(processor));\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    var sharedValue = initRef.current;\n    (0, _react.useEffect)(function () {\n      var fun = function fun() {\n        'worklet';\n\n        sharedValue.value = processor();\n      };\n      var mapperId = (0, _core.startMapper)(fun, inputs, [sharedValue]);\n      return function () {\n        (0, _core.stopMapper)(mapperId);\n      };\n    }, dependencies);\n    (0, _react.useEffect)(function () {\n      return function () {\n        initRef.current = null;\n      };\n    }, []);\n    return sharedValue;\n  }\n});","lineCount":54,"map":[[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"_$$_REQUIRE"],[8,26,1,0],[8,27,1,0,"_dependencyMap"],[8,41,1,0],[9,2,2,0],[9,6,2,0,"_animation"],[9,16,2,0],[9,19,2,0,"_$$_REQUIRE"],[9,30,2,0],[9,31,2,0,"_dependencyMap"],[9,45,2,0],[10,2,3,0],[10,6,3,0,"_core"],[10,11,3,0],[10,14,3,0,"_$$_REQUIRE"],[10,25,3,0],[10,26,3,0,"_dependencyMap"],[10,40,3,0],[11,2,4,0],[11,6,4,0,"_PlatformChecker"],[11,22,4,0],[11,25,4,0,"_$$_REQUIRE"],[11,36,4,0],[11,37,4,0,"_dependencyMap"],[11,51,4,0],[12,2,5,7],[12,11,5,16,"useDerivedValue"],[12,26,5,31,"useDerivedValue"],[12,27,5,32,"processor"],[12,36,5,41],[12,38,5,43,"dependencies"],[12,50,5,55],[12,52,5,57],[13,4,5,57],[13,8,5,57,"_processor$_closure"],[13,27,5,57],[14,4,6,2],[14,8,6,8,"initRef"],[14,15,6,15],[14,18,6,18],[14,22,6,18,"useRef"],[14,35,6,24],[14,37,6,25],[14,41,6,29],[14,42,6,30],[15,4,7,2],[15,8,7,6,"inputs"],[15,14,7,12],[15,17,7,15,"Object"],[15,23,7,21],[15,24,7,22,"values"],[15,30,7,28],[15,32,7,28,"_processor$_closure"],[15,51,7,28],[15,54,7,29,"processor"],[15,63,7,38],[15,64,7,39,"_closure"],[15,72,7,47],[15,84,7,47,"_processor$_closure"],[15,103,7,47],[15,106,7,51],[15,107,7,52],[15,108,7,53],[15,109,7,54],[16,4,8,2],[16,8,8,6],[16,12,8,6,"shouldBeUseWeb"],[16,43,8,20],[16,45,8,21],[16,46,8,22],[16,48,8,24],[17,6,9,4],[17,10,9,8,"_dependencies"],[17,23,9,21],[18,6,10,4],[18,10,10,8],[18,11,10,9,"inputs"],[18,17,10,15],[18,18,10,16,"length"],[18,24,10,22],[18,28,10,26],[18,29,10,27,"_dependencies"],[18,42,10,40],[18,45,10,43,"dependencies"],[18,57,10,55],[18,63,10,61],[18,67,10,65],[18,71,10,69,"_dependencies"],[18,84,10,82],[18,89,10,87],[18,94,10,92],[18,95,10,93],[18,99,10,97,"_dependencies"],[18,112,10,110],[18,113,10,111,"length"],[18,119,10,117],[18,121,10,119],[19,8,11,6],[20,8,12,6,"inputs"],[20,14,12,12],[20,17,12,15,"dependencies"],[20,29,12,27],[21,6,13,4],[22,4,14,2],[24,4,16,2],[25,4,17,2],[25,8,17,6,"dependencies"],[25,20,17,18],[25,25,17,23,"undefined"],[25,34,17,32],[25,36,17,34],[26,6,18,4,"dependencies"],[26,18,18,16],[26,24,18,16,"concat"],[26,30,18,16],[26,35,18,16,"_toConsumableArray2"],[26,54,18,16],[26,55,18,16,"default"],[26,62,18,16],[26,64,18,23,"inputs"],[26,70,18,29],[26,74,18,31,"processor"],[26,83,18,40],[26,84,18,41,"__workletHash"],[26,97,18,54],[26,99,18,55],[27,4,19,2],[27,5,19,3],[27,11,19,9],[28,6,20,4,"dependencies"],[28,18,20,16],[28,19,20,17,"push"],[28,23,20,21],[28,24,20,22,"processor"],[28,33,20,31],[28,34,20,32,"__workletHash"],[28,47,20,45],[28,48,20,46],[29,4,21,2],[30,4,22,2],[30,8,22,6,"initRef"],[30,15,22,13],[30,16,22,14,"current"],[30,23,22,21],[30,28,22,26],[30,32,22,30],[30,34,22,32],[31,6,23,4,"initRef"],[31,13,23,11],[31,14,23,12,"current"],[31,21,23,19],[31,24,23,22],[31,28,23,22,"makeMutable"],[31,45,23,33],[31,47,23,34],[31,51,23,34,"initialUpdaterRun"],[31,79,23,51],[31,81,23,52,"processor"],[31,90,23,61],[31,91,23,62],[31,92,23,63],[32,4,24,2],[34,4,26,2],[35,4,27,2],[35,8,27,8,"sharedValue"],[35,19,27,19],[35,22,27,22,"initRef"],[35,29,27,29],[35,30,27,30,"current"],[35,37,27,37],[36,4,28,2],[36,8,28,2,"useEffect"],[36,24,28,11],[36,26,28,12],[36,38,28,18],[37,6,29,4],[37,10,29,10,"fun"],[37,13,29,13],[37,16,29,16],[37,25,29,10,"fun"],[37,28,29,13,"fun"],[37,29,29,13],[37,31,29,22],[38,8,30,6],[38,17,30,15],[40,8,32,6,"sharedValue"],[40,19,32,17],[40,20,32,18,"value"],[40,25,32,23],[40,28,32,26,"processor"],[40,37,32,35],[40,38,32,36],[40,39,32,37],[41,6,33,4],[41,7,33,5],[42,6,34,4],[42,10,34,10,"mapperId"],[42,18,34,18],[42,21,34,21],[42,25,34,21,"startMapper"],[42,42,34,32],[42,44,34,33,"fun"],[42,47,34,36],[42,49,34,38,"inputs"],[42,55,34,44],[42,57,34,46],[42,58,34,47,"sharedValue"],[42,69,34,58],[42,70,34,59],[42,71,34,60],[43,6,35,4],[43,13,35,11],[43,25,35,17],[44,8,36,6],[44,12,36,6,"stopMapper"],[44,28,36,16],[44,30,36,17,"mapperId"],[44,38,36,25],[44,39,36,26],[45,6,37,4],[45,7,37,5],[46,4,38,2],[46,5,38,3],[46,7,38,5,"dependencies"],[46,19,38,17],[46,20,38,18],[47,4,39,2],[47,8,39,2,"useEffect"],[47,24,39,11],[47,26,39,12],[47,38,39,18],[48,6,40,4],[48,13,40,11],[48,25,40,17],[49,8,41,6,"initRef"],[49,15,41,13],[49,16,41,14,"current"],[49,23,41,21],[49,26,41,24],[49,30,41,28],[50,6,42,4],[50,7,42,5],[51,4,43,2],[51,5,43,3],[51,7,43,5],[51,9,43,7],[51,10,43,8],[52,4,44,2],[52,11,44,9,"sharedValue"],[52,22,44,20],[53,2,45,0],[54,0,45,1]],"functionMap":{"names":["<global>","useDerivedValue","useEffect$argument_0","fun","<anonymous>"],"mappings":"AAA;OCI;YCuB;gBCC;KDI;WEE;KFE;GDC;YCC;WEC;KFE;GDC;CDE"}},"type":"js/module"}]}