{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":88,"column":45,"index":3077}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/defineProperty","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":88,"column":45,"index":3077}}],"key":"RY2z4+Bdq4bpTD/1b+1jGPWZdgA="}},{"name":"../animation/styleAnimation.js","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":68,"index":83}}],"key":"3NdCgvL8BfBVaPnZ2cVVLdrW5aI="}},{"name":"../commonTypes.js","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":84},"end":{"line":4,"column":56,"index":140}}],"key":"eBTxXA9OLsxAgcCWOgZfHtYzps4="}},{"name":"../mutables.js","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":141},"end":{"line":5,"column":47,"index":188}}],"key":"I1Q7rriYZnQGNa+Uy98ttj6JOmg="}},{"name":"../threads.js","data":{"asyncType":null,"locs":[{"start":{"line":6,"column":0,"index":189},"end":{"line":6,"column":51,"index":240}}],"key":"y2AfgK5jQVhKgd/zAlGmmQksgS0="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n  var _styleAnimation = _$$_REQUIRE(_dependencyMap[2], \"../animation/styleAnimation.js\");\n  var _commonTypes = _$$_REQUIRE(_dependencyMap[3], \"../commonTypes.js\");\n  var _mutables = _$$_REQUIRE(_dependencyMap[4], \"../mutables.js\");\n  var _threads = _$$_REQUIRE(_dependencyMap[5], \"../threads.js\");\n  function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\n  function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n  var TAG_OFFSET = 1e9;\n  function startObservingProgress(tag, sharedValue, animationType) {\n    'worklet';\n\n    var isSharedTransition = animationType === _commonTypes.LayoutAnimationType.SHARED_ELEMENT_TRANSITION;\n    sharedValue.addListener(tag + TAG_OFFSET, function () {\n      global._notifyAboutProgress(tag, sharedValue.value, isSharedTransition);\n    });\n  }\n  function stopObservingProgress(tag, sharedValue) {\n    'worklet';\n\n    var removeView = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    sharedValue.removeListener(tag + TAG_OFFSET);\n    global._notifyAboutEnd(tag, removeView);\n  }\n  function createLayoutAnimationManager() {\n    'worklet';\n\n    var currentAnimationForTag = new Map();\n    var mutableValuesForTag = new Map();\n    return {\n      start: function start(tag, type,\n      /**\n       * CreateLayoutAnimationManager creates an animation manager for both\n       * Layout animations and Shared Transition Elements animations.\n       */\n      yogaValues, config) {\n        if (type === _commonTypes.LayoutAnimationType.SHARED_ELEMENT_TRANSITION_PROGRESS) {\n          global.ProgressTransitionRegister.onTransitionStart(tag, yogaValues);\n          return;\n        }\n        var style = config(yogaValues);\n        var currentAnimation = style.animations;\n\n        // When layout animation is requested, but a previous one is still running, we merge\n        // new layout animation targets into the ongoing animation\n        var previousAnimation = currentAnimationForTag.get(tag);\n        if (previousAnimation) {\n          currentAnimation = _objectSpread(_objectSpread({}, previousAnimation), style.animations);\n        }\n        currentAnimationForTag.set(tag, currentAnimation);\n        var value = mutableValuesForTag.get(tag);\n        if (value === undefined) {\n          value = (0, _mutables.makeMutableUI)(style.initialValues);\n          mutableValuesForTag.set(tag, value);\n        } else {\n          stopObservingProgress(tag, value);\n          value._value = style.initialValues;\n        }\n\n        // @ts-ignore The line below started failing because I added types to the method â€“ don't have time to fix it right now\n        var animation = (0, _styleAnimation.withStyleAnimation)(currentAnimation);\n        animation.callback = function (finished) {\n          if (finished) {\n            currentAnimationForTag.delete(tag);\n            mutableValuesForTag.delete(tag);\n            var shouldRemoveView = type === _commonTypes.LayoutAnimationType.EXITING;\n            stopObservingProgress(tag, value, shouldRemoveView);\n          }\n          style.callback && style.callback(finished === undefined ? false : finished);\n        };\n        startObservingProgress(tag, value, type);\n        value.value = animation;\n      },\n      stop: function stop(tag) {\n        var value = mutableValuesForTag.get(tag);\n        if (!value) {\n          return;\n        }\n        stopObservingProgress(tag, value);\n      }\n    };\n  }\n  (0, _threads.runOnUIImmediately)(function () {\n    'worklet';\n\n    global.LayoutAnimationsManager = createLayoutAnimationManager();\n  })();\n});","lineCount":91,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"_$$_REQUIRE"],[4,42,1,13],[4,43,1,13,"_dependencyMap"],[4,57,1,13],[5,2,1,13],[5,6,1,13,"_defineProperty2"],[5,22,1,13],[5,25,1,13,"_interopRequireDefault"],[5,47,1,13],[5,48,1,13,"_$$_REQUIRE"],[5,59,1,13],[5,60,1,13,"_dependencyMap"],[5,74,1,13],[6,2,3,0],[6,6,3,0,"_styleAnimation"],[6,21,3,0],[6,24,3,0,"_$$_REQUIRE"],[6,35,3,0],[6,36,3,0,"_dependencyMap"],[6,50,3,0],[7,2,4,0],[7,6,4,0,"_commonTypes"],[7,18,4,0],[7,21,4,0,"_$$_REQUIRE"],[7,32,4,0],[7,33,4,0,"_dependencyMap"],[7,47,4,0],[8,2,5,0],[8,6,5,0,"_mutables"],[8,15,5,0],[8,18,5,0,"_$$_REQUIRE"],[8,29,5,0],[8,30,5,0,"_dependencyMap"],[8,44,5,0],[9,2,6,0],[9,6,6,0,"_threads"],[9,14,6,0],[9,17,6,0,"_$$_REQUIRE"],[9,28,6,0],[9,29,6,0,"_dependencyMap"],[9,43,6,0],[10,2,6,51],[10,11,6,51,"ownKeys"],[10,19,6,51,"e"],[10,20,6,51],[10,22,6,51,"r"],[10,23,6,51],[10,31,6,51,"t"],[10,32,6,51],[10,35,6,51,"Object"],[10,41,6,51],[10,42,6,51,"keys"],[10,46,6,51],[10,47,6,51,"e"],[10,48,6,51],[10,55,6,51,"Object"],[10,61,6,51],[10,62,6,51,"getOwnPropertySymbols"],[10,83,6,51],[10,91,6,51,"o"],[10,92,6,51],[10,95,6,51,"Object"],[10,101,6,51],[10,102,6,51,"getOwnPropertySymbols"],[10,123,6,51],[10,124,6,51,"e"],[10,125,6,51],[10,128,6,51,"r"],[10,129,6,51],[10,134,6,51,"o"],[10,135,6,51],[10,138,6,51,"o"],[10,139,6,51],[10,140,6,51,"filter"],[10,146,6,51],[10,157,6,51,"r"],[10,158,6,51],[10,169,6,51,"Object"],[10,175,6,51],[10,176,6,51,"getOwnPropertyDescriptor"],[10,200,6,51],[10,201,6,51,"e"],[10,202,6,51],[10,204,6,51,"r"],[10,205,6,51],[10,207,6,51,"enumerable"],[10,217,6,51],[10,224,6,51,"t"],[10,225,6,51],[10,226,6,51,"push"],[10,230,6,51],[10,231,6,51,"apply"],[10,236,6,51],[10,237,6,51,"t"],[10,238,6,51],[10,240,6,51,"o"],[10,241,6,51],[10,253,6,51,"t"],[10,254,6,51],[11,2,6,51],[11,11,6,51,"_objectSpread"],[11,25,6,51,"e"],[11,26,6,51],[11,39,6,51,"r"],[11,40,6,51],[11,46,6,51,"r"],[11,47,6,51],[11,50,6,51,"arguments"],[11,59,6,51],[11,60,6,51,"length"],[11,66,6,51],[11,68,6,51,"r"],[11,69,6,51],[11,79,6,51,"t"],[11,80,6,51],[11,91,6,51,"arguments"],[11,100,6,51],[11,101,6,51,"r"],[11,102,6,51],[11,106,6,51,"arguments"],[11,115,6,51],[11,116,6,51,"r"],[11,117,6,51],[11,125,6,51,"r"],[11,126,6,51],[11,133,6,51,"ownKeys"],[11,140,6,51],[11,141,6,51,"Object"],[11,147,6,51],[11,148,6,51,"t"],[11,149,6,51],[11,156,6,51,"forEach"],[11,163,6,51],[11,174,6,51,"r"],[11,175,6,51],[11,183,6,51,"_defineProperty2"],[11,199,6,51],[11,200,6,51,"default"],[11,207,6,51],[11,209,6,51,"e"],[11,210,6,51],[11,212,6,51,"r"],[11,213,6,51],[11,215,6,51,"t"],[11,216,6,51],[11,217,6,51,"r"],[11,218,6,51],[11,227,6,51,"Object"],[11,233,6,51],[11,234,6,51,"getOwnPropertyDescriptors"],[11,259,6,51],[11,262,6,51,"Object"],[11,268,6,51],[11,269,6,51,"defineProperties"],[11,285,6,51],[11,286,6,51,"e"],[11,287,6,51],[11,289,6,51,"Object"],[11,295,6,51],[11,296,6,51,"getOwnPropertyDescriptors"],[11,321,6,51],[11,322,6,51,"t"],[11,323,6,51],[11,328,6,51,"ownKeys"],[11,335,6,51],[11,336,6,51,"Object"],[11,342,6,51],[11,343,6,51,"t"],[11,344,6,51],[11,347,6,51,"forEach"],[11,354,6,51],[11,365,6,51,"r"],[11,366,6,51],[11,370,6,51,"Object"],[11,376,6,51],[11,377,6,51,"defineProperty"],[11,391,6,51],[11,392,6,51,"e"],[11,393,6,51],[11,395,6,51,"r"],[11,396,6,51],[11,398,6,51,"Object"],[11,404,6,51],[11,405,6,51,"getOwnPropertyDescriptor"],[11,429,6,51],[11,430,6,51,"t"],[11,431,6,51],[11,433,6,51,"r"],[11,434,6,51],[11,451,6,51,"e"],[11,452,6,51],[12,2,7,0],[12,6,7,6,"TAG_OFFSET"],[12,16,7,16],[12,19,7,19],[12,22,7,22],[13,2,8,0],[13,11,8,9,"startObservingProgress"],[13,33,8,31,"startObservingProgress"],[13,34,8,32,"tag"],[13,37,8,35],[13,39,8,37,"sharedValue"],[13,50,8,48],[13,52,8,50,"animationType"],[13,65,8,63],[13,67,8,65],[14,4,9,2],[14,13,9,11],[16,4,11,2],[16,8,11,8,"isSharedTransition"],[16,26,11,26],[16,29,11,29,"animationType"],[16,42,11,42],[16,47,11,47,"LayoutAnimationType"],[16,79,11,66],[16,80,11,67,"SHARED_ELEMENT_TRANSITION"],[16,105,11,92],[17,4,12,2,"sharedValue"],[17,15,12,13],[17,16,12,14,"addListener"],[17,27,12,25],[17,28,12,26,"tag"],[17,31,12,29],[17,34,12,32,"TAG_OFFSET"],[17,44,12,42],[17,46,12,44],[17,58,12,50],[18,6,13,4,"global"],[18,12,13,10],[18,13,13,11,"_notifyAboutProgress"],[18,33,13,31],[18,34,13,32,"tag"],[18,37,13,35],[18,39,13,37,"sharedValue"],[18,50,13,48],[18,51,13,49,"value"],[18,56,13,54],[18,58,13,56,"isSharedTransition"],[18,76,13,74],[18,77,13,75],[19,4,14,2],[19,5,14,3],[19,6,14,4],[20,2,15,0],[21,2,16,0],[21,11,16,9,"stopObservingProgress"],[21,32,16,30,"stopObservingProgress"],[21,33,16,31,"tag"],[21,36,16,34],[21,38,16,36,"sharedValue"],[21,49,16,47],[21,51,16,69],[22,4,17,2],[22,13,17,11],[24,4,17,12],[24,8,16,49,"removeView"],[24,18,16,59],[24,21,16,59,"arguments"],[24,30,16,59],[24,31,16,59,"length"],[24,37,16,59],[24,45,16,59,"arguments"],[24,54,16,59],[24,62,16,59,"undefined"],[24,71,16,59],[24,74,16,59,"arguments"],[24,83,16,59],[24,89,16,62],[24,94,16,67],[25,4,19,2,"sharedValue"],[25,15,19,13],[25,16,19,14,"removeListener"],[25,30,19,28],[25,31,19,29,"tag"],[25,34,19,32],[25,37,19,35,"TAG_OFFSET"],[25,47,19,45],[25,48,19,46],[26,4,20,2,"global"],[26,10,20,8],[26,11,20,9,"_notifyAboutEnd"],[26,26,20,24],[26,27,20,25,"tag"],[26,30,20,28],[26,32,20,30,"removeView"],[26,42,20,40],[26,43,20,41],[27,2,21,0],[28,2,22,0],[28,11,22,9,"createLayoutAnimationManager"],[28,39,22,37,"createLayoutAnimationManager"],[28,40,22,37],[28,42,22,40],[29,4,23,2],[29,13,23,11],[31,4,25,2],[31,8,25,8,"currentAnimationForTag"],[31,30,25,30],[31,33,25,33],[31,37,25,37,"Map"],[31,40,25,40],[31,41,25,41],[31,42,25,42],[32,4,26,2],[32,8,26,8,"mutableValuesForTag"],[32,27,26,27],[32,30,26,30],[32,34,26,34,"Map"],[32,37,26,37],[32,38,26,38],[32,39,26,39],[33,4,27,2],[33,11,27,9],[34,6,28,4,"start"],[34,11,28,9],[34,22,28,4,"start"],[34,27,28,9,"start"],[34,28,28,10,"tag"],[34,31,28,13],[34,33,28,15,"type"],[34,37,28,19],[35,6,29,4],[36,0,30,0],[37,0,31,0],[38,0,32,0],[39,6,33,4,"yogaValues"],[39,16,33,14],[39,18,33,16,"config"],[39,24,33,22],[39,26,33,24],[40,8,34,6],[40,12,34,10,"type"],[40,16,34,14],[40,21,34,19,"LayoutAnimationType"],[40,53,34,38],[40,54,34,39,"SHARED_ELEMENT_TRANSITION_PROGRESS"],[40,88,34,73],[40,90,34,75],[41,10,35,8,"global"],[41,16,35,14],[41,17,35,15,"ProgressTransitionRegister"],[41,43,35,41],[41,44,35,42,"onTransitionStart"],[41,61,35,59],[41,62,35,60,"tag"],[41,65,35,63],[41,67,35,65,"yogaValues"],[41,77,35,75],[41,78,35,76],[42,10,36,8],[43,8,37,6],[44,8,38,6],[44,12,38,12,"style"],[44,17,38,17],[44,20,38,20,"config"],[44,26,38,26],[44,27,38,27,"yogaValues"],[44,37,38,37],[44,38,38,38],[45,8,39,6],[45,12,39,10,"currentAnimation"],[45,28,39,26],[45,31,39,29,"style"],[45,36,39,34],[45,37,39,35,"animations"],[45,47,39,45],[47,8,41,6],[48,8,42,6],[49,8,43,6],[49,12,43,12,"previousAnimation"],[49,29,43,29],[49,32,43,32,"currentAnimationForTag"],[49,54,43,54],[49,55,43,55,"get"],[49,58,43,58],[49,59,43,59,"tag"],[49,62,43,62],[49,63,43,63],[50,8,44,6],[50,12,44,10,"previousAnimation"],[50,29,44,27],[50,31,44,29],[51,10,45,8,"currentAnimation"],[51,26,45,24],[51,29,45,24,"_objectSpread"],[51,42,45,24],[51,43,45,24,"_objectSpread"],[51,56,45,24],[51,61,46,13,"previousAnimation"],[51,78,46,30],[51,81,47,13,"style"],[51,86,47,18],[51,87,47,19,"animations"],[51,97,47,29],[51,98,48,9],[52,8,49,6],[53,8,50,6,"currentAnimationForTag"],[53,30,50,28],[53,31,50,29,"set"],[53,34,50,32],[53,35,50,33,"tag"],[53,38,50,36],[53,40,50,38,"currentAnimation"],[53,56,50,54],[53,57,50,55],[54,8,51,6],[54,12,51,10,"value"],[54,17,51,15],[54,20,51,18,"mutableValuesForTag"],[54,39,51,37],[54,40,51,38,"get"],[54,43,51,41],[54,44,51,42,"tag"],[54,47,51,45],[54,48,51,46],[55,8,52,6],[55,12,52,10,"value"],[55,17,52,15],[55,22,52,20,"undefined"],[55,31,52,29],[55,33,52,31],[56,10,53,8,"value"],[56,15,53,13],[56,18,53,16],[56,22,53,16,"makeMutableUI"],[56,45,53,29],[56,47,53,30,"style"],[56,52,53,35],[56,53,53,36,"initialValues"],[56,66,53,49],[56,67,53,50],[57,10,54,8,"mutableValuesForTag"],[57,29,54,27],[57,30,54,28,"set"],[57,33,54,31],[57,34,54,32,"tag"],[57,37,54,35],[57,39,54,37,"value"],[57,44,54,42],[57,45,54,43],[58,8,55,6],[58,9,55,7],[58,15,55,13],[59,10,56,8,"stopObservingProgress"],[59,31,56,29],[59,32,56,30,"tag"],[59,35,56,33],[59,37,56,35,"value"],[59,42,56,40],[59,43,56,41],[60,10,57,8,"value"],[60,15,57,13],[60,16,57,14,"_value"],[60,22,57,20],[60,25,57,23,"style"],[60,30,57,28],[60,31,57,29,"initialValues"],[60,44,57,42],[61,8,58,6],[63,8,60,6],[64,8,61,6],[64,12,61,12,"animation"],[64,21,61,21],[64,24,61,24],[64,28,61,24,"withStyleAnimation"],[64,62,61,42],[64,64,61,43,"currentAnimation"],[64,80,61,59],[64,81,61,60],[65,8,62,6,"animation"],[65,17,62,15],[65,18,62,16,"callback"],[65,26,62,24],[65,29,62,27],[65,39,62,27,"finished"],[65,47,62,35],[65,49,62,39],[66,10,63,8],[66,14,63,12,"finished"],[66,22,63,20],[66,24,63,22],[67,12,64,10,"currentAnimationForTag"],[67,34,64,32],[67,35,64,33,"delete"],[67,41,64,39],[67,42,64,40,"tag"],[67,45,64,43],[67,46,64,44],[68,12,65,10,"mutableValuesForTag"],[68,31,65,29],[68,32,65,30,"delete"],[68,38,65,36],[68,39,65,37,"tag"],[68,42,65,40],[68,43,65,41],[69,12,66,10],[69,16,66,16,"shouldRemoveView"],[69,32,66,32],[69,35,66,35,"type"],[69,39,66,39],[69,44,66,44,"LayoutAnimationType"],[69,76,66,63],[69,77,66,64,"EXITING"],[69,84,66,71],[70,12,67,10,"stopObservingProgress"],[70,33,67,31],[70,34,67,32,"tag"],[70,37,67,35],[70,39,67,37,"value"],[70,44,67,42],[70,46,67,44,"shouldRemoveView"],[70,62,67,60],[70,63,67,61],[71,10,68,8],[72,10,69,8,"style"],[72,15,69,13],[72,16,69,14,"callback"],[72,24,69,22],[72,28,69,26,"style"],[72,33,69,31],[72,34,69,32,"callback"],[72,42,69,40],[72,43,69,41,"finished"],[72,51,69,49],[72,56,69,54,"undefined"],[72,65,69,63],[72,68,69,66],[72,73,69,71],[72,76,69,74,"finished"],[72,84,69,82],[72,85,69,83],[73,8,70,6],[73,9,70,7],[74,8,71,6,"startObservingProgress"],[74,30,71,28],[74,31,71,29,"tag"],[74,34,71,32],[74,36,71,34,"value"],[74,41,71,39],[74,43,71,41,"type"],[74,47,71,45],[74,48,71,46],[75,8,72,6,"value"],[75,13,72,11],[75,14,72,12,"value"],[75,19,72,17],[75,22,72,20,"animation"],[75,31,72,29],[76,6,73,4],[76,7,73,5],[77,6,74,4,"stop"],[77,10,74,8],[77,21,74,4,"stop"],[77,25,74,8,"stop"],[77,26,74,9,"tag"],[77,29,74,12],[77,31,74,14],[78,8,75,6],[78,12,75,12,"value"],[78,17,75,17],[78,20,75,20,"mutableValuesForTag"],[78,39,75,39],[78,40,75,40,"get"],[78,43,75,43],[78,44,75,44,"tag"],[78,47,75,47],[78,48,75,48],[79,8,76,6],[79,12,76,10],[79,13,76,11,"value"],[79,18,76,16],[79,20,76,18],[80,10,77,8],[81,8,78,6],[82,8,79,6,"stopObservingProgress"],[82,29,79,27],[82,30,79,28,"tag"],[82,33,79,31],[82,35,79,33,"value"],[82,40,79,38],[82,41,79,39],[83,6,80,4],[84,4,81,2],[84,5,81,3],[85,2,82,0],[86,2,83,0],[86,6,83,0,"runOnUIImmediately"],[86,33,83,18],[86,35,83,19],[86,47,83,25],[87,4,84,2],[87,13,84,11],[89,4,86,2,"global"],[89,10,86,8],[89,11,86,9,"LayoutAnimationsManager"],[89,34,86,32],[89,37,86,35,"createLayoutAnimationManager"],[89,65,86,63],[89,66,86,64],[89,67,86,65],[90,2,87,0],[90,3,87,1],[90,4,87,2],[90,5,87,3],[90,6,87,4],[91,0,87,5]],"functionMap":{"names":["<global>","startObservingProgress","sharedValue.addListener$argument_1","stopObservingProgress","createLayoutAnimationManager","start","animation.callback","stop","runOnUIImmediately$argument_0"],"mappings":"AAA;ACO;4CCI;GDE;CDC;AGC;CHK;AIC;ICM;2BCkC;ODQ;KDG;IGC;KHM;CJE;mBQC;CRI"}},"type":"js/module"}]}