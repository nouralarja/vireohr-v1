{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":59,"column":45,"index":1923}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":59,"column":45,"index":1923}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"expo-modules-core","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"ka0FS6s7ZmvhJq+hEjGkLLrGpyo="}},{"name":"./KeepAwake.types","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":56,"index":114}}],"key":"y0yuQ3uPIVCv8gblxLBsCIVHs8M="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _expoModulesCore = _$$_REQUIRE(_dependencyMap[2], \"expo-modules-core\");\n  var _KeepAwake = _$$_REQUIRE(_dependencyMap[3], \"./KeepAwake.types\");\n  var wakeLockMap = {};\n  /** Wraps the webWakeLock API https://developer.mozilla.org/en-US/docs/Web/API/Screen_Wake_Lock_API */\n  var _default = exports.default = {\n    isAvailableAsync: function () {\n      var _isAvailableAsync = (0, _asyncToGenerator2.default)(function* () {\n        if (_expoModulesCore.Platform.isDOMAvailable) {\n          return 'wakeLock' in navigator;\n        }\n        return false;\n      });\n      function isAvailableAsync() {\n        return _isAvailableAsync.apply(this, arguments);\n      }\n      return isAvailableAsync;\n    }(),\n    activate: function () {\n      var _activate = (0, _asyncToGenerator2.default)(function* (tag) {\n        if (!_expoModulesCore.Platform.isDOMAvailable) {\n          return;\n        }\n        var wakeLock = yield navigator.wakeLock.request('screen');\n        wakeLockMap[tag] = wakeLock;\n      });\n      function activate(_x) {\n        return _activate.apply(this, arguments);\n      }\n      return activate;\n    }(),\n    deactivate: function () {\n      var _deactivate = (0, _asyncToGenerator2.default)(function* (tag) {\n        if (!_expoModulesCore.Platform.isDOMAvailable) {\n          return;\n        }\n        if (wakeLockMap[tag]) {\n          var _wakeLockMap$tag$rele, _wakeLockMap$tag;\n          (_wakeLockMap$tag$rele = (_wakeLockMap$tag = wakeLockMap[tag]).release) == null ? void 0 : _wakeLockMap$tag$rele.call(_wakeLockMap$tag);\n          delete wakeLockMap[tag];\n        } else {\n          throw new _expoModulesCore.CodedError('ERR_KEEP_AWAKE_TAG_INVALID', `The wake lock with tag ${tag} has not activated yet`);\n        }\n      });\n      function deactivate(_x2) {\n        return _deactivate.apply(this, arguments);\n      }\n      return deactivate;\n    }(),\n    addListenerForTag: function addListenerForTag(tag, listener) {\n      var eventListener = function eventListener() {\n        listener({\n          state: _KeepAwake.KeepAwakeEventState.RELEASE\n        });\n      };\n      var sentinel = wakeLockMap[tag];\n      if (sentinel) {\n        if ('addEventListener' in sentinel) {\n          sentinel.addEventListener == null ? void 0 : sentinel.addEventListener('release', eventListener);\n        } else {\n          sentinel.onrelease = eventListener;\n        }\n      }\n      return {\n        remove: function remove() {\n          var sentinel = wakeLockMap[tag];\n          if (sentinel) {\n            if (sentinel.removeEventListener) {\n              sentinel.removeEventListener('release', eventListener);\n            } else {\n              sentinel.onrelease = null;\n            }\n          }\n        }\n      };\n    }\n  };\n});","lineCount":84,"map":[[8,2,1,0],[8,6,1,0,"_expoModulesCore"],[8,22,1,0],[8,25,1,0,"_$$_REQUIRE"],[8,36,1,0],[8,37,1,0,"_dependencyMap"],[8,51,1,0],[9,2,2,0],[9,6,2,0,"_KeepAwake"],[9,16,2,0],[9,19,2,0,"_$$_REQUIRE"],[9,30,2,0],[9,31,2,0,"_dependencyMap"],[9,45,2,0],[10,2,3,0],[10,6,3,6,"wakeLockMap"],[10,17,3,17],[10,20,3,20],[10,21,3,21],[10,22,3,22],[11,2,4,0],[12,2,4,0],[12,6,4,0,"_default"],[12,14,4,0],[12,17,4,0,"exports"],[12,24,4,0],[12,25,4,0,"default"],[12,32,4,0],[12,35,5,15],[13,4,6,10,"isAvailableAsync"],[13,20,6,26],[14,6,6,26],[14,10,6,26,"_isAvailableAsync"],[14,27,6,26],[14,34,6,26,"_asyncToGenerator2"],[14,52,6,26],[14,53,6,26,"default"],[14,60,6,26],[14,75,6,29],[15,8,7,8],[15,12,7,12,"Platform"],[15,37,7,20],[15,38,7,21,"isDOMAvailable"],[15,52,7,35],[15,54,7,37],[16,10,8,12],[16,17,8,19],[16,27,8,29],[16,31,8,33,"navigator"],[16,40,8,42],[17,8,9,8],[18,8,10,8],[18,15,10,15],[18,20,10,20],[19,6,11,4],[19,7,11,5],[20,6,11,5],[20,15,6,10,"isAvailableAsync"],[20,31,6,26,"isAvailableAsync"],[20,32,6,26],[21,8,6,26],[21,15,6,26,"_isAvailableAsync"],[21,32,6,26],[21,33,6,26,"apply"],[21,38,6,26],[21,45,6,26,"arguments"],[21,54,6,26],[22,6,6,26],[23,6,6,26],[23,13,6,10,"isAvailableAsync"],[23,29,6,26],[24,4,6,26],[25,4,12,10,"activate"],[25,12,12,18],[26,6,12,18],[26,10,12,18,"_activate"],[26,19,12,18],[26,26,12,18,"_asyncToGenerator2"],[26,44,12,18],[26,45,12,18,"default"],[26,52,12,18],[26,65,12,19,"tag"],[26,68,12,22],[26,70,12,24],[27,8,13,8],[27,12,13,12],[27,13,13,13,"Platform"],[27,38,13,21],[27,39,13,22,"isDOMAvailable"],[27,53,13,36],[27,55,13,38],[28,10,14,12],[29,8,15,8],[30,8,16,8],[30,12,16,14,"wakeLock"],[30,20,16,22],[30,29,16,31,"navigator"],[30,38,16,40],[30,39,16,41,"wakeLock"],[30,47,16,49],[30,48,16,50,"request"],[30,55,16,57],[30,56,16,58],[30,64,16,66],[30,65,16,67],[31,8,17,8,"wakeLockMap"],[31,19,17,19],[31,20,17,20,"tag"],[31,23,17,23],[31,24,17,24],[31,27,17,27,"wakeLock"],[31,35,17,35],[32,6,18,4],[32,7,18,5],[33,6,18,5],[33,15,12,10,"activate"],[33,23,12,18,"activate"],[33,24,12,18,"_x"],[33,26,12,18],[34,8,12,18],[34,15,12,18,"_activate"],[34,24,12,18],[34,25,12,18,"apply"],[34,30,12,18],[34,37,12,18,"arguments"],[34,46,12,18],[35,6,12,18],[36,6,12,18],[36,13,12,10,"activate"],[36,21,12,18],[37,4,12,18],[38,4,19,10,"deactivate"],[38,14,19,20],[39,6,19,20],[39,10,19,20,"_deactivate"],[39,21,19,20],[39,28,19,20,"_asyncToGenerator2"],[39,46,19,20],[39,47,19,20,"default"],[39,54,19,20],[39,67,19,21,"tag"],[39,70,19,24],[39,72,19,26],[40,8,20,8],[40,12,20,12],[40,13,20,13,"Platform"],[40,38,20,21],[40,39,20,22,"isDOMAvailable"],[40,53,20,36],[40,55,20,38],[41,10,21,12],[42,8,22,8],[43,8,23,8],[43,12,23,12,"wakeLockMap"],[43,23,23,23],[43,24,23,24,"tag"],[43,27,23,27],[43,28,23,28],[43,30,23,30],[44,10,23,30],[44,14,23,30,"_wakeLockMap$tag$rele"],[44,35,23,30],[44,37,23,30,"_wakeLockMap$tag"],[44,53,23,30],[45,10,24,12],[45,11,24,12,"_wakeLockMap$tag$rele"],[45,32,24,12],[45,36,24,12,"_wakeLockMap$tag"],[45,52,24,12],[45,55,24,12,"wakeLockMap"],[45,66,24,23],[45,67,24,24,"tag"],[45,70,24,27],[45,71,24,28],[45,73,24,29,"release"],[45,80,24,36],[45,101,24,12,"_wakeLockMap$tag$rele"],[45,122,24,12],[45,123,24,12,"call"],[45,127,24,12],[45,128,24,12,"_wakeLockMap$tag"],[45,144,24,39],[45,145,24,40],[46,10,25,12],[46,17,25,19,"wakeLockMap"],[46,28,25,30],[46,29,25,31,"tag"],[46,32,25,34],[46,33,25,35],[47,8,26,8],[47,9,26,9],[47,15,27,13],[48,10,28,12],[48,16,28,18],[48,20,28,22,"CodedError"],[48,47,28,32],[48,48,28,33],[48,76,28,61],[48,78,28,63],[48,104,28,89,"tag"],[48,107,28,92],[48,131,28,116],[48,132,28,117],[49,8,29,8],[50,6,30,4],[50,7,30,5],[51,6,30,5],[51,15,19,10,"deactivate"],[51,25,19,20,"deactivate"],[51,26,19,20,"_x2"],[51,29,19,20],[52,8,19,20],[52,15,19,20,"_deactivate"],[52,26,19,20],[52,27,19,20,"apply"],[52,32,19,20],[52,39,19,20,"arguments"],[52,48,19,20],[53,6,19,20],[54,6,19,20],[54,13,19,10,"deactivate"],[54,23,19,20],[55,4,19,20],[56,4,31,4,"addListenerForTag"],[56,21,31,21],[56,32,31,4,"addListenerForTag"],[56,49,31,21,"addListenerForTag"],[56,50,31,22,"tag"],[56,53,31,25],[56,55,31,27,"listener"],[56,63,31,35],[56,65,31,37],[57,6,32,8],[57,10,32,14,"eventListener"],[57,23,32,27],[57,26,32,30],[57,35,32,14,"eventListener"],[57,48,32,27,"eventListener"],[57,49,32,27],[57,51,32,36],[58,8,33,12,"listener"],[58,16,33,20],[58,17,33,21],[59,10,33,23,"state"],[59,15,33,28],[59,17,33,30,"KeepAwakeEventState"],[59,47,33,49],[59,48,33,50,"RELEASE"],[60,8,33,58],[60,9,33,59],[60,10,33,60],[61,6,34,8],[61,7,34,9],[62,6,35,8],[62,10,35,14,"sentinel"],[62,18,35,22],[62,21,35,25,"wakeLockMap"],[62,32,35,36],[62,33,35,37,"tag"],[62,36,35,40],[62,37,35,41],[63,6,36,8],[63,10,36,12,"sentinel"],[63,18,36,20],[63,20,36,22],[64,8,37,12],[64,12,37,16],[64,30,37,34],[64,34,37,38,"sentinel"],[64,42,37,46],[64,44,37,48],[65,10,38,16,"sentinel"],[65,18,38,24],[65,19,38,25,"addEventListener"],[65,35,38,41],[65,55,38,16,"sentinel"],[65,63,38,24],[65,64,38,25,"addEventListener"],[65,80,38,41],[65,81,38,44],[65,90,38,53],[65,92,38,55,"eventListener"],[65,105,38,68],[65,106,38,69],[66,8,39,12],[66,9,39,13],[66,15,40,17],[67,10,41,16,"sentinel"],[67,18,41,24],[67,19,41,25,"onrelease"],[67,28,41,34],[67,31,41,37,"eventListener"],[67,44,41,50],[68,8,42,12],[69,6,43,8],[70,6,44,8],[70,13,44,15],[71,8,45,12,"remove"],[71,14,45,18],[71,16,45,20],[71,25,45,12,"remove"],[71,31,45,18,"remove"],[71,32,45,18],[71,34,45,26],[72,10,46,16],[72,14,46,22,"sentinel"],[72,22,46,30],[72,25,46,33,"wakeLockMap"],[72,36,46,44],[72,37,46,45,"tag"],[72,40,46,48],[72,41,46,49],[73,10,47,16],[73,14,47,20,"sentinel"],[73,22,47,28],[73,24,47,30],[74,12,48,20],[74,16,48,24,"sentinel"],[74,24,48,32],[74,25,48,33,"removeEventListener"],[74,44,48,52],[74,46,48,54],[75,14,49,24,"sentinel"],[75,22,49,32],[75,23,49,33,"removeEventListener"],[75,42,49,52],[75,43,49,53],[75,52,49,62],[75,54,49,64,"eventListener"],[75,67,49,77],[75,68,49,78],[76,12,50,20],[76,13,50,21],[76,19,51,25],[77,14,52,24,"sentinel"],[77,22,52,32],[77,23,52,33,"onrelease"],[77,32,52,42],[77,35,52,45],[77,39,52,49],[78,12,53,20],[79,10,54,16],[80,8,55,12],[81,6,56,8],[81,7,56,9],[82,4,57,4],[83,2,58,0],[83,3,58,1],[84,0,58,1]],"functionMap":{"names":["<global>","default.isAvailableAsync","default.activate","default.deactivate","default.addListenerForTag","eventListener","remove"],"mappings":"AAA;ICK;KDK;IEC;KFM;IGC;KHW;IIC;8BCC;SDE;oBEW;aFU;KJE"}},"type":"js/module"}]}