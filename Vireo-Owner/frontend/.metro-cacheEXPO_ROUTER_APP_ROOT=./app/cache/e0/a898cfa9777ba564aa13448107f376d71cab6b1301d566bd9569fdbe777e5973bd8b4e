{"dependencies":[{"name":"../logger/index.js","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":44,"index":59}}],"key":"V64URobWWdY+Cnt6IEdWO1FNHE4="}},{"name":"./util.js","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":60},"end":{"line":4,"column":96,"index":156}}],"key":"aUcbDdENC60aSU0lb8uQwyHqHcs="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.withClamp = void 0;\n  var _index = _$$_REQUIRE(_dependencyMap[0], \"../logger/index.js\");\n  var _util = _$$_REQUIRE(_dependencyMap[1], \"./util.js\");\n  var withClamp = exports.withClamp = function withClamp(config, _animationToClamp) {\n    'worklet';\n\n    return (0, _util.defineAnimation)(_animationToClamp, function () {\n      'worklet';\n\n      var animationToClamp = typeof _animationToClamp === 'function' ? _animationToClamp() : _animationToClamp;\n      var strippedMin = config.min === undefined ? undefined : (0, _util.recognizePrefixSuffix)(config.min).strippedValue;\n      var strippedMax = config.max === undefined ? undefined : (0, _util.recognizePrefixSuffix)(config.max).strippedValue;\n      function clampOnFrame(animation, now) {\n        var finished = animationToClamp.onFrame(animationToClamp, now);\n        if (animationToClamp.current === undefined) {\n          _index.logger.warn(\"Error inside 'withClamp' animation, the inner animation has invalid current value\");\n          return true;\n        } else {\n          var _recognizePrefixSuffi = (0, _util.recognizePrefixSuffix)(animationToClamp.current),\n            prefix = _recognizePrefixSuffi.prefix,\n            strippedValue = _recognizePrefixSuffi.strippedValue,\n            suffix = _recognizePrefixSuffi.suffix;\n          var newValue;\n          if (strippedMax !== undefined && strippedMax < strippedValue) {\n            newValue = strippedMax;\n          } else if (strippedMin !== undefined && strippedMin > strippedValue) {\n            newValue = strippedMin;\n          } else {\n            newValue = strippedValue;\n          }\n          animation.current = typeof animationToClamp.current === 'number' ? newValue : `${prefix === undefined ? '' : prefix}${newValue}${suffix === undefined ? '' : suffix}`;\n        }\n        return finished;\n      }\n      function onStart(animation, value, now, previousAnimation) {\n        animation.current = value;\n        animation.previousAnimation = animationToClamp;\n        var animationBeforeClamped = previousAnimation == null ? void 0 : previousAnimation.previousAnimation;\n        if (config.max !== undefined && config.min !== undefined && config.max < config.min) {\n          _index.logger.warn('Wrong config was provided to withClamp. Min value is bigger than max');\n        }\n        animationToClamp.onStart(animationToClamp,\n        /**\n         * Provide the current value of the previous animation of the clamped\n         * animation so we can animate from the original \"un-truncated\" value\n         */\n        (animationBeforeClamped == null ? void 0 : animationBeforeClamped.current) || value, now, animationBeforeClamped);\n      }\n      var callback = function callback(finished) {\n        if (animationToClamp.callback) {\n          animationToClamp.callback(finished);\n        }\n      };\n      return {\n        isHigherOrder: true,\n        onFrame: clampOnFrame,\n        onStart: onStart,\n        current: animationToClamp.current,\n        callback: callback,\n        previousAnimation: null,\n        reduceMotion: (0, _util.getReduceMotionForAnimation)(config.reduceMotion)\n      };\n    });\n  };\n});","lineCount":71,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"withClamp"],[7,19,1,13],[8,2,3,0],[8,6,3,0,"_index"],[8,12,3,0],[8,15,3,0,"_$$_REQUIRE"],[8,26,3,0],[8,27,3,0,"_dependencyMap"],[8,41,3,0],[9,2,4,0],[9,6,4,0,"_util"],[9,11,4,0],[9,14,4,0,"_$$_REQUIRE"],[9,25,4,0],[9,26,4,0,"_dependencyMap"],[9,40,4,0],[10,2,5,7],[10,6,5,13,"withClamp"],[10,15,5,22],[10,18,5,22,"exports"],[10,25,5,22],[10,26,5,22,"withClamp"],[10,35,5,22],[10,38,5,25],[10,47,5,13,"withClamp"],[10,56,5,22,"withClamp"],[10,57,5,35,"config"],[10,63,5,41],[10,65,5,43,"_animationToClamp"],[10,82,5,60],[10,84,5,62],[11,4,6,2],[11,13,6,11],[13,4,8,2],[13,11,8,9],[13,15,8,9,"defineAnimation"],[13,36,8,24],[13,38,8,25,"_animationToClamp"],[13,55,8,42],[13,57,8,44],[13,69,8,50],[14,6,9,4],[14,15,9,13],[16,6,11,4],[16,10,11,10,"animationToClamp"],[16,26,11,26],[16,29,11,29],[16,36,11,36,"_animationToClamp"],[16,53,11,53],[16,58,11,58],[16,68,11,68],[16,71,11,71,"_animationToClamp"],[16,88,11,88],[16,89,11,89],[16,90,11,90],[16,93,11,93,"_animationToClamp"],[16,110,11,110],[17,6,12,4],[17,10,12,10,"strippedMin"],[17,21,12,21],[17,24,12,24,"config"],[17,30,12,30],[17,31,12,31,"min"],[17,34,12,34],[17,39,12,39,"undefined"],[17,48,12,48],[17,51,12,51,"undefined"],[17,60,12,60],[17,63,12,63],[17,67,12,63,"recognizePrefixSuffix"],[17,94,12,84],[17,96,12,85,"config"],[17,102,12,91],[17,103,12,92,"min"],[17,106,12,95],[17,107,12,96],[17,108,12,97,"strippedValue"],[17,121,12,110],[18,6,13,4],[18,10,13,10,"strippedMax"],[18,21,13,21],[18,24,13,24,"config"],[18,30,13,30],[18,31,13,31,"max"],[18,34,13,34],[18,39,13,39,"undefined"],[18,48,13,48],[18,51,13,51,"undefined"],[18,60,13,60],[18,63,13,63],[18,67,13,63,"recognizePrefixSuffix"],[18,94,13,84],[18,96,13,85,"config"],[18,102,13,91],[18,103,13,92,"max"],[18,106,13,95],[18,107,13,96],[18,108,13,97,"strippedValue"],[18,121,13,110],[19,6,14,4],[19,15,14,13,"clampOnFrame"],[19,27,14,25,"clampOnFrame"],[19,28,14,26,"animation"],[19,37,14,35],[19,39,14,37,"now"],[19,42,14,40],[19,44,14,42],[20,8,15,6],[20,12,15,12,"finished"],[20,20,15,20],[20,23,15,23,"animationToClamp"],[20,39,15,39],[20,40,15,40,"onFrame"],[20,47,15,47],[20,48,15,48,"animationToClamp"],[20,64,15,64],[20,66,15,66,"now"],[20,69,15,69],[20,70,15,70],[21,8,16,6],[21,12,16,10,"animationToClamp"],[21,28,16,26],[21,29,16,27,"current"],[21,36,16,34],[21,41,16,39,"undefined"],[21,50,16,48],[21,52,16,50],[22,10,17,8,"logger"],[22,23,17,14],[22,24,17,15,"warn"],[22,28,17,19],[22,29,17,20],[22,112,17,103],[22,113,17,104],[23,10,18,8],[23,17,18,15],[23,21,18,19],[24,8,19,6],[24,9,19,7],[24,15,19,13],[25,10,20,8],[25,14,20,8,"_recognizePrefixSuffi"],[25,35,20,8],[25,38,24,12],[25,42,24,12,"recognizePrefixSuffix"],[25,69,24,33],[25,71,24,34,"animationToClamp"],[25,87,24,50],[25,88,24,51,"current"],[25,95,24,58],[25,96,24,59],[26,12,21,10,"prefix"],[26,18,21,16],[26,21,21,16,"_recognizePrefixSuffi"],[26,42,21,16],[26,43,21,10,"prefix"],[26,49,21,16],[27,12,22,10,"strippedValue"],[27,25,22,23],[27,28,22,23,"_recognizePrefixSuffi"],[27,49,22,23],[27,50,22,10,"strippedValue"],[27,63,22,23],[28,12,23,10,"suffix"],[28,18,23,16],[28,21,23,16,"_recognizePrefixSuffi"],[28,42,23,16],[28,43,23,10,"suffix"],[28,49,23,16],[29,10,25,8],[29,14,25,12,"newValue"],[29,22,25,20],[30,10,26,8],[30,14,26,12,"strippedMax"],[30,25,26,23],[30,30,26,28,"undefined"],[30,39,26,37],[30,43,26,41,"strippedMax"],[30,54,26,52],[30,57,26,55,"strippedValue"],[30,70,26,68],[30,72,26,70],[31,12,27,10,"newValue"],[31,20,27,18],[31,23,27,21,"strippedMax"],[31,34,27,32],[32,10,28,8],[32,11,28,9],[32,17,28,15],[32,21,28,19,"strippedMin"],[32,32,28,30],[32,37,28,35,"undefined"],[32,46,28,44],[32,50,28,48,"strippedMin"],[32,61,28,59],[32,64,28,62,"strippedValue"],[32,77,28,75],[32,79,28,77],[33,12,29,10,"newValue"],[33,20,29,18],[33,23,29,21,"strippedMin"],[33,34,29,32],[34,10,30,8],[34,11,30,9],[34,17,30,15],[35,12,31,10,"newValue"],[35,20,31,18],[35,23,31,21,"strippedValue"],[35,36,31,34],[36,10,32,8],[37,10,33,8,"animation"],[37,19,33,17],[37,20,33,18,"current"],[37,27,33,25],[37,30,33,28],[37,37,33,35,"animationToClamp"],[37,53,33,51],[37,54,33,52,"current"],[37,61,33,59],[37,66,33,64],[37,74,33,72],[37,77,33,75,"newValue"],[37,85,33,83],[37,88,33,86],[37,91,33,89,"prefix"],[37,97,33,95],[37,102,33,100,"undefined"],[37,111,33,109],[37,114,33,112],[37,116,33,114],[37,119,33,117,"prefix"],[37,125,33,123],[37,128,33,126,"newValue"],[37,136,33,134],[37,139,33,137,"suffix"],[37,145,33,143],[37,150,33,148,"undefined"],[37,159,33,157],[37,162,33,160],[37,164,33,162],[37,167,33,165,"suffix"],[37,173,33,171],[37,175,33,173],[38,8,34,6],[39,8,35,6],[39,15,35,13,"finished"],[39,23,35,21],[40,6,36,4],[41,6,37,4],[41,15,37,13,"onStart"],[41,22,37,20,"onStart"],[41,23,37,21,"animation"],[41,32,37,30],[41,34,37,32,"value"],[41,39,37,37],[41,41,37,39,"now"],[41,44,37,42],[41,46,37,44,"previousAnimation"],[41,63,37,61],[41,65,37,63],[42,8,38,6,"animation"],[42,17,38,15],[42,18,38,16,"current"],[42,25,38,23],[42,28,38,26,"value"],[42,33,38,31],[43,8,39,6,"animation"],[43,17,39,15],[43,18,39,16,"previousAnimation"],[43,35,39,33],[43,38,39,36,"animationToClamp"],[43,54,39,52],[44,8,40,6],[44,12,40,12,"animationBeforeClamped"],[44,34,40,34],[44,37,40,37,"previousAnimation"],[44,54,40,54],[44,74,40,37,"previousAnimation"],[44,91,40,54],[44,92,40,56,"previousAnimation"],[44,109,40,73],[45,8,41,6],[45,12,41,10,"config"],[45,18,41,16],[45,19,41,17,"max"],[45,22,41,20],[45,27,41,25,"undefined"],[45,36,41,34],[45,40,41,38,"config"],[45,46,41,44],[45,47,41,45,"min"],[45,50,41,48],[45,55,41,53,"undefined"],[45,64,41,62],[45,68,41,66,"config"],[45,74,41,72],[45,75,41,73,"max"],[45,78,41,76],[45,81,41,79,"config"],[45,87,41,85],[45,88,41,86,"min"],[45,91,41,89],[45,93,41,91],[46,10,42,8,"logger"],[46,23,42,14],[46,24,42,15,"warn"],[46,28,42,19],[46,29,42,20],[46,99,42,90],[46,100,42,91],[47,8,43,6],[48,8,44,6,"animationToClamp"],[48,24,44,22],[48,25,44,23,"onStart"],[48,32,44,30],[48,33,44,31,"animationToClamp"],[48,49,44,47],[49,8,45,6],[50,0,46,0],[51,0,47,0],[52,0,48,0],[53,8,49,6],[53,9,49,6,"animationBeforeClamped"],[53,31,49,28],[53,51,49,6,"animationBeforeClamped"],[53,73,49,28],[53,74,49,30,"current"],[53,81,49,37],[53,86,49,41,"value"],[53,91,49,46],[53,93,49,48,"now"],[53,96,49,51],[53,98,49,53,"animationBeforeClamped"],[53,120,49,75],[53,121,49,76],[54,6,50,4],[55,6,51,4],[55,10,51,10,"callback"],[55,18,51,18],[55,21,51,21],[55,30,51,10,"callback"],[55,38,51,18,"callback"],[55,39,51,21,"finished"],[55,47,51,29],[55,49,51,33],[56,8,52,6],[56,12,52,10,"animationToClamp"],[56,28,52,26],[56,29,52,27,"callback"],[56,37,52,35],[56,39,52,37],[57,10,53,8,"animationToClamp"],[57,26,53,24],[57,27,53,25,"callback"],[57,35,53,33],[57,36,53,34,"finished"],[57,44,53,42],[57,45,53,43],[58,8,54,6],[59,6,55,4],[59,7,55,5],[60,6,56,4],[60,13,56,11],[61,8,57,6,"isHigherOrder"],[61,21,57,19],[61,23,57,21],[61,27,57,25],[62,8,58,6,"onFrame"],[62,15,58,13],[62,17,58,15,"clampOnFrame"],[62,29,58,27],[63,8,59,6,"onStart"],[63,15,59,13],[63,17,59,6,"onStart"],[63,24,59,13],[64,8,60,6,"current"],[64,15,60,13],[64,17,60,15,"animationToClamp"],[64,33,60,31],[64,34,60,32,"current"],[64,41,60,39],[65,8,61,6,"callback"],[65,16,61,14],[65,18,61,6,"callback"],[65,26,61,14],[66,8,62,6,"previousAnimation"],[66,25,62,23],[66,27,62,25],[66,31,62,29],[67,8,63,6,"reduceMotion"],[67,20,63,18],[67,22,63,20],[67,26,63,20,"getReduceMotionForAnimation"],[67,59,63,47],[67,61,63,48,"config"],[67,67,63,54],[67,68,63,55,"reduceMotion"],[67,80,63,67],[68,6,64,4],[68,7,64,5],[69,4,65,2],[69,5,65,3],[69,6,65,4],[70,2,66,0],[70,3,66,1],[71,0,66,2]],"functionMap":{"names":["<global>","withClamp","defineAnimation$argument_1","clampOnFrame","onStart","callback"],"mappings":"AAA;yBCI;4CCG;ICM;KDsB;IEC;KFa;qBGC;KHI;GDU;CDC"}},"type":"js/module"}]}