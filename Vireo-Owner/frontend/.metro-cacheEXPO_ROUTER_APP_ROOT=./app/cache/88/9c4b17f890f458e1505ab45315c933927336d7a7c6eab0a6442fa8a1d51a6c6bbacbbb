{"dependencies":[{"name":"../../errors.js","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":50,"index":65}}],"key":"zNVTlg1t+2eocAmGKfFzvhDcCF4="}},{"name":"../util.js","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":66},"end":{"line":4,"column":74,"index":140}}],"key":"5mKPxLuScERep5ByLuu3DbatZbc="}},{"name":"./rigidDecay.js","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":141},"end":{"line":5,"column":45,"index":186}}],"key":"mMe0ihJzugZT983CWzCAAw1NXpo="}},{"name":"./rubberBandDecay.js","data":{"asyncType":null,"locs":[{"start":{"line":6,"column":0,"index":187},"end":{"line":6,"column":55,"index":242}}],"key":"BkiF9vIVaQ+S4TWDhEdHGyzJzQ4="}},{"name":"./utils.js","data":{"asyncType":null,"locs":[{"start":{"line":7,"column":0,"index":243},"end":{"line":7,"column":53,"index":296}}],"key":"03VO7/E+L2S6CYQuFHTg8eKUrwk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.withDecay = void 0;\n  var _errors = _$$_REQUIRE(_dependencyMap[0], \"../../errors.js\");\n  var _util = _$$_REQUIRE(_dependencyMap[1], \"../util.js\");\n  var _rigidDecay = _$$_REQUIRE(_dependencyMap[2], \"./rigidDecay.js\");\n  var _rubberBandDecay = _$$_REQUIRE(_dependencyMap[3], \"./rubberBandDecay.js\");\n  var _utils = _$$_REQUIRE(_dependencyMap[4], \"./utils.js\");\n  // TODO TYPESCRIPT This is a temporary type to get rid of .d.ts file.\n\n  function validateConfig(config) {\n    'worklet';\n\n    if (config.clamp) {\n      if (!Array.isArray(config.clamp)) {\n        throw new _errors.ReanimatedError(`\\`config.clamp\\` must be an array but is ${typeof config.clamp}.`);\n      }\n      if (config.clamp.length !== 2) {\n        throw new _errors.ReanimatedError(`\\`clamp array\\` must contain 2 items but is given ${config.clamp.length}.`);\n      }\n    }\n    if (config.velocityFactor <= 0) {\n      throw new _errors.ReanimatedError(`\\`config.velocityFactor\\` must be greater then 0 but is ${config.velocityFactor}.`);\n    }\n    if (config.rubberBandEffect && !config.clamp) {\n      throw new _errors.ReanimatedError('You need to set `clamp` property when using `rubberBandEffect`.');\n    }\n  }\n\n  /**\n   * Lets you create animations that mimic objects in motion with friction.\n   *\n   * @param config - The decay animation configuration - {@link DecayConfig}.\n   * @param callback - A function called upon animation completion -\n   *   {@link AnimationCallback}.\n   * @returns An [animation\n   *   object](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#animation-object)\n   *   which holds the current state of the animation.\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/animations/withDecay\n   */\n  var withDecay = exports.withDecay = function withDecay(userConfig, callback) {\n    'worklet';\n\n    return (0, _util.defineAnimation)(0, function () {\n      'worklet';\n\n      var _config$velocity;\n      var config = {\n        deceleration: 0.998,\n        velocityFactor: 1,\n        velocity: 0,\n        rubberBandFactor: 0.6\n      };\n      if (userConfig) {\n        Object.keys(userConfig).forEach(function (key) {\n          return config[key] = userConfig[key];\n        });\n      }\n      var decay = (0, _utils.isValidRubberBandConfig)(config) ? function (animation, now) {\n        return (0, _rubberBandDecay.rubberBandDecay)(animation, now, config);\n      } : function (animation, now) {\n        return (0, _rigidDecay.rigidDecay)(animation, now, config);\n      };\n      function onStart(animation, value, now) {\n        var initialVelocity = config.velocity;\n        animation.current = value;\n        animation.lastTimestamp = now;\n        animation.startTimestamp = now;\n        animation.initialVelocity = initialVelocity;\n        animation.velocity = initialVelocity;\n        validateConfig(config);\n        if (animation.reduceMotion && config.clamp) {\n          if (value < config.clamp[0]) {\n            animation.current = config.clamp[0];\n          } else if (value > config.clamp[1]) {\n            animation.current = config.clamp[1];\n          }\n        }\n      }\n\n      // To ensure the animation is correctly initialized and starts as expected\n      // we need to set its current value to undefined.\n      // Setting current to 0 breaks the animation.\n      return {\n        onFrame: decay,\n        onStart: onStart,\n        callback: callback,\n        velocity: (_config$velocity = config.velocity) != null ? _config$velocity : 0,\n        initialVelocity: 0,\n        current: undefined,\n        lastTimestamp: 0,\n        startTimestamp: 0,\n        reduceMotion: (0, _util.getReduceMotionForAnimation)(config.reduceMotion)\n      };\n    });\n  };\n});","lineCount":101,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"withDecay"],[7,19,1,13],[8,2,3,0],[8,6,3,0,"_errors"],[8,13,3,0],[8,16,3,0,"_$$_REQUIRE"],[8,27,3,0],[8,28,3,0,"_dependencyMap"],[8,42,3,0],[9,2,4,0],[9,6,4,0,"_util"],[9,11,4,0],[9,14,4,0,"_$$_REQUIRE"],[9,25,4,0],[9,26,4,0,"_dependencyMap"],[9,40,4,0],[10,2,5,0],[10,6,5,0,"_rigidDecay"],[10,17,5,0],[10,20,5,0,"_$$_REQUIRE"],[10,31,5,0],[10,32,5,0,"_dependencyMap"],[10,46,5,0],[11,2,6,0],[11,6,6,0,"_rubberBandDecay"],[11,22,6,0],[11,25,6,0,"_$$_REQUIRE"],[11,36,6,0],[11,37,6,0,"_dependencyMap"],[11,51,6,0],[12,2,7,0],[12,6,7,0,"_utils"],[12,12,7,0],[12,15,7,0,"_$$_REQUIRE"],[12,26,7,0],[12,27,7,0,"_dependencyMap"],[12,41,7,0],[13,2,9,0],[15,2,11,0],[15,11,11,9,"validateConfig"],[15,25,11,23,"validateConfig"],[15,26,11,24,"config"],[15,32,11,30],[15,34,11,32],[16,4,12,2],[16,13,12,11],[18,4,14,2],[18,8,14,6,"config"],[18,14,14,12],[18,15,14,13,"clamp"],[18,20,14,18],[18,22,14,20],[19,6,15,4],[19,10,15,8],[19,11,15,9,"Array"],[19,16,15,14],[19,17,15,15,"isArray"],[19,24,15,22],[19,25,15,23,"config"],[19,31,15,29],[19,32,15,30,"clamp"],[19,37,15,35],[19,38,15,36],[19,40,15,38],[20,8,16,6],[20,14,16,12],[20,18,16,16,"ReanimatedError"],[20,41,16,31],[20,42,16,32],[20,86,16,76],[20,93,16,83,"config"],[20,99,16,89],[20,100,16,90,"clamp"],[20,105,16,95],[20,108,16,98],[20,109,16,99],[21,6,17,4],[22,6,18,4],[22,10,18,8,"config"],[22,16,18,14],[22,17,18,15,"clamp"],[22,22,18,20],[22,23,18,21,"length"],[22,29,18,27],[22,34,18,32],[22,35,18,33],[22,37,18,35],[23,8,19,6],[23,14,19,12],[23,18,19,16,"ReanimatedError"],[23,41,19,31],[23,42,19,32],[23,95,19,85,"config"],[23,101,19,91],[23,102,19,92,"clamp"],[23,107,19,97],[23,108,19,98,"length"],[23,114,19,104],[23,117,19,107],[23,118,19,108],[24,6,20,4],[25,4,21,2],[26,4,22,2],[26,8,22,6,"config"],[26,14,22,12],[26,15,22,13,"velocityFactor"],[26,29,22,27],[26,33,22,31],[26,34,22,32],[26,36,22,34],[27,6,23,4],[27,12,23,10],[27,16,23,14,"ReanimatedError"],[27,39,23,29],[27,40,23,30],[27,99,23,89,"config"],[27,105,23,95],[27,106,23,96,"velocityFactor"],[27,120,23,110],[27,123,23,113],[27,124,23,114],[28,4,24,2],[29,4,25,2],[29,8,25,6,"config"],[29,14,25,12],[29,15,25,13,"rubberBandEffect"],[29,31,25,29],[29,35,25,33],[29,36,25,34,"config"],[29,42,25,40],[29,43,25,41,"clamp"],[29,48,25,46],[29,50,25,48],[30,6,26,4],[30,12,26,10],[30,16,26,14,"ReanimatedError"],[30,39,26,29],[30,40,26,30],[30,105,26,95],[30,106,26,96],[31,4,27,2],[32,2,28,0],[34,2,30,0],[35,0,31,0],[36,0,32,0],[37,0,33,0],[38,0,34,0],[39,0,35,0],[40,0,36,0],[41,0,37,0],[42,0,38,0],[43,0,39,0],[44,0,40,0],[45,2,41,7],[45,6,41,13,"withDecay"],[45,15,41,22],[45,18,41,22,"exports"],[45,25,41,22],[45,26,41,22,"withDecay"],[45,35,41,22],[45,38,41,25],[45,47,41,13,"withDecay"],[45,56,41,22,"withDecay"],[45,57,41,35,"userConfig"],[45,67,41,45],[45,69,41,47,"callback"],[45,77,41,55],[45,79,41,57],[46,4,42,2],[46,13,42,11],[48,4,44,2],[48,11,44,9],[48,15,44,9,"defineAnimation"],[48,36,44,24],[48,38,44,25],[48,39,44,26],[48,41,44,28],[48,53,44,34],[49,6,45,4],[49,15,45,13],[51,6,45,14],[51,10,45,14,"_config$velocity"],[51,26,45,14],[52,6,47,4],[52,10,47,10,"config"],[52,16,47,16],[52,19,47,19],[53,8,48,6,"deceleration"],[53,20,48,18],[53,22,48,20],[53,27,48,25],[54,8,49,6,"velocityFactor"],[54,22,49,20],[54,24,49,22],[54,25,49,23],[55,8,50,6,"velocity"],[55,16,50,14],[55,18,50,16],[55,19,50,17],[56,8,51,6,"rubberBandFactor"],[56,24,51,22],[56,26,51,24],[57,6,52,4],[57,7,52,5],[58,6,53,4],[58,10,53,8,"userConfig"],[58,20,53,18],[58,22,53,20],[59,8,54,6,"Object"],[59,14,54,12],[59,15,54,13,"keys"],[59,19,54,17],[59,20,54,18,"userConfig"],[59,30,54,28],[59,31,54,29],[59,32,54,30,"forEach"],[59,39,54,37],[59,40,54,38],[59,50,54,38,"key"],[59,53,54,41],[60,10,54,41],[60,17,54,45,"config"],[60,23,54,51],[60,24,54,52,"key"],[60,27,54,55],[60,28,54,56],[60,31,54,59,"userConfig"],[60,41,54,69],[60,42,54,70,"key"],[60,45,54,73],[60,46,54,74],[61,8,54,74],[61,10,54,75],[62,6,55,4],[63,6,56,4],[63,10,56,10,"decay"],[63,15,56,15],[63,18,56,18],[63,22,56,18,"isValidRubberBandConfig"],[63,52,56,41],[63,54,56,42,"config"],[63,60,56,48],[63,61,56,49],[63,64,56,52],[63,74,56,53,"animation"],[63,83,56,62],[63,85,56,64,"now"],[63,88,56,67],[64,8,56,67],[64,15,56,72],[64,19,56,72,"rubberBandDecay"],[64,51,56,87],[64,53,56,88,"animation"],[64,62,56,97],[64,64,56,99,"now"],[64,67,56,102],[64,69,56,104,"config"],[64,75,56,110],[64,76,56,111],[65,6,56,111],[65,10,56,114],[65,20,56,115,"animation"],[65,29,56,124],[65,31,56,126,"now"],[65,34,56,129],[66,8,56,129],[66,15,56,134],[66,19,56,134,"rigidDecay"],[66,41,56,144],[66,43,56,145,"animation"],[66,52,56,154],[66,54,56,156,"now"],[66,57,56,159],[66,59,56,161,"config"],[66,65,56,167],[66,66,56,168],[67,6,56,168],[68,6,57,4],[68,15,57,13,"onStart"],[68,22,57,20,"onStart"],[68,23,57,21,"animation"],[68,32,57,30],[68,34,57,32,"value"],[68,39,57,37],[68,41,57,39,"now"],[68,44,57,42],[68,46,57,44],[69,8,58,6],[69,12,58,12,"initialVelocity"],[69,27,58,27],[69,30,58,30,"config"],[69,36,58,36],[69,37,58,37,"velocity"],[69,45,58,45],[70,8,59,6,"animation"],[70,17,59,15],[70,18,59,16,"current"],[70,25,59,23],[70,28,59,26,"value"],[70,33,59,31],[71,8,60,6,"animation"],[71,17,60,15],[71,18,60,16,"lastTimestamp"],[71,31,60,29],[71,34,60,32,"now"],[71,37,60,35],[72,8,61,6,"animation"],[72,17,61,15],[72,18,61,16,"startTimestamp"],[72,32,61,30],[72,35,61,33,"now"],[72,38,61,36],[73,8,62,6,"animation"],[73,17,62,15],[73,18,62,16,"initialVelocity"],[73,33,62,31],[73,36,62,34,"initialVelocity"],[73,51,62,49],[74,8,63,6,"animation"],[74,17,63,15],[74,18,63,16,"velocity"],[74,26,63,24],[74,29,63,27,"initialVelocity"],[74,44,63,42],[75,8,64,6,"validateConfig"],[75,22,64,20],[75,23,64,21,"config"],[75,29,64,27],[75,30,64,28],[76,8,65,6],[76,12,65,10,"animation"],[76,21,65,19],[76,22,65,20,"reduceMotion"],[76,34,65,32],[76,38,65,36,"config"],[76,44,65,42],[76,45,65,43,"clamp"],[76,50,65,48],[76,52,65,50],[77,10,66,8],[77,14,66,12,"value"],[77,19,66,17],[77,22,66,20,"config"],[77,28,66,26],[77,29,66,27,"clamp"],[77,34,66,32],[77,35,66,33],[77,36,66,34],[77,37,66,35],[77,39,66,37],[78,12,67,10,"animation"],[78,21,67,19],[78,22,67,20,"current"],[78,29,67,27],[78,32,67,30,"config"],[78,38,67,36],[78,39,67,37,"clamp"],[78,44,67,42],[78,45,67,43],[78,46,67,44],[78,47,67,45],[79,10,68,8],[79,11,68,9],[79,17,68,15],[79,21,68,19,"value"],[79,26,68,24],[79,29,68,27,"config"],[79,35,68,33],[79,36,68,34,"clamp"],[79,41,68,39],[79,42,68,40],[79,43,68,41],[79,44,68,42],[79,46,68,44],[80,12,69,10,"animation"],[80,21,69,19],[80,22,69,20,"current"],[80,29,69,27],[80,32,69,30,"config"],[80,38,69,36],[80,39,69,37,"clamp"],[80,44,69,42],[80,45,69,43],[80,46,69,44],[80,47,69,45],[81,10,70,8],[82,8,71,6],[83,6,72,4],[85,6,74,4],[86,6,75,4],[87,6,76,4],[88,6,77,4],[88,13,77,11],[89,8,78,6,"onFrame"],[89,15,78,13],[89,17,78,15,"decay"],[89,22,78,20],[90,8,79,6,"onStart"],[90,15,79,13],[90,17,79,6,"onStart"],[90,24,79,13],[91,8,80,6,"callback"],[91,16,80,14],[91,18,80,6,"callback"],[91,26,80,14],[92,8,81,6,"velocity"],[92,16,81,14],[92,19,81,14,"_config$velocity"],[92,35,81,14],[92,38,81,16,"config"],[92,44,81,22],[92,45,81,23,"velocity"],[92,53,81,31],[92,65,81,31,"_config$velocity"],[92,81,81,31],[92,84,81,35],[92,85,81,36],[93,8,82,6,"initialVelocity"],[93,23,82,21],[93,25,82,23],[93,26,82,24],[94,8,83,6,"current"],[94,15,83,13],[94,17,83,15,"undefined"],[94,26,83,24],[95,8,84,6,"lastTimestamp"],[95,21,84,19],[95,23,84,21],[95,24,84,22],[96,8,85,6,"startTimestamp"],[96,22,85,20],[96,24,85,22],[96,25,85,23],[97,8,86,6,"reduceMotion"],[97,20,86,18],[97,22,86,20],[97,26,86,20,"getReduceMotionForAnimation"],[97,59,86,47],[97,61,86,48,"config"],[97,67,86,54],[97,68,86,55,"reduceMotion"],[97,80,86,67],[98,6,87,4],[98,7,87,5],[99,4,88,2],[99,5,88,3],[99,6,88,4],[100,2,89,0],[100,3,89,1],[101,0,89,2]],"functionMap":{"names":["<global>","validateConfig","withDecay","defineAnimation$argument_1","Object.keys.forEach$argument_0","<anonymous>","onStart"],"mappings":"AAA;ACU;CDiB;yBEa;4BCG;sCCU,oCD;oDEE,2DF,GE,sDF;IGC;KHe;GDgB;CFC"}},"type":"js/module"}]}