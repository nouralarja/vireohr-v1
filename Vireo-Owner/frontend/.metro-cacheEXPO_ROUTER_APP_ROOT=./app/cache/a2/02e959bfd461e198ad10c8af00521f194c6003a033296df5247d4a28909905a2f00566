{"dependencies":[{"name":"../logger/index.js","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":44,"index":59}}],"key":"V64URobWWdY+Cnt6IEdWO1FNHE4="}},{"name":"./util.js","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":60},"end":{"line":4,"column":73,"index":133}}],"key":"aUcbDdENC60aSU0lb8uQwyHqHcs="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.withSequence = withSequence;\n  var _index = _$$_REQUIRE(_dependencyMap[0], \"../logger/index.js\");\n  var _util = _$$_REQUIRE(_dependencyMap[1], \"./util.js\");\n  /**\n   * Lets you run animations in a sequence.\n   *\n   * @param reduceMotion - Determines how the animation responds to the device's\n   *   reduced motion accessibility setting. Default to `ReduceMotion.System` -\n   *   {@link ReduceMotion}.\n   * @param animations - Any number of animation objects to be run in a sequence.\n   * @returns An [animation\n   *   object](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#animation-object)\n   *   which holds the current state of the animation/\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/animations/withSequence\n   */\n\n  function withSequence(_reduceMotionOrFirstAnimation) {\n    'worklet';\n\n    for (var _len = arguments.length, _animations = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      _animations[_key - 1] = arguments[_key];\n    }\n    var reduceMotion;\n\n    // the first argument is either a config or an animation\n    // this is done to allow the reduce motion config prop to be optional\n    if (_reduceMotionOrFirstAnimation) {\n      if (typeof _reduceMotionOrFirstAnimation === 'string') {\n        reduceMotion = _reduceMotionOrFirstAnimation;\n      } else {\n        _animations.unshift(_reduceMotionOrFirstAnimation);\n      }\n    }\n    if (_animations.length === 0) {\n      _index.logger.warn('No animation was provided for the sequence');\n      return (0, _util.defineAnimation)(0, function () {\n        'worklet';\n\n        return {\n          onStart: function onStart(animation, value) {\n            return animation.current = value;\n          },\n          onFrame: function onFrame() {\n            return true;\n          },\n          current: 0,\n          animationIndex: 0,\n          reduceMotion: (0, _util.getReduceMotionForAnimation)(reduceMotion)\n        };\n      });\n    }\n    return (0, _util.defineAnimation)(_animations[0], function () {\n      'worklet';\n\n      var animations = _animations.map(function (a) {\n        var result = typeof a === 'function' ? a() : a;\n        result.finished = false;\n        return result;\n      });\n      function findNextNonReducedMotionAnimationIndex(index) {\n        // the last animation is returned even if reduced motion is enabled,\n        // because we want the sequence to finish at the right spot\n        while (index < animations.length - 1 && animations[index].reduceMotion) {\n          index++;\n        }\n        return index;\n      }\n      var callback = function callback(finished) {\n        if (finished) {\n          // we want to call the callback after every single animation\n          // not after all of them\n          return;\n        }\n        // this is going to be called only if sequence has been cancelled\n        animations.forEach(function (animation) {\n          if (typeof animation.callback === 'function' && !animation.finished) {\n            animation.callback(finished);\n          }\n        });\n      };\n      function sequence(animation, now) {\n        var currentAnim = animations[animation.animationIndex];\n        var finished = currentAnim.onFrame(currentAnim, now);\n        animation.current = currentAnim.current;\n        if (finished) {\n          // we want to call the callback after every single animation\n          if (currentAnim.callback) {\n            currentAnim.callback(true /* finished */);\n          }\n          currentAnim.finished = true;\n          animation.animationIndex = findNextNonReducedMotionAnimationIndex(animation.animationIndex + 1);\n          if (animation.animationIndex < animations.length) {\n            var nextAnim = animations[animation.animationIndex];\n            nextAnim.onStart(nextAnim, currentAnim.current, now, currentAnim);\n            return false;\n          }\n          return true;\n        }\n        return false;\n      }\n      function onStart(animation, value, now, previousAnimation) {\n        // child animations inherit the setting, unless they already have it defined\n        // they will have it defined only if the user used the `reduceMotion` prop\n        animations.forEach(function (anim) {\n          if (anim.reduceMotion === undefined) {\n            anim.reduceMotion = animation.reduceMotion;\n          }\n        });\n        animation.animationIndex = findNextNonReducedMotionAnimationIndex(0);\n        if (previousAnimation === undefined) {\n          previousAnimation = animations[animations.length - 1];\n        }\n        var currentAnimation = animations[animation.animationIndex];\n        currentAnimation.onStart(currentAnimation, value, now, previousAnimation);\n      }\n      return {\n        isHigherOrder: true,\n        onFrame: sequence,\n        onStart: onStart,\n        animationIndex: 0,\n        current: animations[0].current,\n        callback: callback,\n        reduceMotion: (0, _util.getReduceMotionForAnimation)(reduceMotion)\n      };\n    });\n  }\n});","lineCount":133,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"withSequence"],[7,22,1,13],[7,25,1,13,"withSequence"],[7,37,1,13],[8,2,3,0],[8,6,3,0,"_index"],[8,12,3,0],[8,15,3,0,"_$$_REQUIRE"],[8,26,3,0],[8,27,3,0,"_dependencyMap"],[8,41,3,0],[9,2,4,0],[9,6,4,0,"_util"],[9,11,4,0],[9,14,4,0,"_$$_REQUIRE"],[9,25,4,0],[9,26,4,0,"_dependencyMap"],[9,40,4,0],[10,2,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[23,2,19,7],[23,11,19,16,"withSequence"],[23,23,19,28,"withSequence"],[23,24,19,29,"_reduceMotionOrFirstAnimation"],[23,53,19,58],[23,55,19,76],[24,4,20,2],[24,13,20,11],[26,4,20,12],[26,13,20,12,"_len"],[26,17,20,12],[26,20,20,12,"arguments"],[26,29,20,12],[26,30,20,12,"length"],[26,36,20,12],[26,38,19,63,"_animations"],[26,49,19,74],[26,56,19,74,"Array"],[26,61,19,74],[26,62,19,74,"_len"],[26,66,19,74],[26,73,19,74,"_len"],[26,77,19,74],[26,88,19,74,"_key"],[26,92,19,74],[26,98,19,74,"_key"],[26,102,19,74],[26,105,19,74,"_len"],[26,109,19,74],[26,111,19,74,"_key"],[26,115,19,74],[27,6,19,63,"_animations"],[27,17,19,74],[27,18,19,74,"_key"],[27,22,19,74],[27,30,19,74,"arguments"],[27,39,19,74],[27,40,19,74,"_key"],[27,44,19,74],[28,4,19,74],[29,4,22,2],[29,8,22,6,"reduceMotion"],[29,20,22,18],[31,4,24,2],[32,4,25,2],[33,4,26,2],[33,8,26,6,"_reduceMotionOrFirstAnimation"],[33,37,26,35],[33,39,26,37],[34,6,27,4],[34,10,27,8],[34,17,27,15,"_reduceMotionOrFirstAnimation"],[34,46,27,44],[34,51,27,49],[34,59,27,57],[34,61,27,59],[35,8,28,6,"reduceMotion"],[35,20,28,18],[35,23,28,21,"_reduceMotionOrFirstAnimation"],[35,52,28,50],[36,6,29,4],[36,7,29,5],[36,13,29,11],[37,8,30,6,"_animations"],[37,19,30,17],[37,20,30,18,"unshift"],[37,27,30,25],[37,28,30,26,"_reduceMotionOrFirstAnimation"],[37,57,30,55],[37,58,30,56],[38,6,31,4],[39,4,32,2],[40,4,33,2],[40,8,33,6,"_animations"],[40,19,33,17],[40,20,33,18,"length"],[40,26,33,24],[40,31,33,29],[40,32,33,30],[40,34,33,32],[41,6,34,4,"logger"],[41,19,34,10],[41,20,34,11,"warn"],[41,24,34,15],[41,25,34,16],[41,69,34,60],[41,70,34,61],[42,6,35,4],[42,13,35,11],[42,17,35,11,"defineAnimation"],[42,38,35,26],[42,40,35,27],[42,41,35,28],[42,43,35,30],[42,55,35,36],[43,8,36,6],[43,17,36,15],[45,8,38,6],[45,15,38,13],[46,10,39,8,"onStart"],[46,17,39,15],[46,19,39,17],[46,28,39,8,"onStart"],[46,35,39,15,"onStart"],[46,36,39,18,"animation"],[46,45,39,27],[46,47,39,29,"value"],[46,52,39,34],[47,12,39,34],[47,19,39,39,"animation"],[47,28,39,48],[47,29,39,49,"current"],[47,36,39,56],[47,39,39,59,"value"],[47,44,39,64],[48,10,39,64],[49,10,40,8,"onFrame"],[49,17,40,15],[49,19,40,17],[49,28,40,8,"onFrame"],[49,35,40,15,"onFrame"],[49,36,40,15],[50,12,40,15],[50,19,40,23],[50,23,40,27],[51,10,40,27],[52,10,41,8,"current"],[52,17,41,15],[52,19,41,17],[52,20,41,18],[53,10,42,8,"animationIndex"],[53,24,42,22],[53,26,42,24],[53,27,42,25],[54,10,43,8,"reduceMotion"],[54,22,43,20],[54,24,43,22],[54,28,43,22,"getReduceMotionForAnimation"],[54,61,43,49],[54,63,43,50,"reduceMotion"],[54,75,43,62],[55,8,44,6],[55,9,44,7],[56,6,45,4],[56,7,45,5],[56,8,45,6],[57,4,46,2],[58,4,47,2],[58,11,47,9],[58,15,47,9,"defineAnimation"],[58,36,47,24],[58,38,47,25,"_animations"],[58,49,47,36],[58,50,47,37],[58,51,47,38],[58,52,47,39],[58,54,47,41],[58,66,47,47],[59,6,48,4],[59,15,48,13],[61,6,50,4],[61,10,50,10,"animations"],[61,20,50,20],[61,23,50,23,"_animations"],[61,34,50,34],[61,35,50,35,"map"],[61,38,50,38],[61,39,50,39],[61,49,50,39,"a"],[61,50,50,40],[61,52,50,44],[62,8,51,6],[62,12,51,12,"result"],[62,18,51,18],[62,21,51,21],[62,28,51,28,"a"],[62,29,51,29],[62,34,51,34],[62,44,51,44],[62,47,51,47,"a"],[62,48,51,48],[62,49,51,49],[62,50,51,50],[62,53,51,53,"a"],[62,54,51,54],[63,8,52,6,"result"],[63,14,52,12],[63,15,52,13,"finished"],[63,23,52,21],[63,26,52,24],[63,31,52,29],[64,8,53,6],[64,15,53,13,"result"],[64,21,53,19],[65,6,54,4],[65,7,54,5],[65,8,54,6],[66,6,55,4],[66,15,55,13,"findNextNonReducedMotionAnimationIndex"],[66,53,55,51,"findNextNonReducedMotionAnimationIndex"],[66,54,55,52,"index"],[66,59,55,57],[66,61,55,59],[67,8,56,6],[68,8,57,6],[69,8,58,6],[69,15,58,13,"index"],[69,20,58,18],[69,23,58,21,"animations"],[69,33,58,31],[69,34,58,32,"length"],[69,40,58,38],[69,43,58,41],[69,44,58,42],[69,48,58,46,"animations"],[69,58,58,56],[69,59,58,57,"index"],[69,64,58,62],[69,65,58,63],[69,66,58,64,"reduceMotion"],[69,78,58,76],[69,80,58,78],[70,10,59,8,"index"],[70,15,59,13],[70,17,59,15],[71,8,60,6],[72,8,61,6],[72,15,61,13,"index"],[72,20,61,18],[73,6,62,4],[74,6,63,4],[74,10,63,10,"callback"],[74,18,63,18],[74,21,63,21],[74,30,63,10,"callback"],[74,38,63,18,"callback"],[74,39,63,21,"finished"],[74,47,63,29],[74,49,63,33],[75,8,64,6],[75,12,64,10,"finished"],[75,20,64,18],[75,22,64,20],[76,10,65,8],[77,10,66,8],[78,10,67,8],[79,8,68,6],[80,8,69,6],[81,8,70,6,"animations"],[81,18,70,16],[81,19,70,17,"forEach"],[81,26,70,24],[81,27,70,25],[81,37,70,25,"animation"],[81,46,70,34],[81,48,70,38],[82,10,71,8],[82,14,71,12],[82,21,71,19,"animation"],[82,30,71,28],[82,31,71,29,"callback"],[82,39,71,37],[82,44,71,42],[82,54,71,52],[82,58,71,56],[82,59,71,57,"animation"],[82,68,71,66],[82,69,71,67,"finished"],[82,77,71,75],[82,79,71,77],[83,12,72,10,"animation"],[83,21,72,19],[83,22,72,20,"callback"],[83,30,72,28],[83,31,72,29,"finished"],[83,39,72,37],[83,40,72,38],[84,10,73,8],[85,8,74,6],[85,9,74,7],[85,10,74,8],[86,6,75,4],[86,7,75,5],[87,6,76,4],[87,15,76,13,"sequence"],[87,23,76,21,"sequence"],[87,24,76,22,"animation"],[87,33,76,31],[87,35,76,33,"now"],[87,38,76,36],[87,40,76,38],[88,8,77,6],[88,12,77,12,"currentAnim"],[88,23,77,23],[88,26,77,26,"animations"],[88,36,77,36],[88,37,77,37,"animation"],[88,46,77,46],[88,47,77,47,"animationIndex"],[88,61,77,61],[88,62,77,62],[89,8,78,6],[89,12,78,12,"finished"],[89,20,78,20],[89,23,78,23,"currentAnim"],[89,34,78,34],[89,35,78,35,"onFrame"],[89,42,78,42],[89,43,78,43,"currentAnim"],[89,54,78,54],[89,56,78,56,"now"],[89,59,78,59],[89,60,78,60],[90,8,79,6,"animation"],[90,17,79,15],[90,18,79,16,"current"],[90,25,79,23],[90,28,79,26,"currentAnim"],[90,39,79,37],[90,40,79,38,"current"],[90,47,79,45],[91,8,80,6],[91,12,80,10,"finished"],[91,20,80,18],[91,22,80,20],[92,10,81,8],[93,10,82,8],[93,14,82,12,"currentAnim"],[93,25,82,23],[93,26,82,24,"callback"],[93,34,82,32],[93,36,82,34],[94,12,83,10,"currentAnim"],[94,23,83,21],[94,24,83,22,"callback"],[94,32,83,30],[94,33,83,31],[94,37,83,35],[94,38,83,36],[94,52,83,50],[94,53,83,51],[95,10,84,8],[96,10,85,8,"currentAnim"],[96,21,85,19],[96,22,85,20,"finished"],[96,30,85,28],[96,33,85,31],[96,37,85,35],[97,10,86,8,"animation"],[97,19,86,17],[97,20,86,18,"animationIndex"],[97,34,86,32],[97,37,86,35,"findNextNonReducedMotionAnimationIndex"],[97,75,86,73],[97,76,86,74,"animation"],[97,85,86,83],[97,86,86,84,"animationIndex"],[97,100,86,98],[97,103,86,101],[97,104,86,102],[97,105,86,103],[98,10,87,8],[98,14,87,12,"animation"],[98,23,87,21],[98,24,87,22,"animationIndex"],[98,38,87,36],[98,41,87,39,"animations"],[98,51,87,49],[98,52,87,50,"length"],[98,58,87,56],[98,60,87,58],[99,12,88,10],[99,16,88,16,"nextAnim"],[99,24,88,24],[99,27,88,27,"animations"],[99,37,88,37],[99,38,88,38,"animation"],[99,47,88,47],[99,48,88,48,"animationIndex"],[99,62,88,62],[99,63,88,63],[100,12,89,10,"nextAnim"],[100,20,89,18],[100,21,89,19,"onStart"],[100,28,89,26],[100,29,89,27,"nextAnim"],[100,37,89,35],[100,39,89,37,"currentAnim"],[100,50,89,48],[100,51,89,49,"current"],[100,58,89,56],[100,60,89,58,"now"],[100,63,89,61],[100,65,89,63,"currentAnim"],[100,76,89,74],[100,77,89,75],[101,12,90,10],[101,19,90,17],[101,24,90,22],[102,10,91,8],[103,10,92,8],[103,17,92,15],[103,21,92,19],[104,8,93,6],[105,8,94,6],[105,15,94,13],[105,20,94,18],[106,6,95,4],[107,6,96,4],[107,15,96,13,"onStart"],[107,22,96,20,"onStart"],[107,23,96,21,"animation"],[107,32,96,30],[107,34,96,32,"value"],[107,39,96,37],[107,41,96,39,"now"],[107,44,96,42],[107,46,96,44,"previousAnimation"],[107,63,96,61],[107,65,96,63],[108,8,97,6],[109,8,98,6],[110,8,99,6,"animations"],[110,18,99,16],[110,19,99,17,"forEach"],[110,26,99,24],[110,27,99,25],[110,37,99,25,"anim"],[110,41,99,29],[110,43,99,33],[111,10,100,8],[111,14,100,12,"anim"],[111,18,100,16],[111,19,100,17,"reduceMotion"],[111,31,100,29],[111,36,100,34,"undefined"],[111,45,100,43],[111,47,100,45],[112,12,101,10,"anim"],[112,16,101,14],[112,17,101,15,"reduceMotion"],[112,29,101,27],[112,32,101,30,"animation"],[112,41,101,39],[112,42,101,40,"reduceMotion"],[112,54,101,52],[113,10,102,8],[114,8,103,6],[114,9,103,7],[114,10,103,8],[115,8,104,6,"animation"],[115,17,104,15],[115,18,104,16,"animationIndex"],[115,32,104,30],[115,35,104,33,"findNextNonReducedMotionAnimationIndex"],[115,73,104,71],[115,74,104,72],[115,75,104,73],[115,76,104,74],[116,8,105,6],[116,12,105,10,"previousAnimation"],[116,29,105,27],[116,34,105,32,"undefined"],[116,43,105,41],[116,45,105,43],[117,10,106,8,"previousAnimation"],[117,27,106,25],[117,30,106,28,"animations"],[117,40,106,38],[117,41,106,39,"animations"],[117,51,106,49],[117,52,106,50,"length"],[117,58,106,56],[117,61,106,59],[117,62,106,60],[117,63,106,61],[118,8,107,6],[119,8,108,6],[119,12,108,12,"currentAnimation"],[119,28,108,28],[119,31,108,31,"animations"],[119,41,108,41],[119,42,108,42,"animation"],[119,51,108,51],[119,52,108,52,"animationIndex"],[119,66,108,66],[119,67,108,67],[120,8,109,6,"currentAnimation"],[120,24,109,22],[120,25,109,23,"onStart"],[120,32,109,30],[120,33,109,31,"currentAnimation"],[120,49,109,47],[120,51,109,49,"value"],[120,56,109,54],[120,58,109,56,"now"],[120,61,109,59],[120,63,109,61,"previousAnimation"],[120,80,109,78],[120,81,109,79],[121,6,110,4],[122,6,111,4],[122,13,111,11],[123,8,112,6,"isHigherOrder"],[123,21,112,19],[123,23,112,21],[123,27,112,25],[124,8,113,6,"onFrame"],[124,15,113,13],[124,17,113,15,"sequence"],[124,25,113,23],[125,8,114,6,"onStart"],[125,15,114,13],[125,17,114,6,"onStart"],[125,24,114,13],[126,8,115,6,"animationIndex"],[126,22,115,20],[126,24,115,22],[126,25,115,23],[127,8,116,6,"current"],[127,15,116,13],[127,17,116,15,"animations"],[127,27,116,25],[127,28,116,26],[127,29,116,27],[127,30,116,28],[127,31,116,29,"current"],[127,38,116,36],[128,8,117,6,"callback"],[128,16,117,14],[128,18,117,6,"callback"],[128,26,117,14],[129,8,118,6,"reduceMotion"],[129,20,118,18],[129,22,118,20],[129,26,118,20,"getReduceMotionForAnimation"],[129,59,118,47],[129,61,118,48,"reduceMotion"],[129,73,118,60],[130,6,119,4],[130,7,119,5],[131,4,120,2],[131,5,120,3],[131,6,120,4],[132,2,121,0],[133,0,121,1]],"functionMap":{"names":["<global>","withSequence","defineAnimation$argument_1","onStart","onFrame","_animations.map$argument_0","findNextNonReducedMotionAnimationIndex","callback","animations.forEach$argument_0","sequence"],"mappings":"AAA;OCkB;8BCgB;iBCI,+CD;iBEC,UF;KDK;yCCE;uCGG;KHI;IIC;KJO;qBKC;yBCO;ODI;KLC;IOC;KPmB;ICC;yBKG;OLI;KDO;GDU;CDC"}},"type":"js/module"}]}