{"dependencies":[{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./useSharedValue","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":50,"index":82}}],"key":"++vUBpForU5S3VQBFk0ZMMVAkjs="}},{"name":"../NativeMethods","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":83},"end":{"line":3,"column":42,"index":125}}],"key":"LyA1Gv1ki/d7Yid5nabwsmlaZ4c="}},{"name":"../fabricUtils","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":126},"end":{"line":4,"column":70,"index":196}}],"key":"J9FL5cQwfp6nAFvZHoURDEokMNo="}},{"name":"../shareables","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":197},"end":{"line":5,"column":86,"index":283}}],"key":"5/jCqAFdsW57MhpCTEvNBEenp/4="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useAnimatedRef = useAnimatedRef;\n  var _react = _$$_REQUIRE(_dependencyMap[0], \"react\");\n  var _useSharedValue = _$$_REQUIRE(_dependencyMap[1], \"./useSharedValue\");\n  var _NativeMethods = _$$_REQUIRE(_dependencyMap[2], \"../NativeMethods\");\n  var _fabricUtils = _$$_REQUIRE(_dependencyMap[3], \"../fabricUtils\");\n  var _shareables = _$$_REQUIRE(_dependencyMap[4], \"../shareables\");\n  function getShareableShadowNodeFromComponent(component) {\n    return (0, _fabricUtils.getShadowNodeWrapperFromHostInstance)(component);\n  }\n  function getComponentOrScrollableRef(component) {\n    if (global._IS_FABRIC && component.getNativeScrollRef) {\n      return component.getNativeScrollRef();\n    } else if (!global._IS_FABRIC && component.getScrollableNode) {\n      return component.getScrollableNode();\n    }\n    return component;\n  }\n  var getTagValueFunction = global._IS_FABRIC ? getShareableShadowNodeFromComponent : _NativeMethods.getTag;\n  function useAnimatedRef() {\n    var tag = (0, _useSharedValue.useSharedValue)(-1);\n    var ref = (0, _react.useRef)();\n    if (!ref.current) {\n      var _fun = function fun(component) {\n        // enters when ref is set by attaching to a component\n        if (component) {\n          tag.value = getTagValueFunction(getComponentOrScrollableRef(component));\n          _fun.current = component;\n        }\n        return tag.value;\n      };\n      _fun.current = null;\n      var remoteRef = (0, _shareables.makeShareableCloneRecursive)({\n        __init: function __init() {\n          'worklet';\n\n          return function () {\n            return tag.value;\n          };\n        }\n      });\n      (0, _shareables.registerShareableMapping)(_fun, remoteRef);\n      ref.current = _fun;\n    }\n    return ref.current;\n  }\n});","lineCount":50,"map":[[6,2,1,0],[6,6,1,0,"_react"],[6,12,1,0],[6,15,1,0,"_$$_REQUIRE"],[6,26,1,0],[6,27,1,0,"_dependencyMap"],[6,41,1,0],[7,2,2,0],[7,6,2,0,"_useSharedValue"],[7,21,2,0],[7,24,2,0,"_$$_REQUIRE"],[7,35,2,0],[7,36,2,0,"_dependencyMap"],[7,50,2,0],[8,2,3,0],[8,6,3,0,"_NativeMethods"],[8,20,3,0],[8,23,3,0,"_$$_REQUIRE"],[8,34,3,0],[8,35,3,0,"_dependencyMap"],[8,49,3,0],[9,2,4,0],[9,6,4,0,"_fabricUtils"],[9,18,4,0],[9,21,4,0,"_$$_REQUIRE"],[9,32,4,0],[9,33,4,0,"_dependencyMap"],[9,47,4,0],[10,2,5,0],[10,6,5,0,"_shareables"],[10,17,5,0],[10,20,5,0,"_$$_REQUIRE"],[10,31,5,0],[10,32,5,0,"_dependencyMap"],[10,46,5,0],[11,2,6,0],[11,11,6,9,"getShareableShadowNodeFromComponent"],[11,46,6,44,"getShareableShadowNodeFromComponent"],[11,47,6,45,"component"],[11,56,6,54],[11,58,6,56],[12,4,7,2],[12,11,7,9],[12,15,7,9,"getShadowNodeWrapperFromHostInstance"],[12,64,7,45],[12,66,7,46,"component"],[12,75,7,55],[12,76,7,56],[13,2,8,0],[14,2,9,0],[14,11,9,9,"getComponentOrScrollableRef"],[14,38,9,36,"getComponentOrScrollableRef"],[14,39,9,37,"component"],[14,48,9,46],[14,50,9,48],[15,4,10,2],[15,8,10,6,"global"],[15,14,10,12],[15,15,10,13,"_IS_FABRIC"],[15,25,10,23],[15,29,10,27,"component"],[15,38,10,36],[15,39,10,37,"getNativeScrollRef"],[15,57,10,55],[15,59,10,57],[16,6,11,4],[16,13,11,11,"component"],[16,22,11,20],[16,23,11,21,"getNativeScrollRef"],[16,41,11,39],[16,42,11,40],[16,43,11,41],[17,4,12,2],[17,5,12,3],[17,11,12,9],[17,15,12,13],[17,16,12,14,"global"],[17,22,12,20],[17,23,12,21,"_IS_FABRIC"],[17,33,12,31],[17,37,12,35,"component"],[17,46,12,44],[17,47,12,45,"getScrollableNode"],[17,64,12,62],[17,66,12,64],[18,6,13,4],[18,13,13,11,"component"],[18,22,13,20],[18,23,13,21,"getScrollableNode"],[18,40,13,38],[18,41,13,39],[18,42,13,40],[19,4,14,2],[20,4,15,2],[20,11,15,9,"component"],[20,20,15,18],[21,2,16,0],[22,2,17,0],[22,6,17,6,"getTagValueFunction"],[22,25,17,25],[22,28,17,28,"global"],[22,34,17,34],[22,35,17,35,"_IS_FABRIC"],[22,45,17,45],[22,48,17,48,"getShareableShadowNodeFromComponent"],[22,83,17,83],[22,86,17,86,"getTag"],[22,107,17,92],[23,2,18,7],[23,11,18,16,"useAnimatedRef"],[23,25,18,30,"useAnimatedRef"],[23,26,18,30],[23,28,18,33],[24,4,19,2],[24,8,19,8,"tag"],[24,11,19,11],[24,14,19,14],[24,18,19,14,"useSharedValue"],[24,48,19,28],[24,50,19,29],[24,51,19,30],[24,52,19,31],[24,53,19,32],[25,4,20,2],[25,8,20,8,"ref"],[25,11,20,11],[25,14,20,14],[25,18,20,14,"useRef"],[25,31,20,20],[25,33,20,21],[25,34,20,22],[26,4,21,2],[26,8,21,6],[26,9,21,7,"ref"],[26,12,21,10],[26,13,21,11,"current"],[26,20,21,18],[26,22,21,20],[27,6,22,4],[27,10,22,10,"fun"],[27,14,22,13],[27,17,22,16],[27,26,22,10,"fun"],[27,29,22,13,"fun"],[27,30,22,16,"component"],[27,39,22,25],[27,41,22,29],[28,8,23,6],[29,8,24,6],[29,12,24,10,"component"],[29,21,24,19],[29,23,24,21],[30,10,25,8,"tag"],[30,13,25,11],[30,14,25,12,"value"],[30,19,25,17],[30,22,25,20,"getTagValueFunction"],[30,41,25,39],[30,42,25,40,"getComponentOrScrollableRef"],[30,69,25,67],[30,70,25,68,"component"],[30,79,25,77],[30,80,25,78],[30,81,25,79],[31,10,26,8,"fun"],[31,14,26,11],[31,15,26,12,"current"],[31,22,26,19],[31,25,26,22,"component"],[31,34,26,31],[32,8,27,6],[33,8,28,6],[33,15,28,13,"tag"],[33,18,28,16],[33,19,28,17,"value"],[33,24,28,22],[34,6,29,4],[34,7,29,5],[35,6,30,4,"fun"],[35,10,30,7],[35,11,30,8,"current"],[35,18,30,15],[35,21,30,18],[35,25,30,22],[36,6,31,4],[36,10,31,10,"remoteRef"],[36,19,31,19],[36,22,31,22],[36,26,31,22,"makeShareableCloneRecursive"],[36,65,31,49],[36,67,31,50],[37,8,32,6,"__init"],[37,14,32,12],[37,16,32,14],[37,25,32,6,"__init"],[37,31,32,12,"__init"],[37,32,32,12],[37,34,32,20],[38,10,33,8],[38,19,33,17],[40,10,35,8],[40,17,35,15],[41,12,35,15],[41,19,35,21,"tag"],[41,22,35,24],[41,23,35,25,"value"],[41,28,35,30],[42,10,35,30],[43,8,36,6],[44,6,37,4],[44,7,37,5],[44,8,37,6],[45,6,38,4],[45,10,38,4,"registerShareableMapping"],[45,46,38,28],[45,48,38,29,"fun"],[45,52,38,32],[45,54,38,34,"remoteRef"],[45,63,38,43],[45,64,38,44],[46,6,39,4,"ref"],[46,9,39,7],[46,10,39,8,"current"],[46,17,39,15],[46,20,39,18,"fun"],[46,24,39,21],[47,4,40,2],[48,4,41,2],[48,11,41,9,"ref"],[48,14,41,12],[48,15,41,13,"current"],[48,22,41,20],[49,2,42,0],[50,0,42,1]],"functionMap":{"names":["<global>","getShareableShadowNodeFromComponent","getComponentOrScrollableRef","useAnimatedRef","fun","makeShareableCloneRecursive$argument_0.__init","<anonymous>"],"mappings":"AAA;ACK;CDE;AEC;CFO;OGE;gBCI;KDO;cEG;eCG,eD;OFC;CHM"}},"type":"js/module"}]}