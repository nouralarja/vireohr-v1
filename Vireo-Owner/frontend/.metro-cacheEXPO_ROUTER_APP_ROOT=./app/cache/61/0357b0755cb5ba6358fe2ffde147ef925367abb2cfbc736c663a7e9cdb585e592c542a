{"dependencies":[{"name":"get-intrinsic","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":19,"index":34},"end":{"line":3,"column":43,"index":58}}],"key":"DxFmFBSzvwafsOkLzrPp4IDtNVg="}},{"name":"call-bound","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":16,"index":76},"end":{"line":4,"column":37,"index":97}}],"key":"emlXk0v0B4n/RINR61N8YfVgpjI="}},{"name":"object-inspect","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":14,"index":113},"end":{"line":5,"column":39,"index":138}}],"key":"w0jqkdiahubXzpOrgOjA6ah7qvE="}},{"name":"es-errors/type","data":{"asyncType":null,"locs":[{"start":{"line":7,"column":17,"index":158},"end":{"line":7,"column":42,"index":183}}],"key":"INq0nT1RL9tP9SVGFAU0qDHyank="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var GetIntrinsic = _$$_REQUIRE(_dependencyMap[0], \"get-intrinsic\");\n  var callBound = _$$_REQUIRE(_dependencyMap[1], \"call-bound\");\n  var inspect = _$$_REQUIRE(_dependencyMap[2], \"object-inspect\");\n  var $TypeError = _$$_REQUIRE(_dependencyMap[3], \"es-errors/type\");\n  var $Map = GetIntrinsic('%Map%', true);\n\n  /** @type {<K, V>(thisArg: Map<K, V>, key: K) => V} */\n  var $mapGet = callBound('Map.prototype.get', true);\n  /** @type {<K, V>(thisArg: Map<K, V>, key: K, value: V) => void} */\n  var $mapSet = callBound('Map.prototype.set', true);\n  /** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\n  var $mapHas = callBound('Map.prototype.has', true);\n  /** @type {<K, V>(thisArg: Map<K, V>, key: K) => boolean} */\n  var $mapDelete = callBound('Map.prototype.delete', true);\n  /** @type {<K, V>(thisArg: Map<K, V>) => number} */\n  var $mapSize = callBound('Map.prototype.size', true);\n\n  /** @type {import('.')} */\n  module.exports = !!$Map && /** @type {Exclude<import('.'), false>} */function getSideChannelMap() {\n    /** @typedef {ReturnType<typeof getSideChannelMap>} Channel */\n    /** @typedef {Parameters<Channel['get']>[0]} K */\n    /** @typedef {Parameters<Channel['set']>[1]} V */\n\n    /** @type {Map<K, V> | undefined} */var $m;\n\n    /** @type {Channel} */\n    var channel = {\n      assert: function assert(key) {\n        if (!channel.has(key)) {\n          throw new $TypeError('Side channel does not contain ' + inspect(key));\n        }\n      },\n      'delete': function _delete(key) {\n        if ($m) {\n          var result = $mapDelete($m, key);\n          if ($mapSize($m) === 0) {\n            $m = void undefined;\n          }\n          return result;\n        }\n        return false;\n      },\n      get: function get(key) {\n        // eslint-disable-line consistent-return\n        if ($m) {\n          return $mapGet($m, key);\n        }\n      },\n      has: function has(key) {\n        if ($m) {\n          return $mapHas($m, key);\n        }\n        return false;\n      },\n      set: function set(key, value) {\n        if (!$m) {\n          // @ts-expect-error TS can't handle narrowing a variable inside a closure\n          $m = new $Map();\n        }\n        $mapSet($m, key, value);\n      }\n    };\n\n    // @ts-expect-error TODO: figure out why TS is erroring here\n    return channel;\n  };\n});","lineCount":70,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"GetIntrinsic"],[4,18,3,16],[4,21,3,19,"require"],[4,32,3,26],[4,33,3,26,"_dependencyMap"],[4,47,3,26],[4,67,3,42],[4,68,3,43],[5,2,4,0],[5,6,4,4,"callBound"],[5,15,4,13],[5,18,4,16,"require"],[5,29,4,23],[5,30,4,23,"_dependencyMap"],[5,44,4,23],[5,61,4,36],[5,62,4,37],[6,2,5,0],[6,6,5,4,"inspect"],[6,13,5,11],[6,16,5,14,"require"],[6,27,5,21],[6,28,5,21,"_dependencyMap"],[6,42,5,21],[6,63,5,38],[6,64,5,39],[7,2,7,0],[7,6,7,4,"$TypeError"],[7,16,7,14],[7,19,7,17,"require"],[7,30,7,24],[7,31,7,24,"_dependencyMap"],[7,45,7,24],[7,66,7,41],[7,67,7,42],[8,2,8,0],[8,6,8,4,"$Map"],[8,10,8,8],[8,13,8,11,"GetIntrinsic"],[8,25,8,23],[8,26,8,24],[8,33,8,31],[8,35,8,33],[8,39,8,37],[8,40,8,38],[10,2,10,0],[11,2,11,0],[11,6,11,4,"$mapGet"],[11,13,11,11],[11,16,11,14,"callBound"],[11,25,11,23],[11,26,11,24],[11,45,11,43],[11,47,11,45],[11,51,11,49],[11,52,11,50],[12,2,12,0],[13,2,13,0],[13,6,13,4,"$mapSet"],[13,13,13,11],[13,16,13,14,"callBound"],[13,25,13,23],[13,26,13,24],[13,45,13,43],[13,47,13,45],[13,51,13,49],[13,52,13,50],[14,2,14,0],[15,2,15,0],[15,6,15,4,"$mapHas"],[15,13,15,11],[15,16,15,14,"callBound"],[15,25,15,23],[15,26,15,24],[15,45,15,43],[15,47,15,45],[15,51,15,49],[15,52,15,50],[16,2,16,0],[17,2,17,0],[17,6,17,4,"$mapDelete"],[17,16,17,14],[17,19,17,17,"callBound"],[17,28,17,26],[17,29,17,27],[17,51,17,49],[17,53,17,51],[17,57,17,55],[17,58,17,56],[18,2,18,0],[19,2,19,0],[19,6,19,4,"$mapSize"],[19,14,19,12],[19,17,19,15,"callBound"],[19,26,19,24],[19,27,19,25],[19,47,19,45],[19,49,19,47],[19,53,19,51],[19,54,19,52],[21,2,21,0],[22,2,22,0,"module"],[22,8,22,6],[22,9,22,7,"exports"],[22,16,22,14],[22,19,22,17],[22,20,22,18],[22,21,22,19,"$Map"],[22,25,22,23],[22,29,22,27],[22,71,22,70],[22,80,22,79,"getSideChannelMap"],[22,97,22,96,"getSideChannelMap"],[22,98,22,96],[22,100,22,99],[23,4,23,1],[24,4,24,1],[25,4,25,1],[27,4,27,1],[27,40,27,38],[27,44,27,42,"$m"],[27,46,27,44],[29,4,29,1],[30,4,30,1],[30,8,30,5,"channel"],[30,15,30,12],[30,18,30,15],[31,6,31,2,"assert"],[31,12,31,8],[31,14,31,10],[31,23,31,2,"assert"],[31,29,31,8,"assert"],[31,30,31,20,"key"],[31,33,31,23],[31,35,31,25],[32,8,32,3],[32,12,32,7],[32,13,32,8,"channel"],[32,20,32,15],[32,21,32,16,"has"],[32,24,32,19],[32,25,32,20,"key"],[32,28,32,23],[32,29,32,24],[32,31,32,26],[33,10,33,4],[33,16,33,10],[33,20,33,14,"$TypeError"],[33,30,33,24],[33,31,33,25],[33,63,33,57],[33,66,33,60,"inspect"],[33,73,33,67],[33,74,33,68,"key"],[33,77,33,71],[33,78,33,72],[33,79,33,73],[34,8,34,3],[35,6,35,2],[35,7,35,3],[36,6,36,2],[36,14,36,10],[36,16,36,12],[36,25,36,2,"_delete"],[36,32,36,10,"_delete"],[36,33,36,22,"key"],[36,36,36,25],[36,38,36,27],[37,8,37,3],[37,12,37,7,"$m"],[37,14,37,9],[37,16,37,11],[38,10,38,4],[38,14,38,8,"result"],[38,20,38,14],[38,23,38,17,"$mapDelete"],[38,33,38,27],[38,34,38,28,"$m"],[38,36,38,30],[38,38,38,32,"key"],[38,41,38,35],[38,42,38,36],[39,10,39,4],[39,14,39,8,"$mapSize"],[39,22,39,16],[39,23,39,17,"$m"],[39,25,39,19],[39,26,39,20],[39,31,39,25],[39,32,39,26],[39,34,39,28],[40,12,40,5,"$m"],[40,14,40,7],[40,17,40,10],[40,22,40,15,"undefined"],[40,31,40,24],[41,10,41,4],[42,10,42,4],[42,17,42,11,"result"],[42,23,42,17],[43,8,43,3],[44,8,44,3],[44,15,44,10],[44,20,44,15],[45,6,45,2],[45,7,45,3],[46,6,46,2,"get"],[46,9,46,5],[46,11,46,7],[46,20,46,2,"get"],[46,23,46,5,"get"],[46,24,46,17,"key"],[46,27,46,20],[46,29,46,22],[47,8,46,24],[48,8,47,3],[48,12,47,7,"$m"],[48,14,47,9],[48,16,47,11],[49,10,48,4],[49,17,48,11,"$mapGet"],[49,24,48,18],[49,25,48,19,"$m"],[49,27,48,21],[49,29,48,23,"key"],[49,32,48,26],[49,33,48,27],[50,8,49,3],[51,6,50,2],[51,7,50,3],[52,6,51,2,"has"],[52,9,51,5],[52,11,51,7],[52,20,51,2,"has"],[52,23,51,5,"has"],[52,24,51,17,"key"],[52,27,51,20],[52,29,51,22],[53,8,52,3],[53,12,52,7,"$m"],[53,14,52,9],[53,16,52,11],[54,10,53,4],[54,17,53,11,"$mapHas"],[54,24,53,18],[54,25,53,19,"$m"],[54,27,53,21],[54,29,53,23,"key"],[54,32,53,26],[54,33,53,27],[55,8,54,3],[56,8,55,3],[56,15,55,10],[56,20,55,15],[57,6,56,2],[57,7,56,3],[58,6,57,2,"set"],[58,9,57,5],[58,11,57,7],[58,20,57,2,"set"],[58,23,57,5,"set"],[58,24,57,17,"key"],[58,27,57,20],[58,29,57,22,"value"],[58,34,57,27],[58,36,57,29],[59,8,58,3],[59,12,58,7],[59,13,58,8,"$m"],[59,15,58,10],[59,17,58,12],[60,10,59,4],[61,10,60,4,"$m"],[61,12,60,6],[61,15,60,9],[61,19,60,13,"$Map"],[61,23,60,17],[61,24,60,18],[61,25,60,19],[62,8,61,3],[63,8,62,3,"$mapSet"],[63,15,62,10],[63,16,62,11,"$m"],[63,18,62,13],[63,20,62,15,"key"],[63,23,62,18],[63,25,62,20,"value"],[63,30,62,25],[63,31,62,26],[64,6,63,2],[65,4,64,1],[65,5,64,2],[67,4,66,1],[68,4,67,1],[68,11,67,8,"channel"],[68,18,67,15],[69,2,68,0],[69,3,68,1],[70,0,68,2]],"functionMap":{"names":["<global>","getSideChannelMap","channel.assert","channel._delete","channel.get","channel.has","channel.set"],"mappings":"AAA;sECqB;UCS;GDI;YEC;GFS;OGC;GHI;OIC;GJK;OKC;GLM;CDK"}},"type":"js/module"}]}