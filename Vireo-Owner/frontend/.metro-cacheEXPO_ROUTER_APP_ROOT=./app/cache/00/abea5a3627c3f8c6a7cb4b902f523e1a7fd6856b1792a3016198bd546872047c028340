{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":83,"column":46,"index":3331}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":83,"column":46,"index":3331}}],"key":"EU+qeBIKi4KcIzPeK4PbkLqFqVY="}},{"name":"@babel/runtime/helpers/defineProperty","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":83,"column":46,"index":3331}}],"key":"RY2z4+Bdq4bpTD/1b+1jGPWZdgA="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = getActionFromState;\n  var _slicedToArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/defineProperty\"));\n  function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\n  function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n  function getActionFromState(state, options) {\n    var _state$index;\n    var _normalizedConfig$scr;\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === (normalizedConfig === null || normalizedConfig === void 0 ? void 0 : normalizedConfig.initialRouteName) && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[(_state$index = state.index) != null ? _state$index : state.routes.length - 1];\n    var current = route === null || route === void 0 ? void 0 : route.state;\n    var config = normalizedConfig === null || normalizedConfig === void 0 ? void 0 : (_normalizedConfig$scr = normalizedConfig.screens) === null || _normalizedConfig$scr === void 0 ? void 0 : _normalizedConfig$scr[route === null || route === void 0 ? void 0 : route.name];\n    var params = _objectSpread({}, route.params);\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params: params\n    } : undefined;\n    while (current) {\n      var _config, _config2, _config2$screens;\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === ((_config = config) === null || _config === void 0 ? void 0 : _config.initialRouteName) && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = _objectSpread({}, _route.params);\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = (_config2 = config) === null || _config2 === void 0 ? void 0 : (_config2$screens = _config2.screens) === null || _config2$screens === void 0 ? void 0 : _config2$screens[_route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload: payload\n    };\n  }\n  var createNormalizedConfigItem = function createNormalizedConfigItem(config) {\n    return typeof config === 'object' && config != null ? {\n      initialRouteName: config.initialRouteName,\n      screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n    } : {};\n  };\n  var createNormalizedConfigs = function createNormalizedConfigs(options) {\n    return Object.entries(options).reduce(function (acc, _ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        k = _ref2[0],\n        v = _ref2[1];\n      acc[k] = createNormalizedConfigItem(v);\n      return acc;\n    }, {});\n  };\n});","lineCount":96,"map":[[11,2,1,15],[11,11,1,24,"getActionFromState"],[11,29,1,42,"getActionFromState"],[11,30,1,43,"state"],[11,35,1,48],[11,37,1,50,"options"],[11,44,1,57],[11,46,1,59],[12,4,1,59],[12,8,1,59,"_state$index"],[12,20,1,59],[13,4,2,2],[13,8,2,6,"_normalizedConfig$scr"],[13,29,2,27],[14,4,3,2],[15,4,4,2],[15,8,4,8,"normalizedConfig"],[15,24,4,24],[15,27,4,27,"options"],[15,34,4,34],[15,37,4,37,"createNormalizedConfigItem"],[15,63,4,63],[15,64,4,64,"options"],[15,71,4,71],[15,72,4,72],[15,75,4,75],[15,76,4,76],[15,77,4,77],[16,4,5,2],[16,8,5,8,"routes"],[16,14,5,14],[16,17,5,17,"state"],[16,22,5,22],[16,23,5,23,"index"],[16,28,5,28],[16,32,5,32],[16,36,5,36],[16,39,5,39,"state"],[16,44,5,44],[16,45,5,45,"routes"],[16,51,5,51],[16,52,5,52,"slice"],[16,57,5,57],[16,58,5,58],[16,59,5,59],[16,61,5,61,"state"],[16,66,5,66],[16,67,5,67,"index"],[16,72,5,72],[16,75,5,75],[16,76,5,76],[16,77,5,77],[16,80,5,80,"state"],[16,85,5,85],[16,86,5,86,"routes"],[16,92,5,92],[17,4,6,2],[17,8,6,6,"routes"],[17,14,6,12],[17,15,6,13,"length"],[17,21,6,19],[17,26,6,24],[17,27,6,25],[17,29,6,27],[18,6,7,4],[18,13,7,11,"undefined"],[18,22,7,20],[19,4,8,2],[20,4,9,2],[20,8,9,6],[20,10,9,8,"routes"],[20,16,9,14],[20,17,9,15,"length"],[20,23,9,21],[20,28,9,26],[20,29,9,27],[20,33,9,31,"routes"],[20,39,9,37],[20,40,9,38],[20,41,9,39],[20,42,9,40],[20,43,9,41,"key"],[20,46,9,44],[20,51,9,49,"undefined"],[20,60,9,58],[20,64,9,62,"routes"],[20,70,9,68],[20,71,9,69,"length"],[20,77,9,75],[20,82,9,80],[20,83,9,81],[20,87,9,85,"routes"],[20,93,9,91],[20,94,9,92],[20,95,9,93],[20,96,9,94],[20,97,9,95,"key"],[20,100,9,98],[20,105,9,103,"undefined"],[20,114,9,112],[20,118,9,116,"routes"],[20,124,9,122],[20,125,9,123],[20,126,9,124],[20,127,9,125],[20,128,9,126,"name"],[20,132,9,130],[20,138,9,136,"normalizedConfig"],[20,154,9,152],[20,159,9,157],[20,163,9,161],[20,167,9,165,"normalizedConfig"],[20,183,9,181],[20,188,9,186],[20,193,9,191],[20,194,9,192],[20,197,9,195],[20,202,9,200],[20,203,9,201],[20,206,9,204,"normalizedConfig"],[20,222,9,220],[20,223,9,221,"initialRouteName"],[20,239,9,237],[20,240,9,238],[20,244,9,242,"routes"],[20,250,9,248],[20,251,9,249],[20,252,9,250],[20,253,9,251],[20,254,9,252,"key"],[20,257,9,255],[20,262,9,260,"undefined"],[20,271,9,269],[20,272,9,270],[20,274,9,272],[21,6,10,4],[21,13,10,11],[22,8,11,6,"type"],[22,12,11,10],[22,14,11,12],[22,21,11,19],[23,8,12,6,"payload"],[23,15,12,13],[23,17,12,15,"state"],[24,6,13,4],[24,7,13,5],[25,4,14,2],[26,4,15,2],[26,8,15,8,"route"],[26,13,15,13],[26,16,15,16,"state"],[26,21,15,21],[26,22,15,22,"routes"],[26,28,15,28],[26,30,15,28,"_state$index"],[26,42,15,28],[26,45,15,29,"state"],[26,50,15,34],[26,51,15,35,"index"],[26,56,15,40],[26,68,15,40,"_state$index"],[26,80,15,40],[26,83,15,44,"state"],[26,88,15,49],[26,89,15,50,"routes"],[26,95,15,56],[26,96,15,57,"length"],[26,102,15,63],[26,105,15,66],[26,106,15,67],[26,107,15,68],[27,4,16,2],[27,8,16,6,"current"],[27,15,16,13],[27,18,16,16,"route"],[27,23,16,21],[27,28,16,26],[27,32,16,30],[27,36,16,34,"route"],[27,41,16,39],[27,46,16,44],[27,51,16,49],[27,52,16,50],[27,55,16,53],[27,60,16,58],[27,61,16,59],[27,64,16,62,"route"],[27,69,16,67],[27,70,16,68,"state"],[27,75,16,73],[28,4,17,2],[28,8,17,6,"config"],[28,14,17,12],[28,17,17,15,"normalizedConfig"],[28,33,17,31],[28,38,17,36],[28,42,17,40],[28,46,17,44,"normalizedConfig"],[28,62,17,60],[28,67,17,65],[28,72,17,70],[28,73,17,71],[28,76,17,74],[28,81,17,79],[28,82,17,80],[28,85,17,83],[28,86,17,84,"_normalizedConfig$scr"],[28,107,17,105],[28,110,17,108,"normalizedConfig"],[28,126,17,124],[28,127,17,125,"screens"],[28,134,17,132],[28,140,17,138],[28,144,17,142],[28,148,17,146,"_normalizedConfig$scr"],[28,169,17,167],[28,174,17,172],[28,179,17,177],[28,180,17,178],[28,183,17,181],[28,188,17,186],[28,189,17,187],[28,192,17,190,"_normalizedConfig$scr"],[28,213,17,211],[28,214,17,212,"route"],[28,219,17,217],[28,224,17,222],[28,228,17,226],[28,232,17,230,"route"],[28,237,17,235],[28,242,17,240],[28,247,17,245],[28,248,17,246],[28,251,17,249],[28,256,17,254],[28,257,17,255],[28,260,17,258,"route"],[28,265,17,263],[28,266,17,264,"name"],[28,270,17,268],[28,271,17,269],[29,4,18,2],[29,8,18,6,"params"],[29,14,18,12],[29,17,18,12,"_objectSpread"],[29,30,18,12],[29,35,19,7,"route"],[29,40,19,12],[29,41,19,13,"params"],[29,47,19,19],[29,48,20,3],[30,4,21,2],[30,8,21,6,"payload"],[30,15,21,13],[30,18,21,16,"route"],[30,23,21,21],[30,26,21,24],[31,6,22,4,"name"],[31,10,22,8],[31,12,22,10,"route"],[31,17,22,15],[31,18,22,16,"name"],[31,22,22,20],[32,6,23,4,"path"],[32,10,23,8],[32,12,23,10,"route"],[32,17,23,15],[32,18,23,16,"path"],[32,22,23,20],[33,6,24,4,"params"],[33,12,24,10],[33,14,24,4,"params"],[34,4,25,2],[34,5,25,3],[34,8,25,6,"undefined"],[34,17,25,15],[35,4,26,2],[35,11,26,9,"current"],[35,18,26,16],[35,20,26,18],[36,6,27,4],[36,10,27,8,"_config"],[36,17,27,15],[36,19,27,17,"_config2"],[36,27,27,25],[36,29,27,27,"_config2$screens"],[36,45,27,43],[37,6,28,4],[37,10,28,8,"current"],[37,17,28,15],[37,18,28,16,"routes"],[37,24,28,22],[37,25,28,23,"length"],[37,31,28,29],[37,36,28,34],[37,37,28,35],[37,39,28,37],[38,8,29,6],[38,15,29,13,"undefined"],[38,24,29,22],[39,6,30,4],[40,6,31,4],[40,10,31,10,"routes"],[40,17,31,16],[40,20,31,19,"current"],[40,27,31,26],[40,28,31,27,"index"],[40,33,31,32],[40,37,31,36],[40,41,31,40],[40,44,31,43,"current"],[40,51,31,50],[40,52,31,51,"routes"],[40,58,31,57],[40,59,31,58,"slice"],[40,64,31,63],[40,65,31,64],[40,66,31,65],[40,68,31,67,"current"],[40,75,31,74],[40,76,31,75,"index"],[40,81,31,80],[40,84,31,83],[40,85,31,84],[40,86,31,85],[40,89,31,88,"current"],[40,96,31,95],[40,97,31,96,"routes"],[40,103,31,102],[41,6,32,4],[41,10,32,10,"route"],[41,16,32,15],[41,19,32,18,"routes"],[41,26,32,24],[41,27,32,25,"routes"],[41,34,32,31],[41,35,32,32,"length"],[41,41,32,38],[41,44,32,41],[41,45,32,42],[41,46,32,43],[43,6,34,4],[44,6,35,4,"Object"],[44,12,35,10],[44,13,35,11,"assign"],[44,19,35,17],[44,20,35,18,"params"],[44,26,35,24],[44,28,35,26],[45,8,36,6,"initial"],[45,15,36,13],[45,17,36,15,"undefined"],[45,26,36,24],[46,8,37,6,"screen"],[46,14,37,12],[46,16,37,14,"undefined"],[46,25,37,23],[47,8,38,6,"params"],[47,14,38,12],[47,16,38,14,"undefined"],[47,25,38,23],[48,8,39,6,"state"],[48,13,39,11],[48,15,39,13,"undefined"],[49,6,40,4],[49,7,40,5],[49,8,40,6],[50,6,41,4],[50,10,41,8,"routes"],[50,17,41,14],[50,18,41,15,"length"],[50,24,41,21],[50,29,41,26],[50,30,41,27],[50,34,41,31,"routes"],[50,41,41,37],[50,42,41,38],[50,43,41,39],[50,44,41,40],[50,45,41,41,"key"],[50,48,41,44],[50,53,41,49,"undefined"],[50,62,41,58],[50,64,41,60],[51,8,42,6,"params"],[51,14,42,12],[51,15,42,13,"initial"],[51,22,42,20],[51,25,42,23],[51,29,42,27],[52,8,43,6,"params"],[52,14,43,12],[52,15,43,13,"screen"],[52,21,43,19],[52,24,43,22,"route"],[52,30,43,27],[52,31,43,28,"name"],[52,35,43,32],[53,6,44,4],[53,7,44,5],[53,13,44,11],[53,17,44,15,"routes"],[53,24,44,21],[53,25,44,22,"length"],[53,31,44,28],[53,36,44,33],[53,37,44,34],[53,41,44,38,"routes"],[53,48,44,44],[53,49,44,45],[53,50,44,46],[53,51,44,47],[53,52,44,48,"key"],[53,55,44,51],[53,60,44,56,"undefined"],[53,69,44,65],[53,73,44,69,"routes"],[53,80,44,75],[53,81,44,76],[53,82,44,77],[53,83,44,78],[53,84,44,79,"name"],[53,88,44,83],[53,94,44,89],[53,95,44,90,"_config"],[53,102,44,97],[53,105,44,100,"config"],[53,111,44,106],[53,117,44,112],[53,121,44,116],[53,125,44,120,"_config"],[53,132,44,127],[53,137,44,132],[53,142,44,137],[53,143,44,138],[53,146,44,141],[53,151,44,146],[53,152,44,147],[53,155,44,150,"_config"],[53,162,44,157],[53,163,44,158,"initialRouteName"],[53,179,44,174],[53,180,44,175],[53,184,44,179,"routes"],[53,191,44,185],[53,192,44,186],[53,193,44,187],[53,194,44,188],[53,195,44,189,"key"],[53,198,44,192],[53,203,44,197,"undefined"],[53,212,44,206],[53,214,44,208],[54,8,45,6,"params"],[54,14,45,12],[54,15,45,13,"initial"],[54,22,45,20],[54,25,45,23],[54,30,45,28],[55,8,46,6,"params"],[55,14,46,12],[55,15,46,13,"screen"],[55,21,46,19],[55,24,46,22,"route"],[55,30,46,27],[55,31,46,28,"name"],[55,35,46,32],[56,6,47,4],[56,7,47,5],[56,13,47,11],[57,8,48,6,"params"],[57,14,48,12],[57,15,48,13,"state"],[57,20,48,18],[57,23,48,21,"current"],[57,30,48,28],[58,8,49,6],[59,6,50,4],[60,6,51,4],[60,10,51,8,"route"],[60,16,51,13],[60,17,51,14,"state"],[60,22,51,19],[60,24,51,21],[61,8,52,6,"params"],[61,14,52,12],[61,15,52,13,"params"],[61,21,52,19],[61,24,52,19,"_objectSpread"],[61,37,52,19],[61,42,53,11,"route"],[61,48,53,16],[61,49,53,17,"params"],[61,55,53,23],[61,56,54,7],[62,8,55,6,"params"],[62,14,55,12],[62,17,55,15,"params"],[62,23,55,21],[62,24,55,22,"params"],[62,30,55,28],[63,6,56,4],[63,7,56,5],[63,13,56,11],[64,8,57,6,"params"],[64,14,57,12],[64,15,57,13,"path"],[64,19,57,17],[64,22,57,20,"route"],[64,28,57,25],[64,29,57,26,"path"],[64,33,57,30],[65,8,58,6,"params"],[65,14,58,12],[65,15,58,13,"params"],[65,21,58,19],[65,24,58,22,"route"],[65,30,58,27],[65,31,58,28,"params"],[65,37,58,34],[66,6,59,4],[67,6,60,4,"current"],[67,13,60,11],[67,16,60,14,"route"],[67,22,60,19],[67,23,60,20,"state"],[67,28,60,25],[68,6,61,4,"config"],[68,12,61,10],[68,15,61,13],[68,16,61,14,"_config2"],[68,24,61,22],[68,27,61,25,"config"],[68,33,61,31],[68,39,61,37],[68,43,61,41],[68,47,61,45,"_config2"],[68,55,61,53],[68,60,61,58],[68,65,61,63],[68,66,61,64],[68,69,61,67],[68,74,61,72],[68,75,61,73],[68,78,61,76],[68,79,61,77,"_config2$screens"],[68,95,61,93],[68,98,61,96,"_config2"],[68,106,61,104],[68,107,61,105,"screens"],[68,114,61,112],[68,120,61,118],[68,124,61,122],[68,128,61,126,"_config2$screens"],[68,144,61,142],[68,149,61,147],[68,154,61,152],[68,155,61,153],[68,158,61,156],[68,163,61,161],[68,164,61,162],[68,167,61,165,"_config2$screens"],[68,183,61,181],[68,184,61,182,"route"],[68,190,61,187],[68,191,61,188,"name"],[68,195,61,192],[68,196,61,193],[69,4,62,2],[70,4,63,2],[70,8,63,6],[70,9,63,7,"payload"],[70,16,63,14],[70,18,63,16],[71,6,64,4],[72,4,65,2],[74,4,67,2],[75,4,68,2],[76,4,69,2],[76,11,69,9],[77,6,70,4,"type"],[77,10,70,8],[77,12,70,10],[77,22,70,20],[78,6,71,4,"payload"],[78,13,71,11],[78,15,71,4,"payload"],[79,4,72,2],[79,5,72,3],[80,2,73,0],[81,2,74,0],[81,6,74,6,"createNormalizedConfigItem"],[81,32,74,32],[81,35,74,35],[81,44,74,6,"createNormalizedConfigItem"],[81,70,74,32,"createNormalizedConfigItem"],[81,71,74,35,"config"],[81,77,74,41],[82,4,74,41],[82,11,74,45],[82,18,74,52,"config"],[82,24,74,58],[82,29,74,63],[82,37,74,71],[82,41,74,75,"config"],[82,47,74,81],[82,51,74,85],[82,55,74,89],[82,58,74,92],[83,6,75,2,"initialRouteName"],[83,22,75,18],[83,24,75,20,"config"],[83,30,75,26],[83,31,75,27,"initialRouteName"],[83,47,75,43],[84,6,76,2,"screens"],[84,13,76,9],[84,15,76,11,"config"],[84,21,76,17],[84,22,76,18,"screens"],[84,29,76,25],[84,33,76,29],[84,37,76,33],[84,40,76,36,"createNormalizedConfigs"],[84,63,76,59],[84,64,76,60,"config"],[84,70,76,66],[84,71,76,67,"screens"],[84,78,76,74],[84,79,76,75],[84,82,76,78,"undefined"],[85,4,77,0],[85,5,77,1],[85,8,77,4],[85,9,77,5],[85,10,77,6],[86,2,77,6],[87,2,78,0],[87,6,78,6,"createNormalizedConfigs"],[87,29,78,29],[87,32,78,32],[87,41,78,6,"createNormalizedConfigs"],[87,64,78,29,"createNormalizedConfigs"],[87,65,78,32,"options"],[87,72,78,39],[88,4,78,39],[88,11,78,43,"Object"],[88,17,78,49],[88,18,78,50,"entries"],[88,25,78,57],[88,26,78,58,"options"],[88,33,78,65],[88,34,78,66],[88,35,78,67,"reduce"],[88,41,78,73],[88,42,78,74],[88,52,78,75,"acc"],[88,55,78,78],[88,57,78,80,"_ref"],[88,61,78,84],[88,63,78,89],[89,6,79,2],[89,10,79,2,"_ref2"],[89,15,79,2],[89,22,79,2,"_slicedToArray2"],[89,37,79,2],[89,38,79,2,"default"],[89,45,79,2],[89,47,79,15,"_ref"],[89,51,79,19],[90,8,79,7,"k"],[90,9,79,8],[90,12,79,8,"_ref2"],[90,17,79,8],[91,8,79,10,"v"],[91,9,79,11],[91,12,79,11,"_ref2"],[91,17,79,11],[92,6,80,2,"acc"],[92,9,80,5],[92,10,80,6,"k"],[92,11,80,7],[92,12,80,8],[92,15,80,11,"createNormalizedConfigItem"],[92,41,80,37],[92,42,80,38,"v"],[92,43,80,39],[92,44,80,40],[93,6,81,2],[93,13,81,9,"acc"],[93,16,81,12],[94,4,82,0],[94,5,82,1],[94,7,82,3],[94,8,82,4],[94,9,82,5],[94,10,82,6],[95,2,82,6],[96,0,82,7]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA,eC;CDwE;mCEC;MFG;gCGC,0CC;CDI,KH"}},"type":"js/module"}]}