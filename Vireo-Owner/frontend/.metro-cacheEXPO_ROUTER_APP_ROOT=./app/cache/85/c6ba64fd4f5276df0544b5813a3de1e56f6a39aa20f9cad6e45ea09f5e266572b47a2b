{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":55,"column":43,"index":1787}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":55,"column":43,"index":1787}}],"key":"XnmB3YjhLQUu4Gtg+kalDAx6bCo="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":42,"index":57}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"../animation/index.js","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":58},"end":{"line":4,"column":58,"index":116}}],"key":"PMYS4qswTxlxArHXQ2q95JMVHpk="}},{"name":"../core.js","data":{"asyncType":null,"locs":[{"start":{"line":5,"column":0,"index":117},"end":{"line":5,"column":66,"index":183}}],"key":"IwVQnlpUdSFQCDvJLHc1ke7/yxI="}},{"name":"../PlatformChecker.js","data":{"asyncType":null,"locs":[{"start":{"line":6,"column":0,"index":184},"end":{"line":6,"column":55,"index":239}}],"key":"hCgWSgfp09THBEznfV0bHL+RW2I="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDerivedValue = useDerivedValue;\n  var _toConsumableArray2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/toConsumableArray\"));\n  var _react = _$$_REQUIRE(_dependencyMap[2], \"react\");\n  var _index = _$$_REQUIRE(_dependencyMap[3], \"../animation/index.js\");\n  var _core = _$$_REQUIRE(_dependencyMap[4], \"../core.js\");\n  var _PlatformChecker = _$$_REQUIRE(_dependencyMap[5], \"../PlatformChecker.js\");\n  /**\n   * Lets you create new shared values based on existing ones while keeping them\n   * reactive.\n   *\n   * @param updater - A function called whenever at least one of the shared values\n   *   or state used in the function body changes.\n   * @param dependencies - An optional array of dependencies. Only relevant when\n   *   using Reanimated without the Babel plugin on the Web.\n   * @returns A new readonly shared value based on a value returned from the\n   *   updater function\n   * @see https://docs.swmansion.com/react-native-reanimated/docs/core/useDerivedValue\n   */\n  // @ts-expect-error This overload is required by our API.\n\n  function useDerivedValue(updater, dependencies) {\n    var _updater$__closure;\n    var initRef = (0, _react.useRef)(null);\n    var inputs = Object.values((_updater$__closure = updater.__closure) != null ? _updater$__closure : {});\n    if ((0, _PlatformChecker.shouldBeUseWeb)()) {\n      var _dependencies;\n      if (!inputs.length && (_dependencies = dependencies) != null && _dependencies.length) {\n        // let web work without a Babel/SWC plugin\n        inputs = dependencies;\n      }\n    }\n\n    // build dependencies\n    if (dependencies === undefined) {\n      dependencies = [].concat((0, _toConsumableArray2.default)(inputs), [updater.__workletHash]);\n    } else {\n      dependencies.push(updater.__workletHash);\n    }\n    if (initRef.current === null) {\n      initRef.current = (0, _core.makeMutable)((0, _index.initialUpdaterRun)(updater));\n    }\n    var sharedValue = initRef.current;\n    (0, _react.useEffect)(function () {\n      var fun = function fun() {\n        'worklet';\n\n        sharedValue.value = updater();\n      };\n      var mapperId = (0, _core.startMapper)(fun, inputs, [sharedValue]);\n      return function () {\n        (0, _core.stopMapper)(mapperId);\n      };\n    }, dependencies);\n    return sharedValue;\n  }\n});","lineCount":63,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"_$$_REQUIRE"],[4,42,1,13],[4,43,1,13,"_dependencyMap"],[4,57,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useDerivedValue"],[8,25,1,13],[8,28,1,13,"useDerivedValue"],[8,43,1,13],[9,2,1,13],[9,6,1,13,"_toConsumableArray2"],[9,25,1,13],[9,28,1,13,"_interopRequireDefault"],[9,50,1,13],[9,51,1,13,"_$$_REQUIRE"],[9,62,1,13],[9,63,1,13,"_dependencyMap"],[9,77,1,13],[10,2,3,0],[10,6,3,0,"_react"],[10,12,3,0],[10,15,3,0,"_$$_REQUIRE"],[10,26,3,0],[10,27,3,0,"_dependencyMap"],[10,41,3,0],[11,2,4,0],[11,6,4,0,"_index"],[11,12,4,0],[11,15,4,0,"_$$_REQUIRE"],[11,26,4,0],[11,27,4,0,"_dependencyMap"],[11,41,4,0],[12,2,5,0],[12,6,5,0,"_core"],[12,11,5,0],[12,14,5,0,"_$$_REQUIRE"],[12,25,5,0],[12,26,5,0,"_dependencyMap"],[12,40,5,0],[13,2,6,0],[13,6,6,0,"_PlatformChecker"],[13,22,6,0],[13,25,6,0,"_$$_REQUIRE"],[13,36,6,0],[13,37,6,0,"_dependencyMap"],[13,51,6,0],[14,2,8,0],[15,0,9,0],[16,0,10,0],[17,0,11,0],[18,0,12,0],[19,0,13,0],[20,0,14,0],[21,0,15,0],[22,0,16,0],[23,0,17,0],[24,0,18,0],[25,0,19,0],[26,2,20,0],[28,2,22,7],[28,11,22,16,"useDerivedValue"],[28,26,22,31,"useDerivedValue"],[28,27,22,32,"updater"],[28,34,22,39],[28,36,22,41,"dependencies"],[28,48,22,53],[28,50,22,55],[29,4,22,55],[29,8,22,55,"_updater$__closure"],[29,26,22,55],[30,4,23,2],[30,8,23,8,"initRef"],[30,15,23,15],[30,18,23,18],[30,22,23,18,"useRef"],[30,35,23,24],[30,37,23,25],[30,41,23,29],[30,42,23,30],[31,4,24,2],[31,8,24,6,"inputs"],[31,14,24,12],[31,17,24,15,"Object"],[31,23,24,21],[31,24,24,22,"values"],[31,30,24,28],[31,32,24,28,"_updater$__closure"],[31,50,24,28],[31,53,24,29,"updater"],[31,60,24,36],[31,61,24,37,"__closure"],[31,70,24,46],[31,82,24,46,"_updater$__closure"],[31,100,24,46],[31,103,24,50],[31,104,24,51],[31,105,24,52],[31,106,24,53],[32,4,25,2],[32,8,25,6],[32,12,25,6,"shouldBeUseWeb"],[32,43,25,20],[32,45,25,21],[32,46,25,22],[32,48,25,24],[33,6,25,24],[33,10,25,24,"_dependencies"],[33,23,25,24],[34,6,26,4],[34,10,26,8],[34,11,26,9,"inputs"],[34,17,26,15],[34,18,26,16,"length"],[34,24,26,22],[34,29,26,22,"_dependencies"],[34,42,26,22],[34,45,26,26,"dependencies"],[34,57,26,38],[34,70,26,26,"_dependencies"],[34,83,26,26],[34,84,26,40,"length"],[34,90,26,46],[34,92,26,48],[35,8,27,6],[36,8,28,6,"inputs"],[36,14,28,12],[36,17,28,15,"dependencies"],[36,29,28,27],[37,6,29,4],[38,4,30,2],[40,4,32,2],[41,4,33,2],[41,8,33,6,"dependencies"],[41,20,33,18],[41,25,33,23,"undefined"],[41,34,33,32],[41,36,33,34],[42,6,34,4,"dependencies"],[42,18,34,16],[42,24,34,16,"concat"],[42,30,34,16],[42,35,34,16,"_toConsumableArray2"],[42,54,34,16],[42,55,34,16,"default"],[42,62,34,16],[42,64,34,23,"inputs"],[42,70,34,29],[42,74,34,31,"updater"],[42,81,34,38],[42,82,34,39,"__workletHash"],[42,95,34,52],[42,97,34,53],[43,4,35,2],[43,5,35,3],[43,11,35,9],[44,6,36,4,"dependencies"],[44,18,36,16],[44,19,36,17,"push"],[44,23,36,21],[44,24,36,22,"updater"],[44,31,36,29],[44,32,36,30,"__workletHash"],[44,45,36,43],[44,46,36,44],[45,4,37,2],[46,4,38,2],[46,8,38,6,"initRef"],[46,15,38,13],[46,16,38,14,"current"],[46,23,38,21],[46,28,38,26],[46,32,38,30],[46,34,38,32],[47,6,39,4,"initRef"],[47,13,39,11],[47,14,39,12,"current"],[47,21,39,19],[47,24,39,22],[47,28,39,22,"makeMutable"],[47,45,39,33],[47,47,39,34],[47,51,39,34,"initialUpdaterRun"],[47,75,39,51],[47,77,39,52,"updater"],[47,84,39,59],[47,85,39,60],[47,86,39,61],[48,4,40,2],[49,4,41,2],[49,8,41,8,"sharedValue"],[49,19,41,19],[49,22,41,22,"initRef"],[49,29,41,29],[49,30,41,30,"current"],[49,37,41,37],[50,4,42,2],[50,8,42,2,"useEffect"],[50,24,42,11],[50,26,42,12],[50,38,42,18],[51,6,43,4],[51,10,43,10,"fun"],[51,13,43,13],[51,16,43,16],[51,25,43,10,"fun"],[51,28,43,13,"fun"],[51,29,43,13],[51,31,43,22],[52,8,44,6],[52,17,44,15],[54,8,46,6,"sharedValue"],[54,19,46,17],[54,20,46,18,"value"],[54,25,46,23],[54,28,46,26,"updater"],[54,35,46,33],[54,36,46,34],[54,37,46,35],[55,6,47,4],[55,7,47,5],[56,6,48,4],[56,10,48,10,"mapperId"],[56,18,48,18],[56,21,48,21],[56,25,48,21,"startMapper"],[56,42,48,32],[56,44,48,33,"fun"],[56,47,48,36],[56,49,48,38,"inputs"],[56,55,48,44],[56,57,48,46],[56,58,48,47,"sharedValue"],[56,69,48,58],[56,70,48,59],[56,71,48,60],[57,6,49,4],[57,13,49,11],[57,25,49,17],[58,8,50,6],[58,12,50,6,"stopMapper"],[58,28,50,16],[58,30,50,17,"mapperId"],[58,38,50,25],[58,39,50,26],[59,6,51,4],[59,7,51,5],[60,4,52,2],[60,5,52,3],[60,7,52,5,"dependencies"],[60,19,52,17],[60,20,52,18],[61,4,53,2],[61,11,53,9,"sharedValue"],[61,22,53,20],[62,2,54,0],[63,0,54,1]],"functionMap":{"names":["<global>","useDerivedValue","useEffect$argument_0","fun","<anonymous>"],"mappings":"AAA;OCqB;YCoB;gBCC;KDI;WEE;KFE;GDC;CDE"}},"type":"js/module"}]}