{"dependencies":[{"name":"./util","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"DQ+NnsvRW532iS20nr5BN5Yr8jw="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.withRepeat = withRepeat;\n  var _util = _$$_REQUIRE(_dependencyMap[0], \"./util\");\n  function withRepeat(_nextAnimation) {\n    'worklet';\n\n    var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var callback = arguments.length > 3 ? arguments[3] : undefined;\n    return (0, _util.defineAnimation)(_nextAnimation, function () {\n      'worklet';\n\n      var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n      function repeat(animation, now) {\n        var finished = nextAnimation.onFrame(nextAnimation, now);\n        animation.current = nextAnimation.current;\n        if (finished) {\n          animation.reps += 1;\n          // call inner animation's callback on every repetition\n          // as the second argument the animation's current value is passed\n          if (nextAnimation.callback) {\n            nextAnimation.callback(true /* finished */, animation.current);\n          }\n          if (numberOfReps > 0 && animation.reps >= numberOfReps) {\n            return true;\n          }\n          var startValue = reverse ? nextAnimation.current : animation.startValue;\n          if (reverse) {\n            nextAnimation.toValue = animation.startValue;\n            animation.startValue = startValue;\n          }\n          nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n          return false;\n        }\n        return false;\n      }\n      var repCallback = function repCallback(finished) {\n        if (callback) {\n          callback(finished);\n        }\n        // when cancelled call inner animation's callback\n        if (!finished && nextAnimation.callback) {\n          nextAnimation.callback(false /* finished */);\n        }\n      };\n      function onStart(animation, value, now, previousAnimation) {\n        animation.startValue = value;\n        animation.reps = 0;\n        nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n      }\n      return {\n        isHigherOrder: true,\n        onFrame: repeat,\n        onStart: onStart,\n        reps: 0,\n        current: nextAnimation.current,\n        callback: repCallback,\n        startValue: 0\n      };\n    });\n  }\n});","lineCount":65,"map":[[6,2,1,0],[6,6,1,0,"_util"],[6,11,1,0],[6,14,1,0,"_$$_REQUIRE"],[6,25,1,0],[6,26,1,0,"_dependencyMap"],[6,40,1,0],[7,2,2,7],[7,11,2,16,"withRepeat"],[7,21,2,26,"withRepeat"],[7,22,2,27,"_nextAnimation"],[7,36,2,41],[7,38,2,43],[8,4,3,2],[8,13,3,11],[10,4,5,2],[10,8,5,6,"numberOfReps"],[10,20,5,18],[10,23,5,21,"arguments"],[10,32,5,30],[10,33,5,31,"length"],[10,39,5,37],[10,42,5,40],[10,43,5,41],[10,47,5,45,"arguments"],[10,56,5,54],[10,57,5,55],[10,58,5,56],[10,59,5,57],[10,64,5,62,"undefined"],[10,73,5,71],[10,76,5,74,"arguments"],[10,85,5,83],[10,86,5,84],[10,87,5,85],[10,88,5,86],[10,91,5,89],[10,92,5,90],[11,4,6,2],[11,8,6,6,"reverse"],[11,15,6,13],[11,18,6,16,"arguments"],[11,27,6,25],[11,28,6,26,"length"],[11,34,6,32],[11,37,6,35],[11,38,6,36],[11,42,6,40,"arguments"],[11,51,6,49],[11,52,6,50],[11,53,6,51],[11,54,6,52],[11,59,6,57,"undefined"],[11,68,6,66],[11,71,6,69,"arguments"],[11,80,6,78],[11,81,6,79],[11,82,6,80],[11,83,6,81],[11,86,6,84],[11,91,6,89],[12,4,7,2],[12,8,7,6,"callback"],[12,16,7,14],[12,19,7,17,"arguments"],[12,28,7,26],[12,29,7,27,"length"],[12,35,7,33],[12,38,7,36],[12,39,7,37],[12,42,7,40,"arguments"],[12,51,7,49],[12,52,7,50],[12,53,7,51],[12,54,7,52],[12,57,7,55,"undefined"],[12,66,7,64],[13,4,8,2],[13,11,8,9],[13,15,8,9,"defineAnimation"],[13,36,8,24],[13,38,8,25,"_nextAnimation"],[13,52,8,39],[13,54,8,41],[13,66,8,47],[14,6,9,4],[14,15,9,13],[16,6,11,4],[16,10,11,10,"nextAnimation"],[16,23,11,23],[16,26,11,26],[16,33,11,33,"_nextAnimation"],[16,47,11,47],[16,52,11,52],[16,62,11,62],[16,65,11,65,"_nextAnimation"],[16,79,11,79],[16,80,11,80],[16,81,11,81],[16,84,11,84,"_nextAnimation"],[16,98,11,98],[17,6,12,4],[17,15,12,13,"repeat"],[17,21,12,19,"repeat"],[17,22,12,20,"animation"],[17,31,12,29],[17,33,12,31,"now"],[17,36,12,34],[17,38,12,36],[18,8,13,6],[18,12,13,12,"finished"],[18,20,13,20],[18,23,13,23,"nextAnimation"],[18,36,13,36],[18,37,13,37,"onFrame"],[18,44,13,44],[18,45,13,45,"nextAnimation"],[18,58,13,58],[18,60,13,60,"now"],[18,63,13,63],[18,64,13,64],[19,8,14,6,"animation"],[19,17,14,15],[19,18,14,16,"current"],[19,25,14,23],[19,28,14,26,"nextAnimation"],[19,41,14,39],[19,42,14,40,"current"],[19,49,14,47],[20,8,15,6],[20,12,15,10,"finished"],[20,20,15,18],[20,22,15,20],[21,10,16,8,"animation"],[21,19,16,17],[21,20,16,18,"reps"],[21,24,16,22],[21,28,16,26],[21,29,16,27],[22,10,17,8],[23,10,18,8],[24,10,19,8],[24,14,19,12,"nextAnimation"],[24,27,19,25],[24,28,19,26,"callback"],[24,36,19,34],[24,38,19,36],[25,12,20,10,"nextAnimation"],[25,25,20,23],[25,26,20,24,"callback"],[25,34,20,32],[25,35,20,33],[25,39,20,37],[25,40,20,38],[25,56,20,54,"animation"],[25,65,20,63],[25,66,20,64,"current"],[25,73,20,71],[25,74,20,72],[26,10,21,8],[27,10,22,8],[27,14,22,12,"numberOfReps"],[27,26,22,24],[27,29,22,27],[27,30,22,28],[27,34,22,32,"animation"],[27,43,22,41],[27,44,22,42,"reps"],[27,48,22,46],[27,52,22,50,"numberOfReps"],[27,64,22,62],[27,66,22,64],[28,12,23,10],[28,19,23,17],[28,23,23,21],[29,10,24,8],[30,10,25,8],[30,14,25,14,"startValue"],[30,24,25,24],[30,27,25,27,"reverse"],[30,34,25,34],[30,37,25,37,"nextAnimation"],[30,50,25,50],[30,51,25,51,"current"],[30,58,25,58],[30,61,25,61,"animation"],[30,70,25,70],[30,71,25,71,"startValue"],[30,81,25,81],[31,10,26,8],[31,14,26,12,"reverse"],[31,21,26,19],[31,23,26,21],[32,12,27,10,"nextAnimation"],[32,25,27,23],[32,26,27,24,"toValue"],[32,33,27,31],[32,36,27,34,"animation"],[32,45,27,43],[32,46,27,44,"startValue"],[32,56,27,54],[33,12,28,10,"animation"],[33,21,28,19],[33,22,28,20,"startValue"],[33,32,28,30],[33,35,28,33,"startValue"],[33,45,28,43],[34,10,29,8],[35,10,30,8,"nextAnimation"],[35,23,30,21],[35,24,30,22,"onStart"],[35,31,30,29],[35,32,30,30,"nextAnimation"],[35,45,30,43],[35,47,30,45,"startValue"],[35,57,30,55],[35,59,30,57,"now"],[35,62,30,60],[35,64,30,62,"nextAnimation"],[35,77,30,75],[35,78,30,76,"previousAnimation"],[35,95,30,93],[35,96,30,94],[36,10,31,8],[36,17,31,15],[36,22,31,20],[37,8,32,6],[38,8,33,6],[38,15,33,13],[38,20,33,18],[39,6,34,4],[40,6,35,4],[40,10,35,10,"repCallback"],[40,21,35,21],[40,24,35,24],[40,33,35,10,"repCallback"],[40,44,35,21,"repCallback"],[40,45,35,24,"finished"],[40,53,35,32],[40,55,35,36],[41,8,36,6],[41,12,36,10,"callback"],[41,20,36,18],[41,22,36,20],[42,10,37,8,"callback"],[42,18,37,16],[42,19,37,17,"finished"],[42,27,37,25],[42,28,37,26],[43,8,38,6],[44,8,39,6],[45,8,40,6],[45,12,40,10],[45,13,40,11,"finished"],[45,21,40,19],[45,25,40,23,"nextAnimation"],[45,38,40,36],[45,39,40,37,"callback"],[45,47,40,45],[45,49,40,47],[46,10,41,8,"nextAnimation"],[46,23,41,21],[46,24,41,22,"callback"],[46,32,41,30],[46,33,41,31],[46,38,41,36],[46,39,41,37],[46,53,41,51],[46,54,41,52],[47,8,42,6],[48,6,43,4],[48,7,43,5],[49,6,45,4],[49,15,45,13,"onStart"],[49,22,45,20,"onStart"],[49,23,45,21,"animation"],[49,32,45,30],[49,34,45,32,"value"],[49,39,45,37],[49,41,45,39,"now"],[49,44,45,42],[49,46,45,44,"previousAnimation"],[49,63,45,61],[49,65,45,63],[50,8,46,6,"animation"],[50,17,46,15],[50,18,46,16,"startValue"],[50,28,46,26],[50,31,46,29,"value"],[50,36,46,34],[51,8,47,6,"animation"],[51,17,47,15],[51,18,47,16,"reps"],[51,22,47,20],[51,25,47,23],[51,26,47,24],[52,8,48,6,"nextAnimation"],[52,21,48,19],[52,22,48,20,"onStart"],[52,29,48,27],[52,30,48,28,"nextAnimation"],[52,43,48,41],[52,45,48,43,"value"],[52,50,48,48],[52,52,48,50,"now"],[52,55,48,53],[52,57,48,55,"previousAnimation"],[52,74,48,72],[52,75,48,73],[53,6,49,4],[54,6,50,4],[54,13,50,11],[55,8,51,6,"isHigherOrder"],[55,21,51,19],[55,23,51,21],[55,27,51,25],[56,8,52,6,"onFrame"],[56,15,52,13],[56,17,52,15,"repeat"],[56,23,52,21],[57,8,53,6,"onStart"],[57,15,53,13],[57,17,53,6,"onStart"],[57,24,53,13],[58,8,54,6,"reps"],[58,12,54,10],[58,14,54,12],[58,15,54,13],[59,8,55,6,"current"],[59,15,55,13],[59,17,55,15,"nextAnimation"],[59,30,55,28],[59,31,55,29,"current"],[59,38,55,36],[60,8,56,6,"callback"],[60,16,56,14],[60,18,56,16,"repCallback"],[60,29,56,27],[61,8,57,6,"startValue"],[61,18,57,16],[61,20,57,18],[62,6,58,4],[62,7,58,5],[63,4,59,2],[63,5,59,3],[63,6,59,4],[64,2,60,0],[65,0,60,1]],"functionMap":{"names":["<global>","withRepeat","defineAnimation$argument_1","repeat","repCallback","onStart"],"mappings":"AAA;OCC;yCCM;ICI;KDsB;wBEC;KFQ;IGE;KHI;GDU;CDC"}},"type":"js/module"}]}