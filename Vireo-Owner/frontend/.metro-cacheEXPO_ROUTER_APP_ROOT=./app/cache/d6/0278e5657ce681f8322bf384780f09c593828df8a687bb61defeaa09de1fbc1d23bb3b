{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":45,"index":2922}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":66,"index":98}}],"key":"y9eQQdj9MvCs7akL60igi3d/dsI="}},{"name":"./NavigationStateContext","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":62,"index":161}}],"key":"TdfjuPPN8UAMLY+O68wyv7/xOLM="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOptionsGetters;\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[1], \"react\"));\n  var _NavigationBuilderContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./NavigationBuilderContext\"));\n  var _NavigationStateContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./NavigationStateContext\"));\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(_NavigationStateContext.default),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(function () {\n      var _ref2;\n      var isFocused = (_ref2 = navigation === null || navigation === void 0 ? void 0 : navigation.isFocused()) != null ? _ref2 : true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        var _optionsRef$current;\n        onOptionsChange((_optionsRef$current = optionsRef.current) != null ? _optionsRef$current : {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(function () {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation === null || navigation === void 0 ? void 0 : navigation.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(function () {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (optionsGettersFromChildRef.current.hasOwnProperty(_key)) {\n          var _optionsGettersFromCh, _optionsGettersFromCh2;\n          var result = (_optionsGettersFromCh = (_optionsGettersFromCh2 = optionsGettersFromChildRef.current)[_key]) === null || _optionsGettersFromCh === void 0 ? void 0 : _optionsGettersFromCh.call(_optionsGettersFromCh2);\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(function () {\n      var _ref3;\n      var isFocused = (_ref3 = navigation === null || navigation === void 0 ? void 0 : navigation.isFocused()) != null ? _ref3 : true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(function () {\n      return parentAddOptionsGetter === null || parentAddOptionsGetter === void 0 ? void 0 : parentAddOptionsGetter(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback(function (key, getter) {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return function () {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter: addOptionsGetter,\n      getCurrentOptions: getCurrentOptions\n    };\n  }\n});","lineCount":78,"map":[[7,2,1,0],[7,6,1,0,"React"],[7,11,1,0],[7,14,1,0,"_interopRequireWildcard"],[7,37,1,0],[7,38,1,0,"_$$_REQUIRE"],[7,49,1,0],[7,50,1,0,"_dependencyMap"],[7,64,1,0],[8,2,2,0],[8,6,2,0,"_NavigationBuilderContext"],[8,31,2,0],[8,34,2,0,"_interopRequireDefault"],[8,56,2,0],[8,57,2,0,"_$$_REQUIRE"],[8,68,2,0],[8,69,2,0,"_dependencyMap"],[8,83,2,0],[9,2,3,0],[9,6,3,0,"_NavigationStateContext"],[9,29,3,0],[9,32,3,0,"_interopRequireDefault"],[9,54,3,0],[9,55,3,0,"_$$_REQUIRE"],[9,66,3,0],[9,67,3,0,"_dependencyMap"],[9,81,3,0],[10,2,3,62],[10,11,3,62,"_interopRequireWildcard"],[10,35,3,62,"e"],[10,36,3,62],[10,38,3,62,"t"],[10,39,3,62],[10,68,3,62,"WeakMap"],[10,75,3,62],[10,81,3,62,"r"],[10,82,3,62],[10,89,3,62,"WeakMap"],[10,96,3,62],[10,100,3,62,"n"],[10,101,3,62],[10,108,3,62,"WeakMap"],[10,115,3,62],[10,127,3,62,"_interopRequireWildcard"],[10,150,3,62],[10,162,3,62,"_interopRequireWildcard"],[10,186,3,62,"e"],[10,187,3,62],[10,189,3,62,"t"],[10,190,3,62],[10,199,3,62,"t"],[10,200,3,62],[10,204,3,62,"e"],[10,205,3,62],[10,209,3,62,"e"],[10,210,3,62],[10,211,3,62,"__esModule"],[10,221,3,62],[10,230,3,62,"e"],[10,231,3,62],[10,237,3,62,"o"],[10,238,3,62],[10,240,3,62,"i"],[10,241,3,62],[10,243,3,62,"f"],[10,244,3,62],[10,249,3,62,"__proto__"],[10,258,3,62],[10,266,3,62,"default"],[10,273,3,62],[10,275,3,62,"e"],[10,276,3,62],[10,293,3,62,"e"],[10,294,3,62],[10,317,3,62,"e"],[10,318,3,62],[10,343,3,62,"e"],[10,344,3,62],[10,353,3,62,"f"],[10,354,3,62],[10,360,3,62,"o"],[10,361,3,62],[10,364,3,62,"t"],[10,365,3,62],[10,368,3,62,"n"],[10,369,3,62],[10,372,3,62,"r"],[10,373,3,62],[10,381,3,62,"o"],[10,382,3,62],[10,383,3,62,"has"],[10,386,3,62],[10,387,3,62,"e"],[10,388,3,62],[10,398,3,62,"o"],[10,399,3,62],[10,400,3,62,"get"],[10,403,3,62],[10,404,3,62,"e"],[10,405,3,62],[10,408,3,62,"o"],[10,409,3,62],[10,410,3,62,"set"],[10,413,3,62],[10,414,3,62,"e"],[10,415,3,62],[10,417,3,62,"f"],[10,418,3,62],[10,432,3,62,"_t"],[10,434,3,62],[10,438,3,62,"e"],[10,439,3,62],[10,455,3,62,"_t"],[10,457,3,62],[10,464,3,62,"hasOwnProperty"],[10,478,3,62],[10,479,3,62,"call"],[10,483,3,62],[10,484,3,62,"e"],[10,485,3,62],[10,487,3,62,"_t"],[10,489,3,62],[10,496,3,62,"i"],[10,497,3,62],[10,501,3,62,"o"],[10,502,3,62],[10,505,3,62,"Object"],[10,511,3,62],[10,512,3,62,"defineProperty"],[10,526,3,62],[10,531,3,62,"Object"],[10,537,3,62],[10,538,3,62,"getOwnPropertyDescriptor"],[10,562,3,62],[10,563,3,62,"e"],[10,564,3,62],[10,566,3,62,"_t"],[10,568,3,62],[10,575,3,62,"i"],[10,576,3,62],[10,577,3,62,"get"],[10,580,3,62],[10,584,3,62,"i"],[10,585,3,62],[10,586,3,62,"set"],[10,589,3,62],[10,593,3,62,"o"],[10,594,3,62],[10,595,3,62,"f"],[10,596,3,62],[10,598,3,62,"_t"],[10,600,3,62],[10,602,3,62,"i"],[10,603,3,62],[10,607,3,62,"f"],[10,608,3,62],[10,609,3,62,"_t"],[10,611,3,62],[10,615,3,62,"e"],[10,616,3,62],[10,617,3,62,"_t"],[10,619,3,62],[10,630,3,62,"f"],[10,631,3,62],[10,636,3,62,"e"],[10,637,3,62],[10,639,3,62,"t"],[10,640,3,62],[11,2,4,15],[11,11,4,24,"useOptionsGetters"],[11,28,4,41,"useOptionsGetters"],[11,29,4,42,"_ref"],[11,33,4,46],[11,35,4,48],[12,4,5,2],[12,8,6,4,"key"],[12,11,6,7],[12,14,9,6,"_ref"],[12,18,9,10],[12,19,6,4,"key"],[12,22,6,7],[13,6,7,4,"options"],[13,13,7,11],[13,16,9,6,"_ref"],[13,20,9,10],[13,21,7,4,"options"],[13,28,7,11],[14,6,8,4,"navigation"],[14,16,8,14],[14,19,9,6,"_ref"],[14,23,9,10],[14,24,8,4,"navigation"],[14,34,8,14],[15,4,10,2],[15,8,10,8,"optionsRef"],[15,18,10,18],[15,21,10,21,"React"],[15,26,10,26],[15,27,10,27,"useRef"],[15,33,10,33],[15,34,10,34,"options"],[15,41,10,41],[15,42,10,42],[16,4,11,2],[16,8,11,8,"optionsGettersFromChildRef"],[16,34,11,34],[16,37,11,37,"React"],[16,42,11,42],[16,43,11,43,"useRef"],[16,49,11,49],[16,50,11,50],[16,51,11,51],[16,52,11,52],[16,53,11,53],[17,4,12,2],[17,8,12,2,"_React$useContext"],[17,25,12,2],[17,28,14,6,"React"],[17,33,14,11],[17,34,14,12,"useContext"],[17,44,14,22],[17,45,14,23,"NavigationBuilderContext"],[17,78,14,47],[17,79,14,48],[18,6,13,4,"onOptionsChange"],[18,21,13,19],[18,24,13,19,"_React$useContext"],[18,41,13,19],[18,42,13,4,"onOptionsChange"],[18,57,13,19],[19,4,15,2],[19,8,15,2,"_React$useContext2"],[19,26,15,2],[19,29,17,6,"React"],[19,34,17,11],[19,35,17,12,"useContext"],[19,45,17,22],[19,46,17,23,"NavigationStateContext"],[19,77,17,45],[19,78,17,46],[20,6,16,22,"parentAddOptionsGetter"],[20,28,16,44],[20,31,16,44,"_React$useContext2"],[20,49,16,44],[20,50,16,4,"addOptionsGetter"],[20,66,16,20],[21,4,18,2],[21,8,18,8,"optionsChangeListener"],[21,29,18,29],[21,32,18,32,"React"],[21,37,18,37],[21,38,18,38,"useCallback"],[21,49,18,49],[21,50,18,50],[21,62,18,56],[22,6,18,56],[22,10,18,56,"_ref2"],[22,15,18,56],[23,6,19,4],[23,10,19,10,"isFocused"],[23,19,19,19],[23,23,19,19,"_ref2"],[23,28,19,19],[23,31,19,23,"navigation"],[23,41,19,33],[23,46,19,38],[23,50,19,42],[23,54,19,46,"navigation"],[23,64,19,56],[23,69,19,61],[23,74,19,66],[23,75,19,67],[23,78,19,70],[23,83,19,75],[23,84,19,76],[23,87,19,79,"navigation"],[23,97,19,89],[23,98,19,90,"isFocused"],[23,107,19,99],[23,108,19,100],[23,109,19,101],[23,121,19,101,"_ref2"],[23,126,19,101],[23,129,19,106],[23,133,19,110],[24,6,20,4],[24,10,20,10,"hasChildren"],[24,21,20,21],[24,24,20,24,"Object"],[24,30,20,30],[24,31,20,31,"keys"],[24,35,20,35],[24,36,20,36,"optionsGettersFromChildRef"],[24,62,20,62],[24,63,20,63,"current"],[24,70,20,70],[24,71,20,71],[24,72,20,72,"length"],[24,78,20,78],[25,6,21,4],[25,10,21,8,"isFocused"],[25,19,21,17],[25,23,21,21],[25,24,21,22,"hasChildren"],[25,35,21,33],[25,37,21,35],[26,8,21,35],[26,12,21,35,"_optionsRef$current"],[26,31,21,35],[27,8,22,6,"onOptionsChange"],[27,23,22,21],[27,25,22,21,"_optionsRef$current"],[27,44,22,21],[27,47,22,22,"optionsRef"],[27,57,22,32],[27,58,22,33,"current"],[27,65,22,40],[27,77,22,40,"_optionsRef$current"],[27,96,22,40],[27,99,22,44],[27,100,22,45],[27,101,22,46],[27,102,22,47],[28,6,23,4],[29,4,24,2],[29,5,24,3],[29,7,24,5],[29,8,24,6,"navigation"],[29,18,24,16],[29,20,24,18,"onOptionsChange"],[29,35,24,33],[29,36,24,34],[29,37,24,35],[30,4,25,2,"React"],[30,9,25,7],[30,10,25,8,"useEffect"],[30,19,25,17],[30,20,25,18],[30,32,25,24],[31,6,26,4,"optionsRef"],[31,16,26,14],[31,17,26,15,"current"],[31,24,26,22],[31,27,26,25,"options"],[31,34,26,32],[32,6,27,4,"optionsChangeListener"],[32,27,27,25],[32,28,27,26],[32,29,27,27],[33,6,28,4],[33,13,28,11,"navigation"],[33,23,28,21],[33,28,28,26],[33,32,28,30],[33,36,28,34,"navigation"],[33,46,28,44],[33,51,28,49],[33,56,28,54],[33,57,28,55],[33,60,28,58],[33,65,28,63],[33,66,28,64],[33,69,28,67,"navigation"],[33,79,28,77],[33,80,28,78,"addListener"],[33,91,28,89],[33,92,28,90],[33,99,28,97],[33,101,28,99,"optionsChangeListener"],[33,122,28,120],[33,123,28,121],[34,4,29,2],[34,5,29,3],[34,7,29,5],[34,8,29,6,"navigation"],[34,18,29,16],[34,20,29,18,"options"],[34,27,29,25],[34,29,29,27,"optionsChangeListener"],[34,50,29,48],[34,51,29,49],[34,52,29,50],[35,4,30,2],[35,8,30,8,"getOptionsFromListener"],[35,30,30,30],[35,33,30,33,"React"],[35,38,30,38],[35,39,30,39,"useCallback"],[35,50,30,50],[35,51,30,51],[35,63,30,57],[36,6,31,4],[36,11,31,9],[36,15,31,13,"key"],[36,19,31,16],[36,23,31,20,"optionsGettersFromChildRef"],[36,49,31,46],[36,50,31,47,"current"],[36,57,31,54],[36,59,31,56],[37,8,32,6],[37,12,32,10,"optionsGettersFromChildRef"],[37,38,32,36],[37,39,32,37,"current"],[37,46,32,44],[37,47,32,45,"hasOwnProperty"],[37,61,32,59],[37,62,32,60,"key"],[37,66,32,63],[37,67,32,64],[37,69,32,66],[38,10,33,8],[38,14,33,12,"_optionsGettersFromCh"],[38,35,33,33],[38,37,33,35,"_optionsGettersFromCh2"],[38,59,33,57],[39,10,34,8],[39,14,34,14,"result"],[39,20,34,20],[39,23,34,23],[39,24,34,24,"_optionsGettersFromCh"],[39,45,34,45],[39,48,34,48],[39,49,34,49,"_optionsGettersFromCh2"],[39,71,34,71],[39,74,34,74,"optionsGettersFromChildRef"],[39,100,34,100],[39,101,34,101,"current"],[39,108,34,108],[39,110,34,110,"key"],[39,114,34,113],[39,115,34,114],[39,121,34,120],[39,125,34,124],[39,129,34,128,"_optionsGettersFromCh"],[39,150,34,149],[39,155,34,154],[39,160,34,159],[39,161,34,160],[39,164,34,163],[39,169,34,168],[39,170,34,169],[39,173,34,172,"_optionsGettersFromCh"],[39,194,34,193],[39,195,34,194,"call"],[39,199,34,198],[39,200,34,199,"_optionsGettersFromCh2"],[39,222,34,221],[39,223,34,222],[41,10,36,8],[42,10,37,8],[42,14,37,12,"result"],[42,20,37,18],[42,25,37,23],[42,29,37,27],[42,31,37,29],[43,12,38,10],[43,19,38,17,"result"],[43,25,38,23],[44,10,39,8],[45,8,40,6],[46,6,41,4],[47,6,42,4],[47,13,42,11],[47,17,42,15],[48,4,43,2],[48,5,43,3],[48,7,43,5],[48,9,43,7],[48,10,43,8],[49,4,44,2],[49,8,44,8,"getCurrentOptions"],[49,25,44,25],[49,28,44,28,"React"],[49,33,44,33],[49,34,44,34,"useCallback"],[49,45,44,45],[49,46,44,46],[49,58,44,52],[50,6,44,52],[50,10,44,52,"_ref3"],[50,15,44,52],[51,6,45,4],[51,10,45,10,"isFocused"],[51,19,45,19],[51,23,45,19,"_ref3"],[51,28,45,19],[51,31,45,23,"navigation"],[51,41,45,33],[51,46,45,38],[51,50,45,42],[51,54,45,46,"navigation"],[51,64,45,56],[51,69,45,61],[51,74,45,66],[51,75,45,67],[51,78,45,70],[51,83,45,75],[51,84,45,76],[51,87,45,79,"navigation"],[51,97,45,89],[51,98,45,90,"isFocused"],[51,107,45,99],[51,108,45,100],[51,109,45,101],[51,121,45,101,"_ref3"],[51,126,45,101],[51,129,45,106],[51,133,45,110],[52,6,46,4],[52,10,46,8],[52,11,46,9,"isFocused"],[52,20,46,18],[52,22,46,20],[53,8,47,6],[53,15,47,13],[53,19,47,17],[54,6,48,4],[55,6,49,4],[55,10,49,10,"optionsFromListener"],[55,29,49,29],[55,32,49,32,"getOptionsFromListener"],[55,54,49,54],[55,55,49,55],[55,56,49,56],[56,6,50,4],[56,10,50,8,"optionsFromListener"],[56,29,50,27],[56,34,50,32],[56,38,50,36],[56,40,50,38],[57,8,51,6],[57,15,51,13,"optionsFromListener"],[57,34,51,32],[58,6,52,4],[59,6,53,4],[59,13,53,11,"optionsRef"],[59,23,53,21],[59,24,53,22,"current"],[59,31,53,29],[60,4,54,2],[60,5,54,3],[60,7,54,5],[60,8,54,6,"navigation"],[60,18,54,16],[60,20,54,18,"getOptionsFromListener"],[60,42,54,40],[60,43,54,41],[60,44,54,42],[61,4,55,2,"React"],[61,9,55,7],[61,10,55,8,"useEffect"],[61,19,55,17],[61,20,55,18],[61,32,55,24],[62,6,56,4],[62,13,56,11,"parentAddOptionsGetter"],[62,35,56,33],[62,40,56,38],[62,44,56,42],[62,48,56,46,"parentAddOptionsGetter"],[62,70,56,68],[62,75,56,73],[62,80,56,78],[62,81,56,79],[62,84,56,82],[62,89,56,87],[62,90,56,88],[62,93,56,91,"parentAddOptionsGetter"],[62,115,56,113],[62,116,56,114,"key"],[62,119,56,117],[62,121,56,119,"getCurrentOptions"],[62,138,56,136],[62,139,56,137],[63,4,57,2],[63,5,57,3],[63,7,57,5],[63,8,57,6,"getCurrentOptions"],[63,25,57,23],[63,27,57,25,"parentAddOptionsGetter"],[63,49,57,47],[63,51,57,49,"key"],[63,54,57,52],[63,55,57,53],[63,56,57,54],[64,4,58,2],[64,8,58,8,"addOptionsGetter"],[64,24,58,24],[64,27,58,27,"React"],[64,32,58,32],[64,33,58,33,"useCallback"],[64,44,58,44],[64,45,58,45],[64,55,58,46,"key"],[64,58,58,49],[64,60,58,51,"getter"],[64,66,58,57],[64,68,58,62],[65,6,59,4,"optionsGettersFromChildRef"],[65,32,59,30],[65,33,59,31,"current"],[65,40,59,38],[65,41,59,39,"key"],[65,44,59,42],[65,45,59,43],[65,48,59,46,"getter"],[65,54,59,52],[66,6,60,4,"optionsChangeListener"],[66,27,60,25],[66,28,60,26],[66,29,60,27],[67,6,61,4],[67,13,61,11],[67,25,61,17],[68,8,62,6],[69,8,63,6],[69,15,63,13,"optionsGettersFromChildRef"],[69,41,63,39],[69,42,63,40,"current"],[69,49,63,47],[69,50,63,48,"key"],[69,53,63,51],[69,54,63,52],[70,8,64,6,"optionsChangeListener"],[70,29,64,27],[70,30,64,28],[70,31,64,29],[71,6,65,4],[71,7,65,5],[72,4,66,2],[72,5,66,3],[72,7,66,5],[72,8,66,6,"optionsChangeListener"],[72,29,66,27],[72,30,66,28],[72,31,66,29],[73,4,67,2],[73,11,67,9],[74,6,68,4,"addOptionsGetter"],[74,22,68,20],[74,24,68,4,"addOptionsGetter"],[74,40,68,20],[75,6,69,4,"getCurrentOptions"],[75,23,69,21],[75,25,69,4,"getCurrentOptions"],[76,4,70,2],[76,5,70,3],[77,2,71,0],[78,0,71,1]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;eCG;kDCc;GDM;kBEC;GFI;mDGC;GHa;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"}},"type":"js/module"}]}