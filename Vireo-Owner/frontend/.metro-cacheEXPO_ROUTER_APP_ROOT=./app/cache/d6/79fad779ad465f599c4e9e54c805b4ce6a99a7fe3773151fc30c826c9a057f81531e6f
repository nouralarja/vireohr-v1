{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":33,"index":3032}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":33,"index":3032}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":33,"index":3032}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"../../animation","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":739},"end":{"line":4,"column":45,"index":784}}],"key":"k0KsnZQCP8HYTAIQaJXUGaLmPrk="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SharedTransition = exports.DefaultSharedTransition = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _animation = _$$_REQUIRE(_dependencyMap[3], \"../../animation\");\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n  }\n  function _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || \"default\");\n      if (typeof res !== \"object\") return res;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n  }\n  var supportedProps = ['width', 'height', 'originX', 'originY', 'transform'];\n  var SharedTransition = exports.SharedTransition = /*#__PURE__*/function () {\n    function SharedTransition() {\n      (0, _classCallCheck2.default)(this, SharedTransition);\n      _defineProperty(this, \"animationFactory\", null);\n      _defineProperty(this, \"defaultDuration\", 500);\n    }\n    return (0, _createClass2.default)(SharedTransition, [{\n      key: \"custom\",\n      value: function custom(animationFactory) {\n        this.animationFactory = animationFactory;\n        return this;\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        var animationFactory = this.animationFactory;\n        var animationDuration = this.defaultDuration;\n        return function (values) {\n          'worklet';\n\n          var animations = {};\n          var initialValues = {};\n          if (animationFactory) {\n            animations = animationFactory(values);\n            for (var key in animations) {\n              if (!supportedProps.includes(key)) {\n                throw Error(`The prop '${key}' is not supported yet.`);\n              }\n            }\n          } else {\n            for (var propName of supportedProps) {\n              if (propName === 'transform') {\n                var matrix = values.targetTransformMatrix;\n                animations.transformMatrix = (0, _animation.withTiming)(matrix, {\n                  // native screen transition takes around 500ms\n                  duration: animationDuration\n                });\n              } else {\n                var keyToTargetValue = 'target' + propName.charAt(0).toUpperCase() + propName.slice(1);\n                animations[propName] = (0, _animation.withTiming)(values[keyToTargetValue], {\n                  // native screen transition takes around 500ms\n                  duration: animationDuration\n                });\n              }\n            }\n          }\n          for (var _propName in animations) {\n            if (_propName === 'transform') {\n              initialValues.transformMatrix = values.currentTransformMatrix;\n            } else {\n              var keyToCurrentValue = 'current' + _propName.charAt(0).toUpperCase() + _propName.slice(1);\n              initialValues[_propName] = values[keyToCurrentValue];\n            }\n          }\n          return {\n            initialValues: initialValues,\n            animations: animations\n          };\n        };\n      }\n    }], [{\n      key: \"createInstance\",\n      value: function createInstance() {\n        return new SharedTransition();\n      }\n    }, {\n      key: \"custom\",\n      value: function custom(animationFactory) {\n        return this.createInstance().custom(animationFactory);\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        return this.createInstance().build();\n      }\n    }]);\n  }();\n  var DefaultSharedTransition = exports.DefaultSharedTransition = SharedTransition;\n});","lineCount":117,"map":[[9,2,4,0],[9,6,4,0,"_animation"],[9,16,4,0],[9,19,4,0,"_$$_REQUIRE"],[9,30,4,0],[9,31,4,0,"_dependencyMap"],[9,45,4,0],[10,2,1,0],[10,11,1,9,"_defineProperty"],[10,26,1,24,"_defineProperty"],[10,27,1,25,"obj"],[10,30,1,28],[10,32,1,30,"key"],[10,35,1,33],[10,37,1,35,"value"],[10,42,1,40],[10,44,1,42],[11,4,1,44,"key"],[11,7,1,47],[11,10,1,50,"_toPropertyKey"],[11,24,1,64],[11,25,1,65,"key"],[11,28,1,68],[11,29,1,69],[12,4,1,71],[12,8,1,75,"key"],[12,11,1,78],[12,15,1,82,"obj"],[12,18,1,85],[12,20,1,87],[13,6,1,89,"Object"],[13,12,1,95],[13,13,1,96,"defineProperty"],[13,27,1,110],[13,28,1,111,"obj"],[13,31,1,114],[13,33,1,116,"key"],[13,36,1,119],[13,38,1,121],[14,8,1,123,"value"],[14,13,1,128],[14,15,1,130,"value"],[14,20,1,135],[15,8,1,137,"enumerable"],[15,18,1,147],[15,20,1,149],[15,24,1,153],[16,8,1,155,"configurable"],[16,20,1,167],[16,22,1,169],[16,26,1,173],[17,8,1,175,"writable"],[17,16,1,183],[17,18,1,185],[18,6,1,190],[18,7,1,191],[18,8,1,192],[19,4,1,194],[19,5,1,195],[19,11,1,201],[20,6,1,203,"obj"],[20,9,1,206],[20,10,1,207,"key"],[20,13,1,210],[20,14,1,211],[20,17,1,214,"value"],[20,22,1,219],[21,4,1,221],[22,4,1,223],[22,11,1,230,"obj"],[22,14,1,233],[23,2,1,235],[24,2,2,0],[24,11,2,9,"_toPropertyKey"],[24,25,2,23,"_toPropertyKey"],[24,26,2,24,"arg"],[24,29,2,27],[24,31,2,29],[25,4,2,31],[25,8,2,35,"key"],[25,11,2,38],[25,14,2,41,"_toPrimitive"],[25,26,2,53],[25,27,2,54,"arg"],[25,30,2,57],[25,32,2,59],[25,40,2,67],[25,41,2,68],[26,4,2,70],[26,11,2,77],[26,18,2,84,"key"],[26,21,2,87],[26,26,2,92],[26,34,2,100],[26,37,2,103,"key"],[26,40,2,106],[26,43,2,109,"String"],[26,49,2,115],[26,50,2,116,"key"],[26,53,2,119],[26,54,2,120],[27,2,2,122],[28,2,3,0],[28,11,3,9,"_toPrimitive"],[28,23,3,21,"_toPrimitive"],[28,24,3,22,"input"],[28,29,3,27],[28,31,3,29,"hint"],[28,35,3,33],[28,37,3,35],[29,4,3,37],[29,8,3,41],[29,15,3,48,"input"],[29,20,3,53],[29,25,3,58],[29,33,3,66],[29,37,3,70,"input"],[29,42,3,75],[29,47,3,80],[29,51,3,84],[29,53,3,86],[29,60,3,93,"input"],[29,65,3,98],[30,4,3,100],[30,8,3,104,"prim"],[30,12,3,108],[30,15,3,111,"input"],[30,20,3,116],[30,21,3,117,"Symbol"],[30,27,3,123],[30,28,3,124,"toPrimitive"],[30,39,3,135],[30,40,3,136],[31,4,3,138],[31,8,3,142,"prim"],[31,12,3,146],[31,17,3,151,"undefined"],[31,26,3,160],[31,28,3,162],[32,6,3,164],[32,10,3,168,"res"],[32,13,3,171],[32,16,3,174,"prim"],[32,20,3,178],[32,21,3,179,"call"],[32,25,3,183],[32,26,3,184,"input"],[32,31,3,189],[32,33,3,191,"hint"],[32,37,3,195],[32,41,3,199],[32,50,3,208],[32,51,3,209],[33,6,3,211],[33,10,3,215],[33,17,3,222,"res"],[33,20,3,225],[33,25,3,230],[33,33,3,238],[33,35,3,240],[33,42,3,247,"res"],[33,45,3,250],[34,6,3,252],[34,12,3,258],[34,16,3,262,"TypeError"],[34,25,3,271],[34,26,3,272],[34,72,3,318],[34,73,3,319],[35,4,3,321],[36,4,3,323],[36,11,3,330],[36,12,3,331,"hint"],[36,16,3,335],[36,21,3,340],[36,29,3,348],[36,32,3,351,"String"],[36,38,3,357],[36,41,3,360,"Number"],[36,47,3,366],[36,49,3,368,"input"],[36,54,3,373],[36,55,3,374],[37,2,3,376],[38,2,5,0],[38,6,5,6,"supportedProps"],[38,20,5,20],[38,23,5,23],[38,24,5,24],[38,31,5,31],[38,33,5,33],[38,41,5,41],[38,43,5,43],[38,52,5,52],[38,54,5,54],[38,63,5,63],[38,65,5,65],[38,76,5,76],[38,77,5,77],[39,2,5,78],[39,6,6,13,"SharedTransition"],[39,22,6,29],[39,25,6,29,"exports"],[39,32,6,29],[39,33,6,29,"SharedTransition"],[39,49,6,29],[40,4,7,2],[40,13,7,2,"SharedTransition"],[40,30,7,2],[40,32,7,16],[41,6,7,16],[41,10,7,16,"_classCallCheck2"],[41,26,7,16],[41,27,7,16,"default"],[41,34,7,16],[41,42,7,16,"SharedTransition"],[41,58,7,16],[42,6,8,4,"_defineProperty"],[42,21,8,19],[42,22,8,20],[42,26,8,24],[42,28,8,26],[42,46,8,44],[42,48,8,46],[42,52,8,50],[42,53,8,51],[43,6,9,4,"_defineProperty"],[43,21,9,19],[43,22,9,20],[43,26,9,24],[43,28,9,26],[43,45,9,43],[43,47,9,45],[43,50,9,48],[43,51,9,49],[44,4,10,2],[45,4,10,3],[45,15,10,3,"_createClass2"],[45,28,10,3],[45,29,10,3,"default"],[45,36,10,3],[45,38,10,3,"SharedTransition"],[45,54,10,3],[46,6,10,3,"key"],[46,9,10,3],[47,6,10,3,"value"],[47,11,10,3],[47,13,17,2],[47,22,17,2,"custom"],[47,28,17,8,"custom"],[47,29,17,9,"animationFactory"],[47,45,17,25],[47,47,17,27],[48,8,18,4],[48,12,18,8],[48,13,18,9,"animationFactory"],[48,29,18,25],[48,32,18,28,"animationFactory"],[48,48,18,44],[49,8,19,4],[49,15,19,11],[49,19,19,15],[50,6,20,2],[51,4,20,3],[52,6,20,3,"key"],[52,9,20,3],[53,6,20,3,"value"],[53,11,20,3],[53,13,24,2],[53,22,24,2,"build"],[53,27,24,7,"build"],[53,28,24,7],[53,30,24,10],[54,8,25,4],[54,12,25,10,"animationFactory"],[54,28,25,26],[54,31,25,29],[54,35,25,33],[54,36,25,34,"animationFactory"],[54,52,25,50],[55,8,26,4],[55,12,26,10,"animationDuration"],[55,29,26,27],[55,32,26,30],[55,36,26,34],[55,37,26,35,"defaultDuration"],[55,52,26,50],[56,8,27,4],[56,15,27,11],[56,25,27,11,"values"],[56,31,27,17],[56,33,27,21],[57,10,28,6],[57,19,28,15],[59,10,30,6],[59,14,30,10,"animations"],[59,24,30,20],[59,27,30,23],[59,28,30,24],[59,29,30,25],[60,10,31,6],[60,14,31,12,"initialValues"],[60,27,31,25],[60,30,31,28],[60,31,31,29],[60,32,31,30],[61,10,32,6],[61,14,32,10,"animationFactory"],[61,30,32,26],[61,32,32,28],[62,12,33,8,"animations"],[62,22,33,18],[62,25,33,21,"animationFactory"],[62,41,33,37],[62,42,33,38,"values"],[62,48,33,44],[62,49,33,45],[63,12,34,8],[63,17,34,13],[63,21,34,19,"key"],[63,24,34,22],[63,28,34,26,"animations"],[63,38,34,36],[63,40,34,38],[64,14,35,10],[64,18,35,14],[64,19,35,15,"supportedProps"],[64,33,35,29],[64,34,35,30,"includes"],[64,42,35,38],[64,43,35,39,"key"],[64,46,35,42],[64,47,35,43],[64,49,35,45],[65,16,36,12],[65,22,36,18,"Error"],[65,27,36,23],[65,28,36,24],[65,41,36,37,"key"],[65,44,36,40],[65,69,36,65],[65,70,36,66],[66,14,37,10],[67,12,38,8],[68,10,39,6],[68,11,39,7],[68,17,39,13],[69,12,40,8],[69,17,40,13],[69,21,40,19,"propName"],[69,29,40,27],[69,33,40,31,"supportedProps"],[69,47,40,45],[69,49,40,47],[70,14,41,10],[70,18,41,14,"propName"],[70,26,41,22],[70,31,41,27],[70,42,41,38],[70,44,41,40],[71,16,42,12],[71,20,42,18,"matrix"],[71,26,42,24],[71,29,42,27,"values"],[71,35,42,33],[71,36,42,34,"targetTransformMatrix"],[71,57,42,55],[72,16,43,12,"animations"],[72,26,43,22],[72,27,43,23,"transformMatrix"],[72,42,43,38],[72,45,43,41],[72,49,43,41,"withTiming"],[72,70,43,51],[72,72,43,52,"matrix"],[72,78,43,58],[72,80,43,60],[73,18,44,14],[74,18,45,14,"duration"],[74,26,45,22],[74,28,45,24,"animationDuration"],[75,16,46,12],[75,17,46,13],[75,18,46,14],[76,14,47,10],[76,15,47,11],[76,21,47,17],[77,16,48,12],[77,20,48,18,"keyToTargetValue"],[77,36,48,34],[77,39,48,37],[77,47,48,45],[77,50,48,48,"propName"],[77,58,48,56],[77,59,48,57,"charAt"],[77,65,48,63],[77,66,48,64],[77,67,48,65],[77,68,48,66],[77,69,48,67,"toUpperCase"],[77,80,48,78],[77,81,48,79],[77,82,48,80],[77,85,48,83,"propName"],[77,93,48,91],[77,94,48,92,"slice"],[77,99,48,97],[77,100,48,98],[77,101,48,99],[77,102,48,100],[78,16,49,12,"animations"],[78,26,49,22],[78,27,49,23,"propName"],[78,35,49,31],[78,36,49,32],[78,39,49,35],[78,43,49,35,"withTiming"],[78,64,49,45],[78,66,49,46,"values"],[78,72,49,52],[78,73,49,53,"keyToTargetValue"],[78,89,49,69],[78,90,49,70],[78,92,49,72],[79,18,50,14],[80,18,51,14,"duration"],[80,26,51,22],[80,28,51,24,"animationDuration"],[81,16,52,12],[81,17,52,13],[81,18,52,14],[82,14,53,10],[83,12,54,8],[84,10,55,6],[85,10,56,6],[85,15,56,11],[85,19,56,17,"propName"],[85,28,56,25],[85,32,56,29,"animations"],[85,42,56,39],[85,44,56,41],[86,12,57,8],[86,16,57,12,"propName"],[86,25,57,20],[86,30,57,25],[86,41,57,36],[86,43,57,38],[87,14,58,10,"initialValues"],[87,27,58,23],[87,28,58,24,"transformMatrix"],[87,43,58,39],[87,46,58,42,"values"],[87,52,58,48],[87,53,58,49,"currentTransformMatrix"],[87,75,58,71],[88,12,59,8],[88,13,59,9],[88,19,59,15],[89,14,60,10],[89,18,60,16,"keyToCurrentValue"],[89,35,60,33],[89,38,60,36],[89,47,60,45],[89,50,60,48,"propName"],[89,59,60,56],[89,60,60,57,"charAt"],[89,66,60,63],[89,67,60,64],[89,68,60,65],[89,69,60,66],[89,70,60,67,"toUpperCase"],[89,81,60,78],[89,82,60,79],[89,83,60,80],[89,86,60,83,"propName"],[89,95,60,91],[89,96,60,92,"slice"],[89,101,60,97],[89,102,60,98],[89,103,60,99],[89,104,60,100],[90,14,61,10,"initialValues"],[90,27,61,23],[90,28,61,24,"propName"],[90,37,61,32],[90,38,61,33],[90,41,61,36,"values"],[90,47,61,42],[90,48,61,43,"keyToCurrentValue"],[90,65,61,60],[90,66,61,61],[91,12,62,8],[92,10,63,6],[93,10,64,6],[93,17,64,13],[94,12,65,8,"initialValues"],[94,25,65,21],[94,27,65,8,"initialValues"],[94,40,65,21],[95,12,66,8,"animations"],[95,22,66,18],[95,24,66,8,"animations"],[96,10,67,6],[96,11,67,7],[97,8,68,4],[97,9,68,5],[98,6,69,2],[99,4,69,3],[100,6,69,3,"key"],[100,9,69,3],[101,6,69,3,"value"],[101,11,69,3],[101,13,11,2],[101,22,11,9,"createInstance"],[101,36,11,23,"createInstance"],[101,37,11,23],[101,39,11,26],[102,8,12,4],[102,15,12,11],[102,19,12,15,"SharedTransition"],[102,35,12,31],[102,36,12,32],[102,37,12,33],[103,6,13,2],[104,4,13,3],[105,6,13,3,"key"],[105,9,13,3],[106,6,13,3,"value"],[106,11,13,3],[106,13,14,2],[106,22,14,9,"custom"],[106,28,14,15,"custom"],[106,29,14,16,"animationFactory"],[106,45,14,32],[106,47,14,34],[107,8,15,4],[107,15,15,11],[107,19,15,15],[107,20,15,16,"createInstance"],[107,34,15,30],[107,35,15,31],[107,36,15,32],[107,37,15,33,"custom"],[107,43,15,39],[107,44,15,40,"animationFactory"],[107,60,15,56],[107,61,15,57],[108,6,16,2],[109,4,16,3],[110,6,16,3,"key"],[110,9,16,3],[111,6,16,3,"value"],[111,11,16,3],[111,13,21,2],[111,22,21,9,"build"],[111,27,21,14,"build"],[111,28,21,14],[111,30,21,17],[112,8,22,4],[112,15,22,11],[112,19,22,15],[112,20,22,16,"createInstance"],[112,34,22,30],[112,35,22,31],[112,36,22,32],[112,37,22,33,"build"],[112,42,22,38],[112,43,22,39],[112,44,22,40],[113,6,23,2],[114,4,23,3],[115,2,23,3],[116,2,71,7],[116,6,71,13,"DefaultSharedTransition"],[116,29,71,36],[116,32,71,36,"exports"],[116,39,71,36],[116,40,71,36,"DefaultSharedTransition"],[116,63,71,36],[116,66,71,39,"SharedTransition"],[116,82,71,55],[117,0,71,56]],"functionMap":{"names":["_defineProperty","<global>","_toPropertyKey","_toPrimitive","SharedTransition","SharedTransition#constructor","SharedTransition.createInstance","SharedTransition.custom","SharedTransition#custom","SharedTransition.build","SharedTransition#build","<anonymous>"],"mappings":"AAA,4OC;ACC,2HD;AEC,yXF;OGG;ECC;GDG;EEC;GFE;EGC;GHE;EIC;GJG;EKC;GLE;EMC;WCG;KDyC;GNC;CHC"}},"type":"js/module"}]}