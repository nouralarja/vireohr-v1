{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":104,"column":40,"index":3170}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":104,"column":40,"index":3170}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":104,"column":40,"index":3170}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n\n  /* eslint-disable @typescript-eslint/no-empty-function */\n  var EventManager = exports.default = /*#__PURE__*/function () {\n    function EventManager(view) {\n      (0, _classCallCheck2.default)(this, EventManager);\n      _defineProperty(this, \"view\", void 0);\n      _defineProperty(this, \"pointersInBounds\", []);\n      _defineProperty(this, \"activePointersCounter\", void 0);\n      this.view = view;\n      this.activePointersCounter = 0;\n    }\n    return (0, _createClass2.default)(EventManager, [{\n      key: \"onPointerDown\",\n      value: function onPointerDown(_event) {}\n    }, {\n      key: \"onPointerAdd\",\n      value: function onPointerAdd(_event) {}\n    }, {\n      key: \"onPointerUp\",\n      value: function onPointerUp(_event) {}\n    }, {\n      key: \"onPointerRemove\",\n      value: function onPointerRemove(_event) {}\n    }, {\n      key: \"onPointerMove\",\n      value: function onPointerMove(_event) {}\n    }, {\n      key: \"onPointerOut\",\n      value: function onPointerOut(_event) {}\n    }, {\n      key: \"onPointerEnter\",\n      value: function onPointerEnter(_event) {}\n    }, {\n      key: \"onPointerCancel\",\n      value: function onPointerCancel(_event) {// When pointer cancel is triggered and there are more pointers on the view, only one pointer is cancelled\n        // Because we want all pointers to be cancelled by that event, we are doing it manually by reseting handler and changing activePointersCounter to 0\n        // Events that correspond to removing the pointer (pointerup, touchend) have condition, that they don't perform any action when activePointersCounter\n        // is equal to 0. This prevents counter from going to negative values, when pointers are removed from view after one of them has been cancelled\n      }\n    }, {\n      key: \"onPointerOutOfBounds\",\n      value: function onPointerOutOfBounds(_event) {}\n    }, {\n      key: \"setOnPointerDown\",\n      value: function setOnPointerDown(callback) {\n        this.onPointerDown = callback;\n      }\n    }, {\n      key: \"setOnPointerAdd\",\n      value: function setOnPointerAdd(callback) {\n        this.onPointerAdd = callback;\n      }\n    }, {\n      key: \"setOnPointerUp\",\n      value: function setOnPointerUp(callback) {\n        this.onPointerUp = callback;\n      }\n    }, {\n      key: \"setOnPointerRemove\",\n      value: function setOnPointerRemove(callback) {\n        this.onPointerRemove = callback;\n      }\n    }, {\n      key: \"setOnPointerMove\",\n      value: function setOnPointerMove(callback) {\n        this.onPointerMove = callback;\n      }\n    }, {\n      key: \"setOnPointerOut\",\n      value: function setOnPointerOut(callback) {\n        this.onPointerOut = callback;\n      }\n    }, {\n      key: \"setOnPointerEnter\",\n      value: function setOnPointerEnter(callback) {\n        this.onPointerEnter = callback;\n      }\n    }, {\n      key: \"setOnPointerCancel\",\n      value: function setOnPointerCancel(callback) {\n        this.onPointerCancel = callback;\n      }\n    }, {\n      key: \"setOnPointerOutOfBounds\",\n      value: function setOnPointerOutOfBounds(callback) {\n        this.onPointerOutOfBounds = callback;\n      }\n    }, {\n      key: \"markAsInBounds\",\n      value: function markAsInBounds(pointerId) {\n        if (this.pointersInBounds.indexOf(pointerId) >= 0) {\n          return;\n        }\n        this.pointersInBounds.push(pointerId);\n      }\n    }, {\n      key: \"markAsOutOfBounds\",\n      value: function markAsOutOfBounds(pointerId) {\n        var index = this.pointersInBounds.indexOf(pointerId);\n        if (index < 0) {\n          return;\n        }\n        this.pointersInBounds.splice(index, 1);\n      }\n    }, {\n      key: \"resetManager\",\n      value: function resetManager() {\n        // Reseting activePointersCounter is necessary to make gestures such as pinch work properly\n        // There are gestures that end when there is still one active pointer (like pinch/rotation)\n        // When these gestures end, they are reset, but they still receive events from pointer that is active\n        // This causes trouble, since only onPointerDown registers gesture in orchestrator, and while gestures receive\n        // Events from active pointer after they finished, next pointerdown event will be registered as additional pointer, not the first one\n        // This casues trouble like gestures getting stuck in END state, even though they should have gone to UNDETERMINED\n        this.activePointersCounter = 0;\n        this.pointersInBounds = [];\n      }\n    }]);\n  }();\n});","lineCount":140,"map":[[9,2,1,0],[9,11,1,9,"_defineProperty"],[9,26,1,24,"_defineProperty"],[9,27,1,25,"obj"],[9,30,1,28],[9,32,1,30,"key"],[9,35,1,33],[9,37,1,35,"value"],[9,42,1,40],[9,44,1,42],[10,4,1,44],[10,8,1,48,"key"],[10,11,1,51],[10,15,1,55,"obj"],[10,18,1,58],[10,20,1,60],[11,6,1,62,"Object"],[11,12,1,68],[11,13,1,69,"defineProperty"],[11,27,1,83],[11,28,1,84,"obj"],[11,31,1,87],[11,33,1,89,"key"],[11,36,1,92],[11,38,1,94],[12,8,1,96,"value"],[12,13,1,101],[12,15,1,103,"value"],[12,20,1,108],[13,8,1,110,"enumerable"],[13,18,1,120],[13,20,1,122],[13,24,1,126],[14,8,1,128,"configurable"],[14,20,1,140],[14,22,1,142],[14,26,1,146],[15,8,1,148,"writable"],[15,16,1,156],[15,18,1,158],[16,6,1,163],[16,7,1,164],[16,8,1,165],[17,4,1,167],[17,5,1,168],[17,11,1,174],[18,6,1,176,"obj"],[18,9,1,179],[18,10,1,180,"key"],[18,13,1,183],[18,14,1,184],[18,17,1,187,"value"],[18,22,1,192],[19,4,1,194],[20,4,1,196],[20,11,1,203,"obj"],[20,14,1,206],[21,2,1,208],[23,2,3,0],[24,2,3,0],[24,6,4,21,"EventManager"],[24,18,4,33],[24,21,4,33,"exports"],[24,28,4,33],[24,29,4,33,"default"],[24,36,4,33],[25,4,5,2],[25,13,5,2,"EventManager"],[25,26,5,14,"view"],[25,30,5,18],[25,32,5,20],[26,6,5,20],[26,10,5,20,"_classCallCheck2"],[26,26,5,20],[26,27,5,20,"default"],[26,34,5,20],[26,42,5,20,"EventManager"],[26,54,5,20],[27,6,6,4,"_defineProperty"],[27,21,6,19],[27,22,6,20],[27,26,6,24],[27,28,6,26],[27,34,6,32],[27,36,6,34],[27,41,6,39],[27,42,6,40],[27,43,6,41],[28,6,8,4,"_defineProperty"],[28,21,8,19],[28,22,8,20],[28,26,8,24],[28,28,8,26],[28,46,8,44],[28,48,8,46],[28,50,8,48],[28,51,8,49],[29,6,10,4,"_defineProperty"],[29,21,10,19],[29,22,10,20],[29,26,10,24],[29,28,10,26],[29,51,10,49],[29,53,10,51],[29,58,10,56],[29,59,10,57],[29,60,10,58],[30,6,12,4],[30,10,12,8],[30,11,12,9,"view"],[30,15,12,13],[30,18,12,16,"view"],[30,22,12,20],[31,6,13,4],[31,10,13,8],[31,11,13,9,"activePointersCounter"],[31,32,13,30],[31,35,13,33],[31,36,13,34],[32,4,14,2],[33,4,14,3],[33,15,14,3,"_createClass2"],[33,28,14,3],[33,29,14,3,"default"],[33,36,14,3],[33,38,14,3,"EventManager"],[33,50,14,3],[34,6,14,3,"key"],[34,9,14,3],[35,6,14,3,"value"],[35,11,14,3],[35,13,16,2],[35,22,16,2,"onPointerDown"],[35,35,16,15,"onPointerDown"],[35,36,16,16,"_event"],[35,42,16,22],[35,44,16,24],[35,45,16,25],[36,4,16,26],[37,6,16,26,"key"],[37,9,16,26],[38,6,16,26,"value"],[38,11,16,26],[38,13,18,2],[38,22,18,2,"onPointerAdd"],[38,34,18,14,"onPointerAdd"],[38,35,18,15,"_event"],[38,41,18,21],[38,43,18,23],[38,44,18,24],[39,4,18,25],[40,6,18,25,"key"],[40,9,18,25],[41,6,18,25,"value"],[41,11,18,25],[41,13,20,2],[41,22,20,2,"onPointerUp"],[41,33,20,13,"onPointerUp"],[41,34,20,14,"_event"],[41,40,20,20],[41,42,20,22],[41,43,20,23],[42,4,20,24],[43,6,20,24,"key"],[43,9,20,24],[44,6,20,24,"value"],[44,11,20,24],[44,13,22,2],[44,22,22,2,"onPointerRemove"],[44,37,22,17,"onPointerRemove"],[44,38,22,18,"_event"],[44,44,22,24],[44,46,22,26],[44,47,22,27],[45,4,22,28],[46,6,22,28,"key"],[46,9,22,28],[47,6,22,28,"value"],[47,11,22,28],[47,13,24,2],[47,22,24,2,"onPointerMove"],[47,35,24,15,"onPointerMove"],[47,36,24,16,"_event"],[47,42,24,22],[47,44,24,24],[47,45,24,25],[48,4,24,26],[49,6,24,26,"key"],[49,9,24,26],[50,6,24,26,"value"],[50,11,24,26],[50,13,26,2],[50,22,26,2,"onPointerOut"],[50,34,26,14,"onPointerOut"],[50,35,26,15,"_event"],[50,41,26,21],[50,43,26,23],[50,44,26,24],[51,4,26,25],[52,6,26,25,"key"],[52,9,26,25],[53,6,26,25,"value"],[53,11,26,25],[53,13,28,2],[53,22,28,2,"onPointerEnter"],[53,36,28,16,"onPointerEnter"],[53,37,28,17,"_event"],[53,43,28,23],[53,45,28,25],[53,46,28,26],[54,4,28,27],[55,6,28,27,"key"],[55,9,28,27],[56,6,28,27,"value"],[56,11,28,27],[56,13,30,2],[56,22,30,2,"onPointerCancel"],[56,37,30,17,"onPointerCancel"],[56,38,30,18,"_event"],[56,44,30,24],[56,46,30,26],[56,47,30,27],[57,8,31,4],[58,8,32,4],[59,8,33,4],[60,6,33,4],[61,4,34,3],[62,6,34,3,"key"],[62,9,34,3],[63,6,34,3,"value"],[63,11,34,3],[63,13,36,2],[63,22,36,2,"onPointerOutOfBounds"],[63,42,36,22,"onPointerOutOfBounds"],[63,43,36,23,"_event"],[63,49,36,29],[63,51,36,31],[63,52,36,32],[64,4,36,33],[65,6,36,33,"key"],[65,9,36,33],[66,6,36,33,"value"],[66,11,36,33],[66,13,38,2],[66,22,38,2,"setOnPointerDown"],[66,38,38,18,"setOnPointerDown"],[66,39,38,19,"callback"],[66,47,38,27],[66,49,38,29],[67,8,39,4],[67,12,39,8],[67,13,39,9,"onPointerDown"],[67,26,39,22],[67,29,39,25,"callback"],[67,37,39,33],[68,6,40,2],[69,4,40,3],[70,6,40,3,"key"],[70,9,40,3],[71,6,40,3,"value"],[71,11,40,3],[71,13,42,2],[71,22,42,2,"setOnPointerAdd"],[71,37,42,17,"setOnPointerAdd"],[71,38,42,18,"callback"],[71,46,42,26],[71,48,42,28],[72,8,43,4],[72,12,43,8],[72,13,43,9,"onPointerAdd"],[72,25,43,21],[72,28,43,24,"callback"],[72,36,43,32],[73,6,44,2],[74,4,44,3],[75,6,44,3,"key"],[75,9,44,3],[76,6,44,3,"value"],[76,11,44,3],[76,13,46,2],[76,22,46,2,"setOnPointerUp"],[76,36,46,16,"setOnPointerUp"],[76,37,46,17,"callback"],[76,45,46,25],[76,47,46,27],[77,8,47,4],[77,12,47,8],[77,13,47,9,"onPointerUp"],[77,24,47,20],[77,27,47,23,"callback"],[77,35,47,31],[78,6,48,2],[79,4,48,3],[80,6,48,3,"key"],[80,9,48,3],[81,6,48,3,"value"],[81,11,48,3],[81,13,50,2],[81,22,50,2,"setOnPointerRemove"],[81,40,50,20,"setOnPointerRemove"],[81,41,50,21,"callback"],[81,49,50,29],[81,51,50,31],[82,8,51,4],[82,12,51,8],[82,13,51,9,"onPointerRemove"],[82,28,51,24],[82,31,51,27,"callback"],[82,39,51,35],[83,6,52,2],[84,4,52,3],[85,6,52,3,"key"],[85,9,52,3],[86,6,52,3,"value"],[86,11,52,3],[86,13,54,2],[86,22,54,2,"setOnPointerMove"],[86,38,54,18,"setOnPointerMove"],[86,39,54,19,"callback"],[86,47,54,27],[86,49,54,29],[87,8,55,4],[87,12,55,8],[87,13,55,9,"onPointerMove"],[87,26,55,22],[87,29,55,25,"callback"],[87,37,55,33],[88,6,56,2],[89,4,56,3],[90,6,56,3,"key"],[90,9,56,3],[91,6,56,3,"value"],[91,11,56,3],[91,13,58,2],[91,22,58,2,"setOnPointerOut"],[91,37,58,17,"setOnPointerOut"],[91,38,58,18,"callback"],[91,46,58,26],[91,48,58,28],[92,8,59,4],[92,12,59,8],[92,13,59,9,"onPointerOut"],[92,25,59,21],[92,28,59,24,"callback"],[92,36,59,32],[93,6,60,2],[94,4,60,3],[95,6,60,3,"key"],[95,9,60,3],[96,6,60,3,"value"],[96,11,60,3],[96,13,62,2],[96,22,62,2,"setOnPointerEnter"],[96,39,62,19,"setOnPointerEnter"],[96,40,62,20,"callback"],[96,48,62,28],[96,50,62,30],[97,8,63,4],[97,12,63,8],[97,13,63,9,"onPointerEnter"],[97,27,63,23],[97,30,63,26,"callback"],[97,38,63,34],[98,6,64,2],[99,4,64,3],[100,6,64,3,"key"],[100,9,64,3],[101,6,64,3,"value"],[101,11,64,3],[101,13,66,2],[101,22,66,2,"setOnPointerCancel"],[101,40,66,20,"setOnPointerCancel"],[101,41,66,21,"callback"],[101,49,66,29],[101,51,66,31],[102,8,67,4],[102,12,67,8],[102,13,67,9,"onPointerCancel"],[102,28,67,24],[102,31,67,27,"callback"],[102,39,67,35],[103,6,68,2],[104,4,68,3],[105,6,68,3,"key"],[105,9,68,3],[106,6,68,3,"value"],[106,11,68,3],[106,13,70,2],[106,22,70,2,"setOnPointerOutOfBounds"],[106,45,70,25,"setOnPointerOutOfBounds"],[106,46,70,26,"callback"],[106,54,70,34],[106,56,70,36],[107,8,71,4],[107,12,71,8],[107,13,71,9,"onPointerOutOfBounds"],[107,33,71,29],[107,36,71,32,"callback"],[107,44,71,40],[108,6,72,2],[109,4,72,3],[110,6,72,3,"key"],[110,9,72,3],[111,6,72,3,"value"],[111,11,72,3],[111,13,74,2],[111,22,74,2,"markAsInBounds"],[111,36,74,16,"markAsInBounds"],[111,37,74,17,"pointerId"],[111,46,74,26],[111,48,74,28],[112,8,75,4],[112,12,75,8],[112,16,75,12],[112,17,75,13,"pointersInBounds"],[112,33,75,29],[112,34,75,30,"indexOf"],[112,41,75,37],[112,42,75,38,"pointerId"],[112,51,75,47],[112,52,75,48],[112,56,75,52],[112,57,75,53],[112,59,75,55],[113,10,76,6],[114,8,77,4],[115,8,79,4],[115,12,79,8],[115,13,79,9,"pointersInBounds"],[115,29,79,25],[115,30,79,26,"push"],[115,34,79,30],[115,35,79,31,"pointerId"],[115,44,79,40],[115,45,79,41],[116,6,80,2],[117,4,80,3],[118,6,80,3,"key"],[118,9,80,3],[119,6,80,3,"value"],[119,11,80,3],[119,13,82,2],[119,22,82,2,"markAsOutOfBounds"],[119,39,82,19,"markAsOutOfBounds"],[119,40,82,20,"pointerId"],[119,49,82,29],[119,51,82,31],[120,8,83,4],[120,12,83,10,"index"],[120,17,83,15],[120,20,83,18],[120,24,83,22],[120,25,83,23,"pointersInBounds"],[120,41,83,39],[120,42,83,40,"indexOf"],[120,49,83,47],[120,50,83,48,"pointerId"],[120,59,83,57],[120,60,83,58],[121,8,85,4],[121,12,85,8,"index"],[121,17,85,13],[121,20,85,16],[121,21,85,17],[121,23,85,19],[122,10,86,6],[123,8,87,4],[124,8,89,4],[124,12,89,8],[124,13,89,9,"pointersInBounds"],[124,29,89,25],[124,30,89,26,"splice"],[124,36,89,32],[124,37,89,33,"index"],[124,42,89,38],[124,44,89,40],[124,45,89,41],[124,46,89,42],[125,6,90,2],[126,4,90,3],[127,6,90,3,"key"],[127,9,90,3],[128,6,90,3,"value"],[128,11,90,3],[128,13,92,2],[128,22,92,2,"resetManager"],[128,34,92,14,"resetManager"],[128,35,92,14],[128,37,92,17],[129,8,93,4],[130,8,94,4],[131,8,95,4],[132,8,96,4],[133,8,97,4],[134,8,98,4],[135,8,99,4],[135,12,99,8],[135,13,99,9,"activePointersCounter"],[135,34,99,30],[135,37,99,33],[135,38,99,34],[136,8,100,4],[136,12,100,8],[136,13,100,9,"pointersInBounds"],[136,29,100,25],[136,32,100,28],[136,34,100,30],[137,6,101,2],[138,4,101,3],[139,2,101,3],[140,0,101,3]],"functionMap":{"names":["_defineProperty","<global>","EventManager","constructor","onPointerDown","onPointerAdd","onPointerUp","onPointerRemove","onPointerMove","onPointerOut","onPointerEnter","onPointerCancel","onPointerOutOfBounds","setOnPointerDown","setOnPointerAdd","setOnPointerUp","setOnPointerRemove","setOnPointerMove","setOnPointerOut","setOnPointerEnter","setOnPointerCancel","setOnPointerOutOfBounds","markAsInBounds","markAsOutOfBounds","resetManager"],"mappings":"AAA,iNC;eCG;ECC;GDS;EEE,wBF;EGE,uBH;EIE,sBJ;EKE,0BL;EME,wBN;EOE,uBP;EQE,yBR;ESE;GTI;EUE,+BV;EWE;GXE;EYE;GZE;EaE;GbE;EcE;GdE;EeE;GfE;EgBE;GhBE;EiBE;GjBE;EkBE;GlBE;EmBE;GnBE;EoBE;GpBM;EqBE;GrBQ;EsBE;GtBS;CDE"}},"type":"js/module"}]}