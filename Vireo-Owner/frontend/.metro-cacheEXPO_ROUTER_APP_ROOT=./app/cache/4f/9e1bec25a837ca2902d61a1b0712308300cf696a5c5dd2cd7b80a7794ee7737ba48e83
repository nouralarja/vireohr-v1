{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":45,"index":2881}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/defineProperty","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":45,"index":2881}}],"key":"RY2z4+Bdq4bpTD/1b+1jGPWZdgA="}},{"name":"../animation/styleAnimation","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"1etl9aPmpGwOn5nKrkOVcw4SWwU="}},{"name":"../mutables","data":{"asyncType":null,"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":44,"index":110}}],"key":"Y9TYvR+EK+bVSKvrpAQRGZioPr4="}},{"name":"./animationBuilder","data":{"asyncType":null,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":57,"index":168}}],"key":"YfJpdJDw/dNTpJF0P4W/OYgr0KM="}},{"name":"../threads","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":169},"end":{"line":4,"column":48,"index":217}}],"key":"Fh+chV+u1CN8c14Zj6fzkh4FXGs="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n  var _styleAnimation = _$$_REQUIRE(_dependencyMap[2], \"../animation/styleAnimation\");\n  var _mutables = _$$_REQUIRE(_dependencyMap[3], \"../mutables\");\n  var _animationBuilder = _$$_REQUIRE(_dependencyMap[4], \"./animationBuilder\");\n  var _threads = _$$_REQUIRE(_dependencyMap[5], \"../threads\");\n  function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\n  function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n  var TAG_OFFSET = 1e9;\n  function startObservingProgress(tag, sharedValue, animationType) {\n    'worklet';\n\n    var isSharedTransition = animationType === _animationBuilder.LayoutAnimationType.SHARED_ELEMENT_TRANSITION;\n    sharedValue.addListener(tag + TAG_OFFSET, function () {\n      _notifyAboutProgress(tag, sharedValue.value, isSharedTransition);\n    });\n  }\n  function stopObservingProgress(tag, sharedValue, cancelled, removeView) {\n    'worklet';\n\n    sharedValue.removeListener(tag + TAG_OFFSET);\n    _notifyAboutEnd(tag, cancelled, removeView);\n  }\n  function createLayoutAnimationManager() {\n    'worklet';\n\n    var enteringAnimationForTag = new Map();\n    var mutableValuesForTag = new Map();\n    return {\n      start: function start(tag, type, yogaValues, config) {\n        var style = config(yogaValues);\n        var currentAnimation = style.animations;\n        if (type === _animationBuilder.LayoutAnimationType.ENTERING) {\n          enteringAnimationForTag.set(tag, currentAnimation);\n        } else if (type === _animationBuilder.LayoutAnimationType.LAYOUT) {\n          // When layout animation is requested, but entering is still running, we merge\n          // new layout animation targets into the ongoing animation\n          var enteringAnimation = enteringAnimationForTag.get(tag);\n          if (enteringAnimation) {\n            currentAnimation = _objectSpread(_objectSpread({}, enteringAnimation), style.animations);\n          }\n        }\n        var value = mutableValuesForTag.get(tag);\n        if (value === undefined) {\n          value = (0, _mutables.makeUIMutable)(style.initialValues);\n          mutableValuesForTag.set(tag, value);\n        } else {\n          stopObservingProgress(tag, value, false, false);\n          value._value = style.initialValues;\n        }\n\n        // @ts-ignore The line below started failing because I added types to the method â€“ don't have time to fix it right now\n        var animation = (0, _styleAnimation.withStyleAnimation)(currentAnimation);\n        animation.callback = function (finished) {\n          if (finished) {\n            enteringAnimationForTag.delete(tag);\n            mutableValuesForTag.delete(tag);\n            var shouldRemoveView = type === _animationBuilder.LayoutAnimationType.EXITING;\n            stopObservingProgress(tag, value, finished, shouldRemoveView);\n          }\n          style.callback && style.callback(finished === undefined ? false : finished);\n        };\n        startObservingProgress(tag, value, type);\n        value.value = animation;\n      },\n      stop: function stop(tag) {\n        var value = mutableValuesForTag.get(tag);\n        if (!value) {\n          return;\n        }\n        stopObservingProgress(tag, value, true, true);\n      }\n    };\n  }\n  (0, _threads.runOnUIImmediately)(function () {\n    'worklet';\n\n    global.LayoutAnimationsManager = createLayoutAnimationManager();\n  })();\n});","lineCount":81,"map":[[4,2,1,0],[4,6,1,0,"_styleAnimation"],[4,21,1,0],[4,24,1,0,"_$$_REQUIRE"],[4,35,1,0],[4,36,1,0,"_dependencyMap"],[4,50,1,0],[5,2,2,0],[5,6,2,0,"_mutables"],[5,15,2,0],[5,18,2,0,"_$$_REQUIRE"],[5,29,2,0],[5,30,2,0,"_dependencyMap"],[5,44,2,0],[6,2,3,0],[6,6,3,0,"_animationBuilder"],[6,23,3,0],[6,26,3,0,"_$$_REQUIRE"],[6,37,3,0],[6,38,3,0,"_dependencyMap"],[6,52,3,0],[7,2,4,0],[7,6,4,0,"_threads"],[7,14,4,0],[7,17,4,0,"_$$_REQUIRE"],[7,28,4,0],[7,29,4,0,"_dependencyMap"],[7,43,4,0],[8,2,4,48],[8,11,4,48,"ownKeys"],[8,19,4,48,"e"],[8,20,4,48],[8,22,4,48,"r"],[8,23,4,48],[8,31,4,48,"t"],[8,32,4,48],[8,35,4,48,"Object"],[8,41,4,48],[8,42,4,48,"keys"],[8,46,4,48],[8,47,4,48,"e"],[8,48,4,48],[8,55,4,48,"Object"],[8,61,4,48],[8,62,4,48,"getOwnPropertySymbols"],[8,83,4,48],[8,91,4,48,"o"],[8,92,4,48],[8,95,4,48,"Object"],[8,101,4,48],[8,102,4,48,"getOwnPropertySymbols"],[8,123,4,48],[8,124,4,48,"e"],[8,125,4,48],[8,128,4,48,"r"],[8,129,4,48],[8,134,4,48,"o"],[8,135,4,48],[8,138,4,48,"o"],[8,139,4,48],[8,140,4,48,"filter"],[8,146,4,48],[8,157,4,48,"r"],[8,158,4,48],[8,169,4,48,"Object"],[8,175,4,48],[8,176,4,48,"getOwnPropertyDescriptor"],[8,200,4,48],[8,201,4,48,"e"],[8,202,4,48],[8,204,4,48,"r"],[8,205,4,48],[8,207,4,48,"enumerable"],[8,217,4,48],[8,224,4,48,"t"],[8,225,4,48],[8,226,4,48,"push"],[8,230,4,48],[8,231,4,48,"apply"],[8,236,4,48],[8,237,4,48,"t"],[8,238,4,48],[8,240,4,48,"o"],[8,241,4,48],[8,253,4,48,"t"],[8,254,4,48],[9,2,4,48],[9,11,4,48,"_objectSpread"],[9,25,4,48,"e"],[9,26,4,48],[9,39,4,48,"r"],[9,40,4,48],[9,46,4,48,"r"],[9,47,4,48],[9,50,4,48,"arguments"],[9,59,4,48],[9,60,4,48,"length"],[9,66,4,48],[9,68,4,48,"r"],[9,69,4,48],[9,79,4,48,"t"],[9,80,4,48],[9,91,4,48,"arguments"],[9,100,4,48],[9,101,4,48,"r"],[9,102,4,48],[9,106,4,48,"arguments"],[9,115,4,48],[9,116,4,48,"r"],[9,117,4,48],[9,125,4,48,"r"],[9,126,4,48],[9,133,4,48,"ownKeys"],[9,140,4,48],[9,141,4,48,"Object"],[9,147,4,48],[9,148,4,48,"t"],[9,149,4,48],[9,156,4,48,"forEach"],[9,163,4,48],[9,174,4,48,"r"],[9,175,4,48],[9,183,4,48,"_defineProperty2"],[9,199,4,48],[9,200,4,48,"default"],[9,207,4,48],[9,209,4,48,"e"],[9,210,4,48],[9,212,4,48,"r"],[9,213,4,48],[9,215,4,48,"t"],[9,216,4,48],[9,217,4,48,"r"],[9,218,4,48],[9,227,4,48,"Object"],[9,233,4,48],[9,234,4,48,"getOwnPropertyDescriptors"],[9,259,4,48],[9,262,4,48,"Object"],[9,268,4,48],[9,269,4,48,"defineProperties"],[9,285,4,48],[9,286,4,48,"e"],[9,287,4,48],[9,289,4,48,"Object"],[9,295,4,48],[9,296,4,48,"getOwnPropertyDescriptors"],[9,321,4,48],[9,322,4,48,"t"],[9,323,4,48],[9,328,4,48,"ownKeys"],[9,335,4,48],[9,336,4,48,"Object"],[9,342,4,48],[9,343,4,48,"t"],[9,344,4,48],[9,347,4,48,"forEach"],[9,354,4,48],[9,365,4,48,"r"],[9,366,4,48],[9,370,4,48,"Object"],[9,376,4,48],[9,377,4,48,"defineProperty"],[9,391,4,48],[9,392,4,48,"e"],[9,393,4,48],[9,395,4,48,"r"],[9,396,4,48],[9,398,4,48,"Object"],[9,404,4,48],[9,405,4,48,"getOwnPropertyDescriptor"],[9,429,4,48],[9,430,4,48,"t"],[9,431,4,48],[9,433,4,48,"r"],[9,434,4,48],[9,451,4,48,"e"],[9,452,4,48],[10,2,5,0],[10,6,5,6,"TAG_OFFSET"],[10,16,5,16],[10,19,5,19],[10,22,5,22],[11,2,6,0],[11,11,6,9,"startObservingProgress"],[11,33,6,31,"startObservingProgress"],[11,34,6,32,"tag"],[11,37,6,35],[11,39,6,37,"sharedValue"],[11,50,6,48],[11,52,6,50,"animationType"],[11,65,6,63],[11,67,6,65],[12,4,7,2],[12,13,7,11],[14,4,9,2],[14,8,9,8,"isSharedTransition"],[14,26,9,26],[14,29,9,29,"animationType"],[14,42,9,42],[14,47,9,47,"LayoutAnimationType"],[14,84,9,66],[14,85,9,67,"SHARED_ELEMENT_TRANSITION"],[14,110,9,92],[15,4,10,2,"sharedValue"],[15,15,10,13],[15,16,10,14,"addListener"],[15,27,10,25],[15,28,10,26,"tag"],[15,31,10,29],[15,34,10,32,"TAG_OFFSET"],[15,44,10,42],[15,46,10,44],[15,58,10,50],[16,6,11,4,"_notifyAboutProgress"],[16,26,11,24],[16,27,11,25,"tag"],[16,30,11,28],[16,32,11,30,"sharedValue"],[16,43,11,41],[16,44,11,42,"value"],[16,49,11,47],[16,51,11,49,"isSharedTransition"],[16,69,11,67],[16,70,11,68],[17,4,12,2],[17,5,12,3],[17,6,12,4],[18,2,13,0],[19,2,14,0],[19,11,14,9,"stopObservingProgress"],[19,32,14,30,"stopObservingProgress"],[19,33,14,31,"tag"],[19,36,14,34],[19,38,14,36,"sharedValue"],[19,49,14,47],[19,51,14,49,"cancelled"],[19,60,14,58],[19,62,14,60,"removeView"],[19,72,14,70],[19,74,14,72],[20,4,15,2],[20,13,15,11],[22,4,17,2,"sharedValue"],[22,15,17,13],[22,16,17,14,"removeListener"],[22,30,17,28],[22,31,17,29,"tag"],[22,34,17,32],[22,37,17,35,"TAG_OFFSET"],[22,47,17,45],[22,48,17,46],[23,4,18,2,"_notifyAboutEnd"],[23,19,18,17],[23,20,18,18,"tag"],[23,23,18,21],[23,25,18,23,"cancelled"],[23,34,18,32],[23,36,18,34,"removeView"],[23,46,18,44],[23,47,18,45],[24,2,19,0],[25,2,20,0],[25,11,20,9,"createLayoutAnimationManager"],[25,39,20,37,"createLayoutAnimationManager"],[25,40,20,37],[25,42,20,40],[26,4,21,2],[26,13,21,11],[28,4,23,2],[28,8,23,8,"enteringAnimationForTag"],[28,31,23,31],[28,34,23,34],[28,38,23,38,"Map"],[28,41,23,41],[28,42,23,42],[28,43,23,43],[29,4,24,2],[29,8,24,8,"mutableValuesForTag"],[29,27,24,27],[29,30,24,30],[29,34,24,34,"Map"],[29,37,24,37],[29,38,24,38],[29,39,24,39],[30,4,25,2],[30,11,25,9],[31,6,26,4,"start"],[31,11,26,9],[31,22,26,4,"start"],[31,27,26,9,"start"],[31,28,26,10,"tag"],[31,31,26,13],[31,33,26,15,"type"],[31,37,26,19],[31,39,26,21,"yogaValues"],[31,49,26,31],[31,51,26,33,"config"],[31,57,26,39],[31,59,26,41],[32,8,27,6],[32,12,27,12,"style"],[32,17,27,17],[32,20,27,20,"config"],[32,26,27,26],[32,27,27,27,"yogaValues"],[32,37,27,37],[32,38,27,38],[33,8,28,6],[33,12,28,10,"currentAnimation"],[33,28,28,26],[33,31,28,29,"style"],[33,36,28,34],[33,37,28,35,"animations"],[33,47,28,45],[34,8,29,6],[34,12,29,10,"type"],[34,16,29,14],[34,21,29,19,"LayoutAnimationType"],[34,58,29,38],[34,59,29,39,"ENTERING"],[34,67,29,47],[34,69,29,49],[35,10,30,8,"enteringAnimationForTag"],[35,33,30,31],[35,34,30,32,"set"],[35,37,30,35],[35,38,30,36,"tag"],[35,41,30,39],[35,43,30,41,"currentAnimation"],[35,59,30,57],[35,60,30,58],[36,8,31,6],[36,9,31,7],[36,15,31,13],[36,19,31,17,"type"],[36,23,31,21],[36,28,31,26,"LayoutAnimationType"],[36,65,31,45],[36,66,31,46,"LAYOUT"],[36,72,31,52],[36,74,31,54],[37,10,32,8],[38,10,33,8],[39,10,34,8],[39,14,34,14,"enteringAnimation"],[39,31,34,31],[39,34,34,34,"enteringAnimationForTag"],[39,57,34,57],[39,58,34,58,"get"],[39,61,34,61],[39,62,34,62,"tag"],[39,65,34,65],[39,66,34,66],[40,10,35,8],[40,14,35,12,"enteringAnimation"],[40,31,35,29],[40,33,35,31],[41,12,36,10,"currentAnimation"],[41,28,36,26],[41,31,36,26,"_objectSpread"],[41,44,36,26],[41,45,36,26,"_objectSpread"],[41,58,36,26],[41,63,37,15,"enteringAnimation"],[41,80,37,32],[41,83,38,15,"style"],[41,88,38,20],[41,89,38,21,"animations"],[41,99,38,31],[41,100,39,11],[42,10,40,8],[43,8,41,6],[44,8,42,6],[44,12,42,10,"value"],[44,17,42,15],[44,20,42,18,"mutableValuesForTag"],[44,39,42,37],[44,40,42,38,"get"],[44,43,42,41],[44,44,42,42,"tag"],[44,47,42,45],[44,48,42,46],[45,8,43,6],[45,12,43,10,"value"],[45,17,43,15],[45,22,43,20,"undefined"],[45,31,43,29],[45,33,43,31],[46,10,44,8,"value"],[46,15,44,13],[46,18,44,16],[46,22,44,16,"makeUIMutable"],[46,45,44,29],[46,47,44,30,"style"],[46,52,44,35],[46,53,44,36,"initialValues"],[46,66,44,49],[46,67,44,50],[47,10,45,8,"mutableValuesForTag"],[47,29,45,27],[47,30,45,28,"set"],[47,33,45,31],[47,34,45,32,"tag"],[47,37,45,35],[47,39,45,37,"value"],[47,44,45,42],[47,45,45,43],[48,8,46,6],[48,9,46,7],[48,15,46,13],[49,10,47,8,"stopObservingProgress"],[49,31,47,29],[49,32,47,30,"tag"],[49,35,47,33],[49,37,47,35,"value"],[49,42,47,40],[49,44,47,42],[49,49,47,47],[49,51,47,49],[49,56,47,54],[49,57,47,55],[50,10,48,8,"value"],[50,15,48,13],[50,16,48,14,"_value"],[50,22,48,20],[50,25,48,23,"style"],[50,30,48,28],[50,31,48,29,"initialValues"],[50,44,48,42],[51,8,49,6],[53,8,51,6],[54,8,52,6],[54,12,52,12,"animation"],[54,21,52,21],[54,24,52,24],[54,28,52,24,"withStyleAnimation"],[54,62,52,42],[54,64,52,43,"currentAnimation"],[54,80,52,59],[54,81,52,60],[55,8,53,6,"animation"],[55,17,53,15],[55,18,53,16,"callback"],[55,26,53,24],[55,29,53,27],[55,39,53,27,"finished"],[55,47,53,35],[55,49,53,39],[56,10,54,8],[56,14,54,12,"finished"],[56,22,54,20],[56,24,54,22],[57,12,55,10,"enteringAnimationForTag"],[57,35,55,33],[57,36,55,34,"delete"],[57,42,55,40],[57,43,55,41,"tag"],[57,46,55,44],[57,47,55,45],[58,12,56,10,"mutableValuesForTag"],[58,31,56,29],[58,32,56,30,"delete"],[58,38,56,36],[58,39,56,37,"tag"],[58,42,56,40],[58,43,56,41],[59,12,57,10],[59,16,57,16,"shouldRemoveView"],[59,32,57,32],[59,35,57,35,"type"],[59,39,57,39],[59,44,57,44,"LayoutAnimationType"],[59,81,57,63],[59,82,57,64,"EXITING"],[59,89,57,71],[60,12,58,10,"stopObservingProgress"],[60,33,58,31],[60,34,58,32,"tag"],[60,37,58,35],[60,39,58,37,"value"],[60,44,58,42],[60,46,58,44,"finished"],[60,54,58,52],[60,56,58,54,"shouldRemoveView"],[60,72,58,70],[60,73,58,71],[61,10,59,8],[62,10,60,8,"style"],[62,15,60,13],[62,16,60,14,"callback"],[62,24,60,22],[62,28,60,26,"style"],[62,33,60,31],[62,34,60,32,"callback"],[62,42,60,40],[62,43,60,41,"finished"],[62,51,60,49],[62,56,60,54,"undefined"],[62,65,60,63],[62,68,60,66],[62,73,60,71],[62,76,60,74,"finished"],[62,84,60,82],[62,85,60,83],[63,8,61,6],[63,9,61,7],[64,8,62,6,"startObservingProgress"],[64,30,62,28],[64,31,62,29,"tag"],[64,34,62,32],[64,36,62,34,"value"],[64,41,62,39],[64,43,62,41,"type"],[64,47,62,45],[64,48,62,46],[65,8,63,6,"value"],[65,13,63,11],[65,14,63,12,"value"],[65,19,63,17],[65,22,63,20,"animation"],[65,31,63,29],[66,6,64,4],[66,7,64,5],[67,6,65,4,"stop"],[67,10,65,8],[67,21,65,4,"stop"],[67,25,65,8,"stop"],[67,26,65,9,"tag"],[67,29,65,12],[67,31,65,14],[68,8,66,6],[68,12,66,12,"value"],[68,17,66,17],[68,20,66,20,"mutableValuesForTag"],[68,39,66,39],[68,40,66,40,"get"],[68,43,66,43],[68,44,66,44,"tag"],[68,47,66,47],[68,48,66,48],[69,8,67,6],[69,12,67,10],[69,13,67,11,"value"],[69,18,67,16],[69,20,67,18],[70,10,68,8],[71,8,69,6],[72,8,70,6,"stopObservingProgress"],[72,29,70,27],[72,30,70,28,"tag"],[72,33,70,31],[72,35,70,33,"value"],[72,40,70,38],[72,42,70,40],[72,46,70,44],[72,48,70,46],[72,52,70,50],[72,53,70,51],[73,6,71,4],[74,4,72,2],[74,5,72,3],[75,2,73,0],[76,2,74,0],[76,6,74,0,"runOnUIImmediately"],[76,33,74,18],[76,35,74,19],[76,47,74,25],[77,4,75,2],[77,13,75,11],[79,4,77,2,"global"],[79,10,77,8],[79,11,77,9,"LayoutAnimationsManager"],[79,34,77,32],[79,37,77,35,"createLayoutAnimationManager"],[79,65,77,63],[79,66,77,64],[79,67,77,65],[80,2,78,0],[80,3,78,1],[80,4,78,2],[80,5,78,3],[80,6,78,4],[81,0,78,5]],"functionMap":{"names":["<global>","startObservingProgress","sharedValue.addListener$argument_1","stopObservingProgress","createLayoutAnimationManager","start","animation.callback","stop","runOnUIImmediately$argument_0"],"mappings":"AAA;ACK;4CCI;GDE;CDC;AGC;CHK;AIC;ICM;2BC2B;ODQ;KDG;IGC;KHM;CJE;mBQC;CRI"}},"type":"js/module"}]}