{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":45,"column":43,"index":2132}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":45,"column":43,"index":2132}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":45,"column":43,"index":2132}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"./Sensor","data":{"asyncType":null,"locs":[{"start":{"line":4,"column":0,"index":739},"end":{"line":4,"column":30,"index":769}}],"key":"ezh30Y8A8TWDdzAcaOSz/vMUbnA="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SensorContainer = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _Sensor = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./Sensor\"));\n  function _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n  }\n  function _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || \"default\");\n      if (typeof res !== \"object\") return res;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n  }\n  var SensorContainer = exports.SensorContainer = /*#__PURE__*/function () {\n    function SensorContainer() {\n      (0, _classCallCheck2.default)(this, SensorContainer);\n      _defineProperty(this, \"nativeSensors\", new Map());\n    }\n    return (0, _createClass2.default)(SensorContainer, [{\n      key: \"getSensorId\",\n      value: function getSensorId(sensorType, config) {\n        return sensorType * 100 + config.iosReferenceFrame * 10 + Number(config.adjustToInterfaceOrientation);\n      }\n    }, {\n      key: \"initializeSensor\",\n      value: function initializeSensor(sensorType, config) {\n        var sensorId = this.getSensorId(sensorType, config);\n        if (!this.nativeSensors.has(sensorId)) {\n          var newSensor = new _Sensor.default(sensorType, config);\n          this.nativeSensors.set(sensorId, newSensor);\n        }\n        var sensor = this.nativeSensors.get(sensorId);\n        return sensor.getSharedValue();\n      }\n    }, {\n      key: \"registerSensor\",\n      value: function registerSensor(sensorType, config, handler) {\n        var sensorId = this.getSensorId(sensorType, config);\n        if (!this.nativeSensors.has(sensorId)) {\n          return -1;\n        }\n        var sensor = this.nativeSensors.get(sensorId);\n        if (sensor && sensor.isAvailable() && (sensor.isRunning() || sensor.register(handler))) {\n          sensor.listenersNumber++;\n          return sensorId;\n        }\n        return -1;\n      }\n    }, {\n      key: \"unregisterSensor\",\n      value: function unregisterSensor(sensorId) {\n        if (this.nativeSensors.has(sensorId)) {\n          var sensor = this.nativeSensors.get(sensorId);\n          if (sensor && sensor.isRunning()) {\n            sensor.listenersNumber--;\n            if (sensor.listenersNumber === 0) {\n              sensor.unregister();\n            }\n          }\n        }\n      }\n    }]);\n  }();\n});","lineCount":88,"map":[[9,2,4,0],[9,6,4,0,"_Sensor"],[9,13,4,0],[9,16,4,0,"_interopRequireDefault"],[9,38,4,0],[9,39,4,0,"_$$_REQUIRE"],[9,50,4,0],[9,51,4,0,"_dependencyMap"],[9,65,4,0],[10,2,1,0],[10,11,1,9,"_defineProperty"],[10,26,1,24,"_defineProperty"],[10,27,1,25,"obj"],[10,30,1,28],[10,32,1,30,"key"],[10,35,1,33],[10,37,1,35,"value"],[10,42,1,40],[10,44,1,42],[11,4,1,44,"key"],[11,7,1,47],[11,10,1,50,"_toPropertyKey"],[11,24,1,64],[11,25,1,65,"key"],[11,28,1,68],[11,29,1,69],[12,4,1,71],[12,8,1,75,"key"],[12,11,1,78],[12,15,1,82,"obj"],[12,18,1,85],[12,20,1,87],[13,6,1,89,"Object"],[13,12,1,95],[13,13,1,96,"defineProperty"],[13,27,1,110],[13,28,1,111,"obj"],[13,31,1,114],[13,33,1,116,"key"],[13,36,1,119],[13,38,1,121],[14,8,1,123,"value"],[14,13,1,128],[14,15,1,130,"value"],[14,20,1,135],[15,8,1,137,"enumerable"],[15,18,1,147],[15,20,1,149],[15,24,1,153],[16,8,1,155,"configurable"],[16,20,1,167],[16,22,1,169],[16,26,1,173],[17,8,1,175,"writable"],[17,16,1,183],[17,18,1,185],[18,6,1,190],[18,7,1,191],[18,8,1,192],[19,4,1,194],[19,5,1,195],[19,11,1,201],[20,6,1,203,"obj"],[20,9,1,206],[20,10,1,207,"key"],[20,13,1,210],[20,14,1,211],[20,17,1,214,"value"],[20,22,1,219],[21,4,1,221],[22,4,1,223],[22,11,1,230,"obj"],[22,14,1,233],[23,2,1,235],[24,2,2,0],[24,11,2,9,"_toPropertyKey"],[24,25,2,23,"_toPropertyKey"],[24,26,2,24,"arg"],[24,29,2,27],[24,31,2,29],[25,4,2,31],[25,8,2,35,"key"],[25,11,2,38],[25,14,2,41,"_toPrimitive"],[25,26,2,53],[25,27,2,54,"arg"],[25,30,2,57],[25,32,2,59],[25,40,2,67],[25,41,2,68],[26,4,2,70],[26,11,2,77],[26,18,2,84,"key"],[26,21,2,87],[26,26,2,92],[26,34,2,100],[26,37,2,103,"key"],[26,40,2,106],[26,43,2,109,"String"],[26,49,2,115],[26,50,2,116,"key"],[26,53,2,119],[26,54,2,120],[27,2,2,122],[28,2,3,0],[28,11,3,9,"_toPrimitive"],[28,23,3,21,"_toPrimitive"],[28,24,3,22,"input"],[28,29,3,27],[28,31,3,29,"hint"],[28,35,3,33],[28,37,3,35],[29,4,3,37],[29,8,3,41],[29,15,3,48,"input"],[29,20,3,53],[29,25,3,58],[29,33,3,66],[29,37,3,70,"input"],[29,42,3,75],[29,47,3,80],[29,51,3,84],[29,53,3,86],[29,60,3,93,"input"],[29,65,3,98],[30,4,3,100],[30,8,3,104,"prim"],[30,12,3,108],[30,15,3,111,"input"],[30,20,3,116],[30,21,3,117,"Symbol"],[30,27,3,123],[30,28,3,124,"toPrimitive"],[30,39,3,135],[30,40,3,136],[31,4,3,138],[31,8,3,142,"prim"],[31,12,3,146],[31,17,3,151,"undefined"],[31,26,3,160],[31,28,3,162],[32,6,3,164],[32,10,3,168,"res"],[32,13,3,171],[32,16,3,174,"prim"],[32,20,3,178],[32,21,3,179,"call"],[32,25,3,183],[32,26,3,184,"input"],[32,31,3,189],[32,33,3,191,"hint"],[32,37,3,195],[32,41,3,199],[32,50,3,208],[32,51,3,209],[33,6,3,211],[33,10,3,215],[33,17,3,222,"res"],[33,20,3,225],[33,25,3,230],[33,33,3,238],[33,35,3,240],[33,42,3,247,"res"],[33,45,3,250],[34,6,3,252],[34,12,3,258],[34,16,3,262,"TypeError"],[34,25,3,271],[34,26,3,272],[34,72,3,318],[34,73,3,319],[35,4,3,321],[36,4,3,323],[36,11,3,330],[36,12,3,331,"hint"],[36,16,3,335],[36,21,3,340],[36,29,3,348],[36,32,3,351,"String"],[36,38,3,357],[36,41,3,360,"Number"],[36,47,3,366],[36,49,3,368,"input"],[36,54,3,373],[36,55,3,374],[37,2,3,376],[38,2,3,377],[38,6,5,13,"SensorContainer"],[38,21,5,28],[38,24,5,28,"exports"],[38,31,5,28],[38,32,5,28,"SensorContainer"],[38,47,5,28],[39,4,6,2],[39,13,6,2,"SensorContainer"],[39,29,6,2],[39,31,6,16],[40,6,6,16],[40,10,6,16,"_classCallCheck2"],[40,26,6,16],[40,27,6,16,"default"],[40,34,6,16],[40,42,6,16,"SensorContainer"],[40,57,6,16],[41,6,7,4,"_defineProperty"],[41,21,7,19],[41,22,7,20],[41,26,7,24],[41,28,7,26],[41,43,7,41],[41,45,7,43],[41,49,7,47,"Map"],[41,52,7,50],[41,53,7,51],[41,54,7,52],[41,55,7,53],[42,4,8,2],[43,4,8,3],[43,15,8,3,"_createClass2"],[43,28,8,3],[43,29,8,3,"default"],[43,36,8,3],[43,38,8,3,"SensorContainer"],[43,53,8,3],[44,6,8,3,"key"],[44,9,8,3],[45,6,8,3,"value"],[45,11,8,3],[45,13,9,2],[45,22,9,2,"getSensorId"],[45,33,9,13,"getSensorId"],[45,34,9,14,"sensorType"],[45,44,9,24],[45,46,9,26,"config"],[45,52,9,32],[45,54,9,34],[46,8,10,4],[46,15,10,11,"sensorType"],[46,25,10,21],[46,28,10,24],[46,31,10,27],[46,34,10,30,"config"],[46,40,10,36],[46,41,10,37,"iosReferenceFrame"],[46,58,10,54],[46,61,10,57],[46,63,10,59],[46,66,10,62,"Number"],[46,72,10,68],[46,73,10,69,"config"],[46,79,10,75],[46,80,10,76,"adjustToInterfaceOrientation"],[46,108,10,104],[46,109,10,105],[47,6,11,2],[48,4,11,3],[49,6,11,3,"key"],[49,9,11,3],[50,6,11,3,"value"],[50,11,11,3],[50,13,12,2],[50,22,12,2,"initializeSensor"],[50,38,12,18,"initializeSensor"],[50,39,12,19,"sensorType"],[50,49,12,29],[50,51,12,31,"config"],[50,57,12,37],[50,59,12,39],[51,8,13,4],[51,12,13,10,"sensorId"],[51,20,13,18],[51,23,13,21],[51,27,13,25],[51,28,13,26,"getSensorId"],[51,39,13,37],[51,40,13,38,"sensorType"],[51,50,13,48],[51,52,13,50,"config"],[51,58,13,56],[51,59,13,57],[52,8,14,4],[52,12,14,8],[52,13,14,9],[52,17,14,13],[52,18,14,14,"nativeSensors"],[52,31,14,27],[52,32,14,28,"has"],[52,35,14,31],[52,36,14,32,"sensorId"],[52,44,14,40],[52,45,14,41],[52,47,14,43],[53,10,15,6],[53,14,15,12,"newSensor"],[53,23,15,21],[53,26,15,24],[53,30,15,28,"Sensor"],[53,45,15,34],[53,46,15,35,"sensorType"],[53,56,15,45],[53,58,15,47,"config"],[53,64,15,53],[53,65,15,54],[54,10,16,6],[54,14,16,10],[54,15,16,11,"nativeSensors"],[54,28,16,24],[54,29,16,25,"set"],[54,32,16,28],[54,33,16,29,"sensorId"],[54,41,16,37],[54,43,16,39,"newSensor"],[54,52,16,48],[54,53,16,49],[55,8,17,4],[56,8,18,4],[56,12,18,10,"sensor"],[56,18,18,16],[56,21,18,19],[56,25,18,23],[56,26,18,24,"nativeSensors"],[56,39,18,37],[56,40,18,38,"get"],[56,43,18,41],[56,44,18,42,"sensorId"],[56,52,18,50],[56,53,18,51],[57,8,19,4],[57,15,19,11,"sensor"],[57,21,19,17],[57,22,19,18,"getSharedValue"],[57,36,19,32],[57,37,19,33],[57,38,19,34],[58,6,20,2],[59,4,20,3],[60,6,20,3,"key"],[60,9,20,3],[61,6,20,3,"value"],[61,11,20,3],[61,13,21,2],[61,22,21,2,"registerSensor"],[61,36,21,16,"registerSensor"],[61,37,21,17,"sensorType"],[61,47,21,27],[61,49,21,29,"config"],[61,55,21,35],[61,57,21,37,"handler"],[61,64,21,44],[61,66,21,46],[62,8,22,4],[62,12,22,10,"sensorId"],[62,20,22,18],[62,23,22,21],[62,27,22,25],[62,28,22,26,"getSensorId"],[62,39,22,37],[62,40,22,38,"sensorType"],[62,50,22,48],[62,52,22,50,"config"],[62,58,22,56],[62,59,22,57],[63,8,23,4],[63,12,23,8],[63,13,23,9],[63,17,23,13],[63,18,23,14,"nativeSensors"],[63,31,23,27],[63,32,23,28,"has"],[63,35,23,31],[63,36,23,32,"sensorId"],[63,44,23,40],[63,45,23,41],[63,47,23,43],[64,10,24,6],[64,17,24,13],[64,18,24,14],[64,19,24,15],[65,8,25,4],[66,8,26,4],[66,12,26,10,"sensor"],[66,18,26,16],[66,21,26,19],[66,25,26,23],[66,26,26,24,"nativeSensors"],[66,39,26,37],[66,40,26,38,"get"],[66,43,26,41],[66,44,26,42,"sensorId"],[66,52,26,50],[66,53,26,51],[67,8,27,4],[67,12,27,8,"sensor"],[67,18,27,14],[67,22,27,18,"sensor"],[67,28,27,24],[67,29,27,25,"isAvailable"],[67,40,27,36],[67,41,27,37],[67,42,27,38],[67,47,27,43,"sensor"],[67,53,27,49],[67,54,27,50,"isRunning"],[67,63,27,59],[67,64,27,60],[67,65,27,61],[67,69,27,65,"sensor"],[67,75,27,71],[67,76,27,72,"register"],[67,84,27,80],[67,85,27,81,"handler"],[67,92,27,88],[67,93,27,89],[67,94,27,90],[67,96,27,92],[68,10,28,6,"sensor"],[68,16,28,12],[68,17,28,13,"listenersNumber"],[68,32,28,28],[68,34,28,30],[69,10,29,6],[69,17,29,13,"sensorId"],[69,25,29,21],[70,8,30,4],[71,8,31,4],[71,15,31,11],[71,16,31,12],[71,17,31,13],[72,6,32,2],[73,4,32,3],[74,6,32,3,"key"],[74,9,32,3],[75,6,32,3,"value"],[75,11,32,3],[75,13,33,2],[75,22,33,2,"unregisterSensor"],[75,38,33,18,"unregisterSensor"],[75,39,33,19,"sensorId"],[75,47,33,27],[75,49,33,29],[76,8,34,4],[76,12,34,8],[76,16,34,12],[76,17,34,13,"nativeSensors"],[76,30,34,26],[76,31,34,27,"has"],[76,34,34,30],[76,35,34,31,"sensorId"],[76,43,34,39],[76,44,34,40],[76,46,34,42],[77,10,35,6],[77,14,35,12,"sensor"],[77,20,35,18],[77,23,35,21],[77,27,35,25],[77,28,35,26,"nativeSensors"],[77,41,35,39],[77,42,35,40,"get"],[77,45,35,43],[77,46,35,44,"sensorId"],[77,54,35,52],[77,55,35,53],[78,10,36,6],[78,14,36,10,"sensor"],[78,20,36,16],[78,24,36,20,"sensor"],[78,30,36,26],[78,31,36,27,"isRunning"],[78,40,36,36],[78,41,36,37],[78,42,36,38],[78,44,36,40],[79,12,37,8,"sensor"],[79,18,37,14],[79,19,37,15,"listenersNumber"],[79,34,37,30],[79,36,37,32],[80,12,38,8],[80,16,38,12,"sensor"],[80,22,38,18],[80,23,38,19,"listenersNumber"],[80,38,38,34],[80,43,38,39],[80,44,38,40],[80,46,38,42],[81,14,39,10,"sensor"],[81,20,39,16],[81,21,39,17,"unregister"],[81,31,39,27],[81,32,39,28],[81,33,39,29],[82,12,40,8],[83,10,41,6],[84,8,42,4],[85,6,43,2],[86,4,43,3],[87,2,43,3],[88,0,43,3]],"functionMap":{"names":["_defineProperty","<global>","_toPropertyKey","_toPrimitive","SensorContainer","constructor","getSensorId","initializeSensor","registerSensor","unregisterSensor"],"mappings":"AAA,4OC;ACC,2HD;AEC,yXF;OGE;ECC;GDE;EEC;GFE;EGC;GHQ;EIC;GJW;EKC;GLU;CHC"}},"type":"js/module"}]}